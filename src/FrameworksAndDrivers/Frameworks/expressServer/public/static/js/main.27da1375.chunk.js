(this.webpackJsonplocalclient=this.webpackJsonplocalclient||[]).push([[0],{67:function(e,n,t){"use strict";t.r(n);var o,r,c,i=t(2),a=t.n(i),s=t(20),l=t.n(s),u=t(3),d=t(4),j=t(9),b=t(5),f=t(1),h=Object(b.a)(j.a)(o||(o=Object(d.a)(["\n  @keyframes spinning {\n    from {transform: rotate(0deg);}\n    to {transform: rotate(360deg);}\n  }\n\n  animation-name: spinning;\n  animation-duration: .8s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n"]))),g=function(){return Object(f.jsx)(h,{})},O={red:"#f00",green:"green",blue:"#2A43A3",lightBlack:"lightslategrey",darkBlack:"#444",white:"#fff"},p=b.a.form(r||(r=Object(d.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: indianred;\n    display: block;\n    height: 1.2em;\n  }\n\n"])),O.lightBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue),m=t(7),x=a.a.createContext(null),y=t(6);!function(e){e.SETUSERNAME="setUsername",e.SETPASSWORD="setPassword",e.SETISLOADING="setIsLoading",e.SETMESSAGE="setMessage",e.SETINVALIDLOGININFOSTATUS="setInvalidLoginInfoStatus"}(c||(c={}));var S,v,k={username:"",password:"",isLoading:!1,message:"",invalidLoginInfoStatus:!1},C=function(e,n){switch(n.type){case c.SETINVALIDLOGININFOSTATUS:return Object(y.a)(Object(y.a)({},e),{},{invalidLoginInfoStatus:n.payLoad});case c.SETISLOADING:return Object(y.a)(Object(y.a)({},e),{},{isLoading:n.payLoad});case c.SETMESSAGE:return Object(y.a)(Object(y.a)({},e),{},{message:n.payLoad});case c.SETPASSWORD:return Object(y.a)(Object(y.a)({},e),{},{password:n.payLoad});case c.SETUSERNAME:return Object(y.a)(Object(y.a)({},e),{},{username:n.payLoad});default:throw new Error}},E=function(e){var n=e.setLoggedIn,t=Object(i.useReducer)(C,k),o=Object(u.a)(t,2),r=o[0],s=o[1],l=a.a.createRef(),d=a.a.createRef(),j=Object(i.useContext)(x),b={state:r,dispatch:s,textRef:l,passwordRef:d,context:j,setLoggedIn:n};Object(i.useEffect)((function(){l.current&&l.current.focus()}),[]);var h=function(e){!function(e,n){"text"===e.currentTarget.type?n({type:c.SETUSERNAME,payLoad:e.currentTarget.value}):"password"===e.currentTarget.type&&n({type:c.SETPASSWORD,payLoad:e.currentTarget.value}),e.currentTarget.value.length<3?(e.currentTarget.style.borderColor="indianred",n({type:c.SETINVALIDLOGININFOSTATUS,payLoad:!0}),n({type:c.SETMESSAGE,payLoad:"Username or Password must be at least 3 characters long"})):(e.currentTarget.style.borderColor=O.green,e.currentTarget.style.borderColor=O.green,n({type:c.SETINVALIDLOGININFOSTATUS,payLoad:!1}),n({type:c.SETMESSAGE,payLoad:""}))}(e,s)};return Object(f.jsxs)(p,{onSubmit:function(e){e.preventDefault(),function(e){if(e.state.username.length<3){if(e.textRef.current)return e.textRef.current.focus(),e.dispatch({type:c.SETMESSAGE,payLoad:"Username or Password must be at least 3 characters long "}),!1}else if(e.state.password.length<3&&e.passwordRef.current)return e.passwordRef.current.focus(),e.dispatch({type:c.SETMESSAGE,payLoad:"Username or Password must be at least 3 characters long "}),!1;return!0}(b)&&function(e){e.dispatch({type:c.SETISLOADING,payLoad:!0}),e.dispatch({type:c.SETMESSAGE,payLoad:""});var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.state.username,password:e.state.password})};fetch("/users/login",n).then((function(e){return e.json()})).then((function(n){if(e.dispatch({type:c.SETISLOADING,payLoad:!1}),n.error)e.dispatch({type:c.SETMESSAGE,payLoad:n.error});else{var t,o;document.cookie="token=".concat(n.token,"; expires=Thu, 18 Dec 2078 12:00:00 UTC");var r=n.user._userInfo;null===(t=e.context)||void 0===t||t.setLoggedInUser(r),null===(o=e.context)||void 0===o||o.setToken(n.token),e.setLoggedIn()}}))}(b)},children:[Object(f.jsxs)("div",{className:"heading",children:["User Login",Object(f.jsx)(m.h,{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Username",onChange:h,value:r.username,ref:l})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",placeholder:"password",onChange:h,value:r.password,ref:d})}),Object(f.jsxs)("button",{disabled:r.invalidLoginInfoStatus,children:[Object(f.jsx)("span",{id:"left",children:"Login"}),r.isLoading&&Object(f.jsx)(g,{})]}),Object(f.jsx)("div",{className:"textMessage",children:r.message})]})},T=b.a.form(S||(S=Object(d.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: ",";\n    display: block;\n    height: 1.2em;\n  }\n\n  .green {\n    color: ","\n  }\n\n"])),O.lightBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue,O.red,O.green);!function(e){e.SETUSERNAME="setUsername",e.SETPASSWORD="setPassword",e.SETISLOADING="setIsLoading",e.SETMESSAGE="setMessage",e.SETINVALIDLOGININFOSTATUS="setInvalidLoginInfoStatus",e.SETSUCCESS="setSuccess"}(v||(v={}));var N,A={username:"",password:"",isLoading:!1,message:"",invalidLoginInfoStatus:!1,success:!1},w=function(e,n){switch(n.type){case v.SETINVALIDLOGININFOSTATUS:return Object(y.a)(Object(y.a)({},e),{},{invalidLoginInfoStatus:n.payLoad});case v.SETISLOADING:return Object(y.a)(Object(y.a)({},e),{},{isLoading:n.payLoad});case v.SETMESSAGE:return Object(y.a)(Object(y.a)({},e),{},{message:n.payLoad});case v.SETPASSWORD:return Object(y.a)(Object(y.a)({},e),{},{password:n.payLoad});case v.SETUSERNAME:return Object(y.a)(Object(y.a)({},e),{},{username:n.payLoad});case v.SETSUCCESS:return Object(y.a)(Object(y.a)({},e),{},{success:n.payLoad});default:throw new Error}};!function(e){e.OPERATOR="Operator",e.ADMIN="Administrator",e.REGISTRATOR="Registrator",e.SUPERADMIN="SuperAdministrator"}(N||(N={}));var I,R,L,U,D,B,M,P,z,G=N,F=function(e){var n=e.state,t=e.textRef,o=e.passwordRef,r=e.dispatch;return n.username.length<3&&t.current?(t.current.focus(),r({type:v.SETMESSAGE,payLoad:"Username - 3 and Password 8 characters required! "}),!1):!(n.password.length<8&&o.current)||(o.current.focus(),r({type:v.SETMESSAGE,payLoad:"Username - 3 and Password 8 characters required! "}),!1)},V=function(e){e.userType===G.SUPERADMIN?H(e):K(e)},H=function(e){var n=e.dispatch,t=e.userType,o=W(e);fetch("/users/superAdmin",o).then((function(e){return e.json()})).then((function(e){n({type:v.SETISLOADING,payLoad:!1}),e.error?n({type:v.SETMESSAGE,payLoad:e.error}):(n({type:v.SETSUCCESS,payLoad:!0}),n({type:v.SETMESSAGE,payLoad:"".concat(t," Created! Please Reload the page")}))})).catch((function(e){n({type:v.SETMESSAGE,payLoad:e.toString()})}))},K=function(e){var n=e.dispatch,t=e.closeModal,o=e.setUser,r=e.userType,c=W(e);fetch("/users",c).then((function(e){return e.json()})).then((function(e){n({type:v.SETISLOADING,payLoad:!1}),e.error?n({type:v.SETMESSAGE,payLoad:e.error}):(n({type:v.SETSUCCESS,payLoad:!0}),n({type:v.SETMESSAGE,payLoad:"".concat(r," Created! Please Reload the page")}),t&&t(),o&&o(e._userInfo))})).catch((function(e){n({type:v.SETMESSAGE,payLoad:e.toString()})}))},Y=function(e){e.userType===G.ADMIN?_(e):J(e)},_=function(e){var n,t=e.dispatch,o=e.closeModal,r=e.updateDisplableUser,c=e.userType,i=W(e);fetch("/users/admins/".concat(null===(n=e.user)||void 0===n?void 0:n.id),i).then((function(e){return e.json()})).then((function(e){t({type:v.SETISLOADING,payLoad:!1}),e.error?t({type:v.SETMESSAGE,payLoad:e.error}):(t({type:v.SETSUCCESS,payLoad:!0}),t({type:v.SETMESSAGE,payLoad:"".concat(c," Created! Please Reload the page")}),o&&o(),r&&r(e._userInfo))})).catch((function(e){t({type:v.SETMESSAGE,payLoad:e.toString()})}))},J=function(e){var n,t=e.dispatch,o=e.closeModal,r=e.updateDisplableUser,c=e.userType,i=W(e);fetch("/users/".concat(null===(n=e.user)||void 0===n?void 0:n.id),i).then((function(e){return e.json()})).then((function(e){t({type:v.SETISLOADING,payLoad:!1}),e.error?t({type:v.SETMESSAGE,payLoad:e.error}):(t({type:v.SETSUCCESS,payLoad:!0}),t({type:v.SETMESSAGE,payLoad:"".concat(c," Created! Please Reload the page")}),o&&o(),r&&r(e._userInfo))})).catch((function(e){t({type:v.SETMESSAGE,payLoad:e.toString()})}))},W=function(e){var n=e.state,t=e.userType,o=e.context;return{method:e.user?"PATCH":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)},body:JSON.stringify({username:n.username,password:n.password,role:t})}},X=function(e){var n=e.userType,t=e.closeModal,o=e.setUser,r=e.user,c=e.updateDisplableUser,s=Object(i.useReducer)(w,A),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(i.useContext)(x),h=a.a.createRef(),p=a.a.createRef();Object(i.useEffect)((function(){r&&j({type:v.SETUSERNAME,payLoad:r.username})}),[]);var y={state:d,textRef:h,passwordRef:p,dispatch:j,userType:n,closeModal:t,setUser:o,context:b,user:r,updateDisplableUser:c};Object(i.useEffect)((function(){h.current&&h.current.focus()}),[]);var S=function(e){!function(e,n,t){"text"===t.currentTarget.type?n({type:v.SETUSERNAME,payLoad:t.currentTarget.value}):"password"===t.currentTarget.type&&n({type:v.SETPASSWORD,payLoad:t.currentTarget.value}),"text"===t.currentTarget.type&&t.currentTarget.value.length<3||"password"===t.currentTarget.type&&t.currentTarget.value.length<8?(t.currentTarget.style.borderColor="indianred",n({type:v.SETINVALIDLOGININFOSTATUS,payLoad:!0}),n({type:v.SETMESSAGE,payLoad:"Username - 3 and Password 8 characters required!"})):(t.currentTarget.style.borderColor=O.green,t.currentTarget.style.borderColor=O.green,n({type:v.SETINVALIDLOGININFOSTATUS,payLoad:!1}),n({type:v.SETMESSAGE,payLoad:""}))}(0,j,e)};return Object(f.jsxs)(T,{onSubmit:function(e){e.preventDefault(),function(e){var n=e.dispatch;F(e)&&(n({type:v.SETISLOADING,payLoad:!0}),n({type:v.SETMESSAGE,payLoad:""}),e.user?Y(e):V(e))}(y)},onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("div",{className:"heading",children:[r?"Update":"Create"," ",n,Object(f.jsx)(m.h,{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Username",onChange:S,value:d.username,ref:h})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",placeholder:"password",onChange:S,value:d.password,ref:p})}),Object(f.jsxs)("button",{disabled:d.invalidLoginInfoStatus,children:[Object(f.jsx)("span",{id:"left",children:r?"Update":"Create"}),d.isLoading&&Object(f.jsx)(g,{})]}),Object(f.jsx)("div",{className:"".concat(d.success?"textMessage green":"textMessage"),children:d.message})]})},q=t(16),Z=t(12),Q=b.a.div(I||(I=Object(d.a)(["\n  background: rgba(0,0,0,.7);\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  left: 0;\n  z-index: 100000;\n\n  \n\n  &>* {\n\n    @keyframes fall {\n      from {top: -100%;}\n      to {top: 0%;}\n    }\n\n    position: relative;\n    background: #fff;\n    padding: 2em;\n    animation-name: fall;\n    animation-duration: .5s;\n    animation-timing-function: ease-in;\n\n  }\n"]))),$=function(e){var n=e.modalVisibility,t=e.resetModalVisibility,o=e.children;return n?l.a.createPortal(Object(f.jsx)(Q,{onClick:function(e){e.stopPropagation(),t()},children:o}),document.getElementById("portal")):Object(f.jsx)(f.Fragment,{})},ee=b.a.section(R||(R=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 1em .5em 1em .5em;\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n\n  header {\n    font-weight: bold;\n    color: ",";\n    border-bottom: 2px solid ",";\n    width: 100%;\n    padding: 0 0 .2em 0;\n    font-size: 1.3em;\n    margin-bottom: .2em;\n  }\n\n  article {\n    color: ",";\n    padding: .5em 0;\n  }\n  section {\n    margin-top: .3em;\n    align-self: flex-end;\n    display: flex;\n\n    button#confirmButton {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      * {\n        margin: 0 .5em;\n      }\n    }\n\n    button {\n      display: block;\n      margin:0 .5em;\n      background: ",";\n      border: 0;\n      padding: .5em;\n      color: white;\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n\n  div {\n    height: .5em;\n    color: red;\n    border-top: 2px solid ",";\n    width: 100%;\n    margin-top: 1em;\n    font-size: .8em;\n    padding-top: .5em;\n  }\n"])),O.lightBlack,O.blue,O.darkBlack,O.lightBlack,O.blue,O.blue),ne=function(e){var n=Object(i.useState)(""),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],d=function(e){l(e)},j=function(e){r(e)};return Object(f.jsxs)(ee,{onClick:function(e){e.stopPropagation()},children:[Object(f.jsx)("header",{children:e.title}),Object(f.jsx)("article",{children:e.body}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("button",{id:"confirmButton",onClick:function(){e.onConfirm(d,j)},children:["Confirm ",s&&Object(f.jsx)(g,{})]}),Object(f.jsx)("button",{onClick:e.onReject,children:"Cancel"})]}),Object(f.jsx)("div",{children:o})]})},te=b.a.header(L||(L=Object(d.a)(["\n  position: fixed;\n  width: 100%;\n  top: 0;\n  z-index: 1;\n  height: 3.5em;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n\n  #userInfo{\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    \n    span {\n      font-size: 1.5em;\n      color: ",";\n      padding: 0 .5em 0 2em;\n    }\n  }\n\n  .logout {\n    font-size: 2em;\n    color: ",";\n    padding: 0 1.5em;\n    cursor: pointer;\n\n    &:hover{\n      color: ",";\n    }\n  }\n\n  @media(min-width: 800px) {\n    width: 60vw;\n    #userInfo span {\n      padding: 0 .5em 0 .5em;\n    }\n    .logout {\n      padding: 0 .4em;\n    }\n  }\n  @media(min-width: 1080px) {\n    width: 50vw;\n    #userInfo span {\n      padding: 0 .5em 0 .5em;\n    }\n    .logout {\n      padding: 0 .4em;\n    }\n  }\n\n"])),O.lightBlack,O.blue,O.lightBlack,O.red),oe=function(){var e,n,t=Object(i.useState)(!1),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useContext)(x);return Object(f.jsxs)(te,{children:[Object(f.jsxs)("div",{id:"userInfo",children:[Object(f.jsx)("span",{children:Object(f.jsx)(q.c,{})}),null===a||void 0===a||null===(e=a.loggedInUser)||void 0===e?void 0:e.username,", ",null===a||void 0===a||null===(n=a.loggedInUser)||void 0===n?void 0:n.role]}),Object(f.jsx)("div",{className:"logout",onClick:function(e){c(!0)},children:Object(f.jsx)(Z.d,{})}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){c(!1)},children:Object(f.jsx)(ne,{body:"Are you suer to logout?",title:"Logging Out",onConfirm:function(e,n){e(!0);var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===a||void 0===a?void 0:a.token)}};fetch("/users/logout",t).then((function(e){return e.status})).then((function(e){200===e&&(null===a||void 0===a||a.setLoggedInUser(null),c(!1),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC",window.location.reload())}))},onReject:function(){c(!1)}})})]})},re=t(8),ce=t(22),ie=b.a.div(U||(U=Object(d.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\ncolor: ",";\nfont-size: 1.3em;\nfont-weight: bold;\nheight: 2.5em;\nbox-shadow: 3px 3px 3px #ccc;\npadding: 1.5em;\nmargin-bottom: 1em;\nwidth: 95%;\nbox-sizing: border-box;\n\n&:hover{\n  color: ",";\n  cursor: pointer;\n}\n\nspan * {\n  margin-right: 1em;\n  transition: all .1s linear;\n}\n\nspan *:hover {\n  cursor: pointer;\n  transform: translate(0px, -1px);\n}\n\nspan .delete {\n  color: ","\n}\n\n\nspan .edit{\n  color: ",";\n}\n"])),O.lightBlack,O.blue,O.red,O.green),ae=function(e){e.stopPropagation()},se=function(e){return Object(f.jsxs)(ee,{onClick:ae,children:[Object(f.jsx)("header",{children:e.title}),Object(f.jsx)("article",{children:e.body}),Object(f.jsx)("section",{}),Object(f.jsx)("div",{})]})},le=function(e){var n=Object(i.useState)(!0),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1],g=Object(i.useContext)(x),O="Are you sure to delete user ".concat(e.user.username,"?"),p=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("p",{children:["Username: ",e.user.username]}),Object(f.jsxs)("p",{children:["Role: ",e.user.role]})]});return Object(f.jsxs)(ie,{onClick:function(){h(!0),l(!0)},children:[e.user.username,Object(f.jsxs)("span",{children:[Object(f.jsx)(m.e,{className:"edit",onClick:function(e){e.stopPropagation(),r(!0),l((function(e){return!e}))}}),Object(f.jsx)(Z.a,{className:" delete",onClick:function(e){e.stopPropagation(),r(!1),l((function(e){return!e}))}})]}),Object(f.jsx)($,{resetModalVisibility:function(){l(!1),h(!1)},modalVisibility:s,children:b?Object(f.jsx)(se,{title:"User Information",body:p}):o?Object(f.jsx)(X,{userType:e.user.role,user:e.user,closeModal:function(){l(!1)},updateDisplableUser:e.updateDisplableUser}):Object(f.jsx)(ne,{title:"User Confirmation",body:O,onConfirm:function(n,t){n(!0);var o={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===g||void 0===g?void 0:g.token)}};e.user.role===G.ADMIN?fetch("users/admins/".concat(e.user.id),o).then((function(e){return e.status})).then((function(o){200===o?(n(!1),e.deleteUserFromUI(e.user)):(n(!1),t("Error Occured Status Code ".concat(o)))})).catch((function(e){t(e.toString())})):fetch("users/".concat(e.user.id),o).then((function(e){return e.status})).then((function(o){200===o?(n(!1),e.deleteUserFromUI(e.user)):(n(!1),t("Error Occured Status Code ".concat(o)))})).catch((function(e){t(e.toString())}))},onReject:function(){l(!1)}})})]})},ue=b.a.section(D||(D=Object(d.a)(["\n  display: flex;\n  align-self: center;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n  max-width: 700px;\n  padding: .5em;\n  height: 100%;\n\n  div.search {\n    margin-top: 1.5em;\n    color: ",";\n    background: ",";\n    display: flex;\n    font-size: 2em;\n    border-radius: 2em;\n    border: 0;\n    cursor: pointer;\n    align-self: flex-end;\n    transition: all .4s;\n    overflow: hidden;\n    justify-content: flex-end;\n    flex: 0 0 1.5em;\n\n    .search-icon {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex: 0 0 1.5em;\n    }\n\n\n    input {\n      border-radius: inherit;\n      background: ",";\n      color: ",";\n      border: 0;\n      outline: none;\n      width: 90%;\n      font-size: .7em;\n      padding-left: .5em;\n\n      &::placeholder {\n        font-family: Arial, sans-serif;\n        color: ",";\n      }\n    }\n  }\n\n  div.header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    position: sticky;\n    top: 0em;\n    background: ",";\n    padding: 1em;\n    box-sizing: border-box;\n    color: ",";\n  }\n\n  div>span.icon {\n    font-size: 2em;\n    cursor: pointer;\n  }\n"])),O.white,O.red,O.red,O.white,O.lightBlack,O.white,O.blue),de=b.a.section(B||(B=Object(d.a)(["\n  width: 100%;\n  height: 90%;\n  padding: .5em;\n  overflow: auto;\n  scrollbar-color: "," ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n\n  h3{\n    color: ",";\n  }\n\n  &::-webkit-scrollbar {\n    width: 7px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 5px;\n  }\n\n  @media (min-width: 900px) {\n  }\n"])),O.red,O.white,O.blue,O.red),je=function(e){var n=e.handleSearchChange,t=Object(i.useState)(!1),o=Object(u.a)(t,2),r=o[0],c=o[1];return Object(f.jsxs)("div",{className:"search",style:{width:"".concat(r?"100%":"1.5em")},onClick:function(e){e.stopPropagation(),c((function(e){return!e}))},children:[Object(f.jsx)("input",{type:"search",onClick:function(e){e.stopPropagation()},placeholder:"search username",onChange:n}),Object(f.jsx)("span",{className:"search-icon",children:Object(f.jsx)(m.g,{})})]})},be=function(e){return{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}}},fe=function(e){var n=e.userType,t=Object(i.useState)([]),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)([]),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(!1),b=Object(u.a)(j,2),h=b[0],O=b[1],p=Object(i.useContext)(x);Object(i.useEffect)((function(){n===G.ADMIN?function(e,n,t){var o=be(e);fetch("/users/admins",o).then((function(e){return e.json()})).then((function(e){var o=e.map((function(e){return e._userInfo}));n(o.sort((function(e,n){return n.id-e.id}))),t(o.sort((function(e,n){return n.id-e.id})))}))}(p?p.token:"",c,d):function(e,n,t,o){var r=be(e);fetch("/users",r).then((function(e){return e.json()})).then((function(e){var r=e.map((function(e){return e._userInfo}));r=r.filter((function(e){return e.role===o})),n(r.sort((function(e,n){return n.id-e.id}))),t(r.sort((function(e,n){return n.id-e.id})))}))}(p?p.token:"",c,d,n)}),[p,n]);var m=function(e){d(y(e)),c(y(e))},y=function(e){return r.map((function(n){return e.id===n.id?e:n}))},S=function(e){c((function(n){return n.filter((function(n){return e.id!==n.id}))})),d((function(n){return n.filter((function(n){return e.id!==n.id}))}))};return Object(f.jsxs)(ue,{children:[Object(f.jsxs)("div",{className:"header",children:[Object(f.jsxs)("h2",{children:[n,"s"]})," ",Object(f.jsx)("span",{className:"icon",onClick:function(e){O(!0)},children:Object(f.jsx)(ce.b,{})})]}),r.length?Object(f.jsx)(de,{children:r.length?l.map((function(e){return Object(f.jsx)(le,{user:e,updateDisplableUser:m,deleteUserFromUI:S},e.id)})):""}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{})," ",Object(f.jsx)("h3",{children:"No users to Show"})]}),Object(f.jsx)($,{modalVisibility:h,resetModalVisibility:function(){O(!1)},children:Object(f.jsx)(X,{userType:n,closeModal:function(){O(!1)},setUser:function(e){c((function(n){return[e].concat(Object(re.a)(n))})),d((function(n){return[e].concat(Object(re.a)(n))}))}})}),Object(f.jsx)(je,{handleSearchChange:function(e){d(r.filter((function(n){return n.username.includes(e.currentTarget.value)})))}})]})},he=b.a.section(M||(M=Object(d.a)(["\n\n  display: flex;\n  flex-direction: column;\n  height: 80%;\n  width: 100%;\n\n  @media (min-width: 600px) {\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    grid-template-rows: 3em 1fr;\n    grid-template-areas: \n              'sidebar header'\n              'sidebar content';\n   \n  }\n\n  .grid-header {\n    grid-area: header;\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n      \n      nav {\n        color: ",";\n        ul {\n          list-style-type: None;\n          display: flex;\n          justify-content: space-around;\n          width: 100%;\n\n          li.active{\n            color: ",";\n            font-weight: bold;\n\n            &:hover {\n              color: ",";\n              font-weight: bold;\n            }\n          }\n\n          li{\n            display: inline;\n            padding-right: 1.5em;\n            cursor: pointer;\n\n            &:hover {\n              color: ",";\n              font-weight: bold;\n\n              span {\n                color: ",";\n              }\n            }\n\n            span{\n              font-size: 1.5em;\n              text-align: center;\n            }\n          }\n        }\n      }\n    @media (min-width: 600px) {\n      justify-content: center;\n    }\n  }\n\n\n\n\n\n  .grid-sidebar {\n    align-items: flex-start;\n    justify-content: flex-start;\n    display: none;\n\n    @media (min-width: 600px){\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        color: ",";\n      }\n\n\n    ul {\n      margin: 0;\n      padding: 0;\n      list-style-type: none;\n      width: 100%;\n\n      li {\n        margin: 0;\n        padding: .5em;\n        box-sizing: border-box;\n        cursor: pointer;\n        \n        &:hover {\n          font-weight: bold;\n          color: ",";\n        }\n\n        span {\n          color: ",";\n          padding: .5em .3em;\n        }\n      }\n\n      li.active {\n        background: ",";\n        border-left: 5px solid ",";\n        color: ",";\n      }\n    }\n\n    @media (min-width: 600px) {\n      display: flex;\n      grid-area: sidebar;\n    }\n  }\n\n  .grid-content {\n    grid-area: content;\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n    min-height: 70%;\n  }\n\n  @media (min-width: 800px) {\n    width: 60vw;\n  }\n  @media (min-width: 1080px) {\n    width: 50vw;\n  }\n"])),O.darkBlack,O.green,O.green,O.red,O.darkBlack,O.darkBlack,O.green,O.darkBlack,O.lightBlack,O.darkBlack,O.white),ge=function(e){var n=e.children;return Object(f.jsx)(he,{children:n})};!function(e){e.HOME="Home",e.USERS="Users",e.CUSTOMERS="Customers",e.TOKENBASES="Token Bases",e.COUNTERMANAGEMENT="Counter Management",e.CATEGORIES="Token Categories",e.TOKENCOUNT="Token Count",e.PLUGINMANAGEMENT="Plugin Management"}(P||(P={})),function(e){e.OPERATORS="Operators",e.REGISTRATORS="Registrators",e.NOHEADERS="",e.ALLCUSTOMERS="AllCustomers",e.TODAYSCUSTOMERS="TODAYSCUSTOMERS"}(z||(z={}));var Oe,pe,me,xe,ye={category:P.HOME,setCategory:function(e){},headerCategory:z.NOHEADERS,setHeaderCategory:function(e){},tokenFetchURL:"",setTokenFetchURL:function(e){},reloadEnhancer:!1,setReloadEnhancer:function(){}},Se=a.a.createContext(ye),ve=b.a.form(Oe||(Oe=Object(d.a)(["\n  select {\n    padding: .3em;\n    margin: .3em;\n    border :none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n\n    &:hover{\n      cursor: pointer;\n    }\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    border: none;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n"])),O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),ke=function(e){var n=e.closeForm,t=Object(i.useContext)(Se),o=Object(i.useContext)(x),r=Object(i.useState)(""),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)([{category:"",categoryName:"None",currentTokenCount:0,latestCustomerTokenCount:0}]),d=Object(u.a)(l,2),j=d[0],b=d[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}};fetch("tokenbase/getalltokencategories",e).then((function(e){return e.json()})).then((function(e){b((function(n){return[].concat(Object(re.a)(n),Object(re.a)(e))}))}))}),[o]);return Object(f.jsxs)(ve,{onSubmit:function(e){e.preventDefault(),t.setTokenFetchURL("tokenbase/filterbycategory/".concat(a)),n()},onClick:function(e){e.stopPropagation()},children:[Object(f.jsx)("select",{onChange:function(e){s(e.currentTarget.value)},children:j.map((function(e){return Object(f.jsxs)("option",{value:e.category,children:[e.category,"-",e.categoryName]},e.category)}))}),Object(f.jsx)("button",{children:"Filter"})]})},Ce=b.a.form(pe||(pe=Object(d.a)(["\n  input {\n    padding: .3em;\n    margin: .3em;\n    border: none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n    cursor: pointer;\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    color: ",";\n    border: none;\n    cursor: pointer;\n\n    &:hover{\n      background: ",";\n    }\n  }\n"])),O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Ee=function(e){var n=e.closeForm,t=Object(i.useState)(""),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useContext)(Se);return Object(f.jsxs)(Ce,{onSubmit:function(e){e.preventDefault();var t=new Date(r).toString();a.setTokenFetchURL("tokenbase/filterbydate/".concat(t)),n()},onClick:function(e){return e.stopPropagation()},children:["Select Date :  ",Object(f.jsx)("input",{type:"date",onChange:function(e){c(e.currentTarget.value)}}),Object(f.jsx)("button",{children:"Submit"})]})};!function(e){e.CALLAGAIN="CallAgain",e.BYPASS="ByPass",e.FORWARD=" Forward",e.UNPROCESSED="Unprocessed",e.PROCESSED="Processed",e.ASSIGNED="Assigned",e.RANDOMPROCESSED="RandomlyProcessed"}(me||(me={}));var Te,Ne,Ae,we,Ie,Re,Le=b.a.form(xe||(xe=Object(d.a)(["\n  select {\n    padding: .3em;\n    margin: .3em;\n    border :none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n\n    &:hover{\n      cursor: pointer;\n    }\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    border: none;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n"])),O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Ue=function(e){var n=e.closeForm,t=Object(i.useContext)(Se),o=Object(i.useState)(me.ASSIGNED),r=Object(u.a)(o,2),c=r[0],a=r[1];return Object(f.jsxs)(Le,{onSubmit:function(e){e.preventDefault(),t.setTokenFetchURL("tokenbase/filterbystatus/".concat(c)),n()},onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("select",{onChange:function(e){a(e.currentTarget.value)},children:[Object(f.jsx)("option",{value:me.ASSIGNED,children:me.ASSIGNED}),Object(f.jsx)("option",{value:me.BYPASS,children:me.BYPASS}),Object(f.jsx)("option",{value:me.CALLAGAIN,children:me.CALLAGAIN}),Object(f.jsx)("option",{value:me.FORWARD,children:me.FORWARD}),Object(f.jsx)("option",{value:me.PROCESSED,children:me.PROCESSED}),Object(f.jsx)("option",{value:me.RANDOMPROCESSED,children:me.RANDOMPROCESSED}),Object(f.jsx)("option",{value:me.UNPROCESSED,children:me.UNPROCESSED})]}),Object(f.jsx)("button",{children:"Filter"})]})},De=b.a.form(Te||(Te=Object(d.a)(["\n\n  fieldset {\n    border: 2px solid ",";\n\n    legend {\n      font-size: .8em;\n      color: ",";\n    }\n  }\n  select {\n    padding: .3em;\n    margin: .3em;\n    border :none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n\n    &:hover{\n      cursor: pointer;\n    }\n  }\n\n  input {\n    padding: .3em;\n    margin: .3em;\n    border: none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n    cursor: pointer;\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    border: none;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n"])),O.lightBlack,O.green,O.blue,O.darkBlack,O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Be=function(e){var n=e.closeForm,t=Object(i.useContext)(Se),o=Object(i.useState)(me.ASSIGNED),r=Object(u.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)(""),l=Object(u.a)(s,2),d=l[0],j=l[1];return Object(f.jsxs)(De,{onSubmit:function(e){e.preventDefault(),t.setTokenFetchURL("tokenbase/filterbystatusanddate/".concat(c,"/").concat(d)),n()},onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Status"}),Object(f.jsxs)("select",{onChange:function(e){a(e.currentTarget.value)},children:[Object(f.jsx)("option",{value:me.ASSIGNED,children:me.ASSIGNED}),Object(f.jsx)("option",{value:me.BYPASS,children:me.BYPASS}),Object(f.jsx)("option",{value:me.CALLAGAIN,children:me.CALLAGAIN}),Object(f.jsx)("option",{value:me.FORWARD,children:me.FORWARD}),Object(f.jsx)("option",{value:me.PROCESSED,children:me.PROCESSED}),Object(f.jsx)("option",{value:me.RANDOMPROCESSED,children:me.RANDOMPROCESSED}),Object(f.jsx)("option",{value:me.UNPROCESSED,children:me.UNPROCESSED})]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Date"}),Object(f.jsx)("input",{type:"date",onChange:function(e){j(e.currentTarget.value)}})]}),Object(f.jsx)("button",{children:"Filter"})]})},Me=b.a.select(Ne||(Ne=Object(d.a)(["\n  border: 0;\n  background: ",";\n  color: ",";\n  font-size: .9em;\n  outline: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),O.white,O.darkBlack),Pe=b.a.div(Ae||(Ae=Object(d.a)(["\n  display: inline-block;\n  font-size: 1.1em;\n"]))),ze=b.a.div(we||(we=Object(d.a)(["\n  font-size: 1.7em;\n  color: ",";\n  width: fit-content;\n  transition: all .2s;\n  &:hover{\n    transform: scale(1.1);\n  }\n"])),O.red),Ge=b.a.li(Ie||(Ie=Object(d.a)(["\n  border-bottom: 2px solid ",";\n  height: fit-content;\n  width: fit-content;\n  padding: 0 !important;\n  \n  button{\n    border: none;\n    background: ",";\n    color: ",";\n    padding: .3em;\n\n    &: hover {\n      background: ",";\n      cursor: pointer;\n    }\n  }\n"])),O.blue,O.lightBlack,O.white,O.blue);!function(e){e.SHOWALL="Show All",e.STATUS="Status",e.STATUSANDDATE="Status & Date",e.DATE="Date",e.UNCATEGORIZED="Uncategorized",e.CATEGORY="Category"}(Re||(Re={}));var Fe,Ve,He,Ke,Ye,_e,Je,We,Xe,qe,Ze,Qe,$e,en,nn,tn,on,rn,cn,an,sn,ln,un=function(){var e=Object(i.useContext)(Se),n=Object(i.useContext)(x),t=Object(i.useState)(!1),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(!1),b=Object(u.a)(j,2),h=b[0],g=b[1],O=Object(i.useState)(!1),p=Object(u.a)(O,2),m=p[0],y=p[1],S=Object(i.useState)(Re.SHOWALL),v=Object(u.a)(S,2),k=v[0],C=v[1],E=Object(i.useState)(!1),T=Object(u.a)(E,2),N=T[0],A=T[1];return Object(f.jsxs)("nav",{children:[Object(f.jsxs)("ul",{children:[Object(f.jsxs)(Ge,{children:[Object(f.jsx)(Pe,{children:Object(f.jsx)(Z.c,{})}),Object(f.jsxs)(Me,{onChange:function(e){C(e.currentTarget.value)},children:[Object(f.jsx)("option",{value:Re.SHOWALL,children:Re.SHOWALL}),Object(f.jsx)("option",{value:Re.DATE,children:Re.DATE}),Object(f.jsx)("option",{value:Re.CATEGORY,children:Re.CATEGORY}),Object(f.jsx)("option",{value:Re.STATUS,children:Re.STATUS}),Object(f.jsx)("option",{value:Re.STATUSANDDATE,children:Re.STATUSANDDATE}),Object(f.jsx)("option",{value:Re.UNCATEGORIZED,children:Re.UNCATEGORIZED})]}),Object(f.jsx)("button",{onClick:function(n){k===Re.CATEGORY?c(!0):k===Re.DATE?d(!0):k===Re.SHOWALL?e.setTokenFetchURL("/tokenbase"):k===Re.STATUS?g(!0):k===Re.STATUSANDDATE?y(!0):k===Re.UNCATEGORIZED&&e.setTokenFetchURL("/tokenbase/filterbycategory")},children:"Filter"})]}),Object(f.jsx)("li",{children:Object(f.jsx)(ze,{children:Object(f.jsx)(q.a,{onClick:function(e){A(!0)}})})})]}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){c(!1)},children:Object(f.jsx)(ke,{closeForm:function(){c(!1)}})}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){d(!1)},children:Object(f.jsx)(Ee,{closeForm:function(){d(!1)}})}),Object(f.jsx)($,{modalVisibility:h,resetModalVisibility:function(){g(!1)},children:Object(f.jsx)(Ue,{closeForm:function(){g(!1)}})}),Object(f.jsx)($,{modalVisibility:m,resetModalVisibility:function(){y(!1)},children:Object(f.jsx)(Be,{closeForm:function(){y(!1)}})}),Object(f.jsx)($,{modalVisibility:N,resetModalVisibility:function(){A(!1)},children:Object(f.jsx)(ne,{body:"This will delete all the tokens from storage",title:"Confirm Delete?",onConfirm:function(t,o){var r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};t(!0),fetch("/tokenbase",r).then((function(e){return e.status})).then((function(n){200===n?(A(!1),e.setTokenFetchURL("/"),e.setTokenFetchURL("/tokenbase")):o("Deletion Failed with status code ".concat(n))}))},onReject:function(){return A(!1)}})})]})},dn=function(){var e=Object(i.useContext)(Se);Object(i.useEffect)((function(){e.setHeaderCategory(z.OPERATORS)}),[]);var n=function(n){(n===z.OPERATORS||n===z.REGISTRATORS)&&e.setHeaderCategory(n)};return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:e.headerCategory===z.OPERATORS?"active":"",onClick:function(){n(z.OPERATORS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.b,{})})," Operators"]}),Object(f.jsxs)("li",{className:e.headerCategory===z.REGISTRATORS?"active":"",onClick:function(){n(z.REGISTRATORS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.i,{})})," Registrators"]})]})})},jn=t(13),bn=t(23),fn=t(11),hn=function(){var e=Object(i.useContext)(Se),n=function(n){e.setHeaderCategory(n)};return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:e.headerCategory===z.TODAYSCUSTOMERS?"active":"",onClick:function(){n(z.TODAYSCUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.i,{})})," Today's Customers"]}),Object(f.jsxs)("li",{className:e.headerCategory===z.ALLCUSTOMERS?"active":"",onClick:function(){n(z.ALLCUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.b,{})})," All Customers"]})]})})},gn=b.a.h2(Fe||(Fe=Object(d.a)(["\n  color: ",";\n  font-size: 1.3em;\n  padding-left: 1em;\n"])),O.blue),On=function(){return Object(f.jsx)(gn,{children:"Today's Statistics"})},pn=b.a.h2(Ve||(Ve=Object(d.a)(["\n  color: ",";\n  font-size: 1.1em;\n  font-weight: normal;\n\n  .warning {\n    vertical-align: bottom;\n    font-size: 2em;\n  }\n"])),O.red),mn=function(){return Object(f.jsxs)(pn,{children:[Object(f.jsx)(jn.b,{className:"warning"})," Caution! Use Setting Functionalities Carefully"]})},xn=t(40),yn=t.n(xn),Sn=b.a.div(He||(He=Object(d.a)(["\n  color: ",";\n  font-size: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin-right: .5em;\n"])),O.blue),vn=b.a.section(Ke||(Ke=Object(d.a)(["\n  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2em;\n  min-width: 40%;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    article {\n      padding: 1em;\n      border-radius: 50%;\n      background: ",";\n      color: ",";\n      font-size: 2em;\n      cursor: pointer;\n    }\n  \n    button {\n      background: ",";\n      color: ",";\n      border: none;\n      padding: .5em;\n      margin-top: 1em;\n      border-radius: .3em;\n    }\n\n    div {\n      margin-top: 1em;\n      font-family: Arial, sans-serif;\n      color: ",";\n    }\n\n    progress {\n      margin-top: 1em;\n    }\n\n    div {\n      font-family: Arial, sans-serif;\n      color: ",';\n    }\n\n    input[type="file"] {\n      display: none;\n    }\n  }\n  '])),O.lightBlack,O.darkBlack,O.blue,O.white,O.green,O.green),kn=function(){var e=Object(i.useState)(!1),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useState)(""),c=Object(u.a)(r,2),s=c[0],l=c[1],d=Object(i.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],g=Object(i.useState)(0),O=Object(u.a)(g,2),p=O[0],y=O[1],S=Object(i.useContext)(x),v=Object(i.useContext)(Se),k=a.a.createRef(),C=yn.a.create({baseURL:"/plugins"});return Object(f.jsxs)(Sn,{onClick:function(){o(!0)},children:[Object(f.jsx)(ce.a,{}),Object(f.jsx)($,{modalVisibility:t,resetModalVisibility:function(){o(!1),l(""),h(""),y(0)},children:Object(f.jsx)(vn,{onClick:function(e){return e.stopPropagation()},children:Object(f.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault();var t=null===(n=k.current)||void 0===n?void 0:n.files;if(t){var o=t[0];if(!o||"application/x-zip-compressed"!==o.type&&"application/zip"!==o.type)l("Please Select a Zip file");else{var r=new FormData;r.append("pluginZip",o),C.post("/installFromArchive",r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(null===S||void 0===S?void 0:S.token)},onUploadProgress:function(e){y(Math.round(100*e.loaded/e.total))}}).then((function(e){200===e.status&&(h("Plugin Uploaded Successfully"),v.setReloadEnhancer())}))}}},children:[Object(f.jsxs)("label",{children:[Object(f.jsx)("article",{children:Object(f.jsx)(m.a,{})}),Object(f.jsx)("input",{type:"file",ref:k,onChange:function(e){var n,t=null===(n=k.current)||void 0===n?void 0:n.files;if(t){var o=t[0];l(o.name),y(0),h("")}}})]}),Object(f.jsx)("div",{children:s}),Object(f.jsx)("button",{children:"Upload"}),0!==p&&Object(f.jsx)("progress",{max:"100",value:p}),Object(f.jsx)("div",{children:b})]})})})]})},Cn=b.a.div(Ye||(Ye=Object(d.a)(["\n  font-size: 1.5em;\n  align-self: center;\n  color: ",";\n  cursor: pointer;\n\n  @media (min-width: 600px) {\n    display: none;\n  }\n\n  ul {\n    margin: 0;\n    padding: .6em 0;\n    list-style-type: none;\n    font-size: .7em;\n    position: absolute;\n    background: ",";\n    border: 1px solid ",";\n    width: 40%;\n    z-index: 100000;\n\n    li {\n      margin: 0;\n      padding: .5em;\n      box-sizing: border-box;\n      cursor: pointer;\n      color: ",";\n      \n      &:hover {\n        font-weight: bold;\n        color: ",";\n      }\n\n      span {\n        color: ",";\n        padding: .5em .3em;\n      }\n    }\n\n    li.active {\n      background: ",";\n      border-left: 5px solid ",";\n      color: ",";\n    }\n\n"])),O.red,O.white,O.lightBlack,O.darkBlack,O.green,O.darkBlack,O.lightBlack,O.darkBlack,O.white),En=function(){var e=Object(i.useContext)(Se),n=Object(i.useState)(Object(f.jsx)(f.Fragment,{})),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(P.HOME),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(!1),b=Object(u.a)(d,2),h=b[0],g=b[1];Object(i.useEffect)((function(){l(e.category?e.category:P.HOME),g(!1),e.category===P.USERS?r(Object(f.jsx)(dn,{})):e.category===P.TOKENBASES?r(Object(f.jsx)(un,{})):e.category===P.CUSTOMERS?r(Object(f.jsx)(hn,{})):e.category===P.HOME?r(Object(f.jsx)(On,{})):e.category===P.TOKENCOUNT?r(Object(f.jsx)(mn,{})):e.category===P.PLUGINMANAGEMENT?r(Object(f.jsx)(kn,{})):r(Object(f.jsx)(f.Fragment,{}))}),[e]);var O=function(n){l(n),e.setCategory(n)};return Object(f.jsxs)("section",{className:"grid-header",children:[Object(f.jsxs)(Cn,{children:[Object(f.jsx)(jn.a,{onClick:function(){g((function(e){return!e}))}}),h&&Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:s===P.HOME?"active":"",onClick:function(){return O(P.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})})," Home"]}),Object(f.jsxs)("li",{className:s===P.USERS?"active":"",onClick:function(){return O(P.USERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})}),"Users"]}),Object(f.jsxs)("li",{className:s===P.CATEGORIES?"active":"",onClick:function(){return O(P.CATEGORIES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.b,{})}),"Categories"]}),Object(f.jsxs)("li",{className:s===P.CUSTOMERS?"active":"",onClick:function(){return O(P.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(bn.a,{})}),"Customers"]}),Object(f.jsxs)("li",{className:s===P.TOKENBASES?"active":"",onClick:function(){return O(P.TOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.c,{})}),"Token Bases"]}),Object(f.jsxs)("li",{className:s===P.COUNTERMANAGEMENT?"active":"",onClick:function(){return O(P.COUNTERMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.f,{})}),"Counters"]}),Object(f.jsxs)("li",{className:e.category===P.TOKENCOUNT?"active":"",onClick:function(){O(P.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.a,{})}),"TokenCount"]}),Object(f.jsxs)("li",{className:e.category===P.PLUGINMANAGEMENT?"active":"",onClick:function(){O(P.PLUGINMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.c,{})}),"Plugins"]})]})]}),o]})},Tn=function(){var e=Object(i.useContext)(Se),n=Object(i.useState)(P.HOME),t=Object(u.a)(n,2),o=t[0],r=t[1],c=function(n){r(n),e.setCategory(n)};return Object(i.useEffect)((function(){e.category?r(e.category):r(P.HOME)}),[e]),Object(f.jsx)("nav",{className:"grid-sidebar",children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:o===P.HOME?"active":"",onClick:function(){return c(P.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})})," Home"]}),Object(f.jsxs)("li",{className:o===P.USERS?"active":"",onClick:function(){return c(P.USERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})}),"Users"]}),Object(f.jsxs)("li",{className:o===P.CATEGORIES?"active":"",onClick:function(){return c(P.CATEGORIES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.b,{})}),"Categories"]}),Object(f.jsxs)("li",{className:o===P.CUSTOMERS?"active":"",onClick:function(){return c(P.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(bn.a,{})}),"Customers"]}),Object(f.jsxs)("li",{className:o===P.TOKENBASES?"active":"",onClick:function(){return c(P.TOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.c,{})}),"Token Bases"]}),Object(f.jsxs)("li",{className:o===P.COUNTERMANAGEMENT?"active":"",onClick:function(){return c(P.COUNTERMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.f,{})}),"Counters"]}),Object(f.jsxs)("li",{className:e.category===P.TOKENCOUNT?"active":"",onClick:function(){c(P.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.a,{})}),"TokenCount"]}),Object(f.jsxs)("li",{className:e.category===P.PLUGINMANAGEMENT?"active":"",onClick:function(){c(P.PLUGINMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.c,{})}),"Plugins"]})]})})},Nn=b.a.section(_e||(_e=Object(d.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  padding: .5em;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n  scrollbar-color: "," ",";\n  scrollbar-width: 5px;\n\n  &::-webkit-scrollbar {\n    width: 7px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 5px;\n  }\n"])),O.red,O.white,O.red),An=function(e){var n=e.children;return Object(f.jsx)(Nn,{children:n})},wn=b.a.section(Je||(Je=Object(d.a)(["\n  margin: .3em;\n  padding: .3em;\n  box-shadow: 3px 3px 3px #ccc;\n  border-radius: .3em;\n  flex: 1 1 auto;\n  color: ",";\n\n  h3{\n    color: ",";\n    border-bottom: 2px solid ",";\n    font-size: 1em;\n    margin: 0;\n  }\n\n  article {\n    padding: .3em;\n\n    p{\n      margin: 0;\n      paddig: 0;\n      font-size: .9em;\n\n      span {\n        font-weight: bold;\n      }\n\n      span.green {\n        color: ",";\n      }\n      span.blue{\n        color: ",";\n      }\n      span.red{\n        color: ",";\n      }\n    }\n  }\n"])),O.darkBlack,O.blue,O.blue,O.green,O.blue,O.red),In=function(){var e=Object(i.useContext)(x),n=Object(i.useState)([]),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(""),a=Object(u.a)(c,2),s=a[0],l=a[1];return Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/tokenbase/getalltokencategories",n).then((function(e){return e.json()})).then((function(e){var t=new Date;fetch("tokenbase/filterbydate/".concat(t.toString()),n).then((function(e){return e.json()})).then((function(n){n.error?l("No tokens in tokenbase"):(e.push({category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}),e.forEach((function(e){var t=n.filter((function(n){return n._token.tokenCategory===e.category})),o=e.categoryName,c=t.length,i=t.filter((function(e){return e._currentStatus===me.UNPROCESSED})).length,a={name:o,symbol:e.category,totalTokens:c,unprocessed:i};r((function(e){return[a].concat(Object(re.a)(e))}))})))}))}))}),[e]),Object(f.jsx)(An,{children:o.length?o.map((function(e){return Object(f.jsxs)(wn,{children:[Object(f.jsxs)("h3",{children:["Category: ",e.symbol]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("p",{children:["Name: ",Object(f.jsx)("span",{className:"green",children:e.name})]}),Object(f.jsxs)("p",{children:["Total Tokens: ",Object(f.jsx)("span",{className:"blue",children:e.totalTokens})]}),Object(f.jsxs)("p",{children:["Unprocessed: ",Object(f.jsx)("span",{className:"red",children:e.unprocessed})]})]})]},e.symbol?e.symbol:"-")})):Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:s}),Object(f.jsx)(g,{})]})})},Rn=t(14),Ln=t(15),Un=b.a.section(We||(We=Object(d.a)(["\n  color: ",";\n  font-size: .9em;\n  border-bottom: 2px solid ",";\n  margin: .5em 0;\n  padding: .5em 0;\n  \n  h3.cardHeading{\n    font-size: 1.2em;\n  }\n\n  article {\n    span {\n      font-size: .9em;\n      display: inline-block;\n      color: ",";\n    }\n\n    .icon {\n      vertical-align: top;\n      color: ",";\n    }\n  }\n"])),O.darkBlack,O.darkBlack,O.darkBlack,O.darkBlack),Dn=function(e){var n=e.tokenProcessing;return Object(f.jsxs)(Un,{children:[Object(f.jsxs)("h3",{className:"cardHeading",children:["Processed By : ",n._operator._userInfo.username]}),Object(f.jsxs)("article",{children:["Counter: ",n._operator._userInfo.counter," ",Object(f.jsx)("br",{}),"Status: ",n._status,Object(f.jsx)("br",{}),Object(f.jsx)(Rn.b,{className:"icon"})," ",Object(f.jsx)("span",{children:new Date(n._timeStamp).toLocaleDateString()})," ",Object(f.jsx)("br",{}),Object(f.jsx)(Ln.a,{className:"icon"})," ",Object(f.jsx)("span",{children:new Date(n._timeStamp).toLocaleTimeString()})]})]})},Bn=b.a.section(Xe||(Xe=Object(d.a)(["\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  box-shadow: 3px 3px 3px #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: .5em;\n  border-radius: .3em;\n  cursor: pointer;\n  margin: .3em;\n  color: ",";\n\n  &:hover {\n    box-shadow: 3px 3px 5px #ccc;\n  }\n\n  h3{\n    padding: 0;\n    margin: 0;\n    color: ",";\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid ",";\n\n    span {\n      color: ",";\n      font-size: 1.3em;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n  article {\n    margin-top: .3em;\n    font-size: .9em;\n    color: ",";\n\n    span {\n      font-weight: bold;\n      color: ",";\n      padding-left: .3em;\n    }\n  }\n"])),O.darkBlack,O.blue,O.blue,O.lightBlack,O.red,O.darkBlack,O.green),Mn=b.a.section(qe||(qe=Object(d.a)(["\n  padding: 1em .5em;\n  max-height: 60vh;\n  overflow: auto;\n  scrollbar-color: "," ",";\n  scrollbar-width: 5px;\n\n  &::-webkit-scrollbar {\n    width: 7px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 5px;\n  }\n\n  h2{\n    color: ",";\n    margin: 0;\n    padding: 0;\n    font-size: 1.3em;\n    border-bottom: 3px solid ",";\n  }\n\n  article {\n    h3{\n      font-size: 1em;\n      color: ",";\n      margin: .3em 0 0 0;\n      padding: 0;\n    }\n\n    p{\n      font-size: .8em;\n      margin: .5em 0;\n\n      span {\n        color: ","\n      }\n    }\n\n    div {\n      font-size: .8em;\n      color: ",";\n    }\n  }\n"])),O.red,O.white,O.red,O.blue,O.blue,O.darkBlack,O.green,O.red),Pn=function(e){var n=e.tokenBase,t=Object(i.useState)(!1),o=Object(u.a)(t,2),r=o[0],c=o[1];return Object(f.jsxs)(Bn,{onClick:function(){return c(!0)},children:[Object(f.jsxs)("h3",{children:["Token No. : ",n._token.tokenCategory?n._token.tokenCategory:"",n._token.tokenNumber]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("section",{children:["Token I.D : ",Object(f.jsx)("span",{children:n._token.tokenId})," "]}),Object(f.jsxs)("section",{children:[Object(f.jsx)(Rn.b,{})," ",Object(f.jsx)("span",{children:new Date(n._token.date).toLocaleDateString()})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)(Ln.a,{})," ",Object(f.jsx)("span",{children:new Date(n._token.date).toLocaleTimeString()})]})]}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){return c(!1)},children:Object(f.jsxs)(Mn,{children:[Object(f.jsxs)("h2",{children:["Token No : ",n._token.tokenCategory,n._token.tokenNumber,", ID : ",n._token.tokenId]}),Object(f.jsxs)("article",{children:[Object(f.jsx)("h3",{children:"Token Processing Information: "}),Object(f.jsxs)("p",{children:["Current Status : ",Object(f.jsx)("span",{children:n._currentStatus})]}),n.tokenProcessingInfo.length?n.tokenProcessingInfo.map((function(e,n){return Object(f.jsx)(Dn,{tokenProcessing:e},n)})):Object(f.jsx)("div",{children:"No Token Processing Information"})]})]})})]})},zn=function(){var e=Object(i.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useContext)(Se),c=Object(i.useContext)(x),a=Object(i.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1];return Object(i.useEffect)((function(){var e=!0;if(e&&"/"!==r.tokenFetchURL){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}};d(!0),fetch(r.tokenFetchURL,n).then((function(e){return e.json()})).then((function(e){if(e.length){var n=e.sort((function(e,n){return n._token.tokenId-e._token.tokenNumber}));o(n)}else o([]);d(!1)}))}return function(){e=!1}}),[c,r.tokenFetchURL]),Object(f.jsxs)(An,{children:[t.length?t.map((function(e){return Object(f.jsx)(Pn,{tokenBase:e},e._token.tokenId)})):Object(f.jsx)(g,{}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){d(!1)},children:Object(f.jsxs)("div",{children:["Loading... ",Object(f.jsx)(g,{})]})})]})},Gn=function(){var e=Object(i.useContext)(Se);Object(i.useEffect)((function(){e.setHeaderCategory(z.OPERATORS)}),[]);var n=e.headerCategory===z.REGISTRATORS?Object(f.jsx)(fe,{userType:G.REGISTRATOR}):Object(f.jsx)(fe,{userType:G.OPERATOR});return Object(f.jsx)(f.Fragment,{children:n})},Fn=b.a.form(Ze||(Ze=Object(d.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  fieldset {\n    border: 2px solid ",";\n    \n    legend {\n      font-size: .8em;\n      color: ",";\n    }\n\n    div.tokenCategory {\n      justify-content: flex-start;\n      display: flex;\n      flex-direction: row;\n      \n      select {\n        padding: .3em;\n        margin: .5em;\n        border: none;\n        border-bottom: 3px solid ",";\n        color: ",";\n        outline: none;\n  \n        option {\n          color: ",";\n        }\n      }\n      \n      label {\n        color: ",";\n      }\n  \n      button {\n        margin: .3em;\n        font-size: .8em;\n      }\n\n      button:disabled{\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: ",";\n    display: block;\n    height: 1.2em;\n  }\n\n  .green {\n    color: ","\n  }\n\n"])),O.lightBlack,O.blue,O.green,O.lightBlack,O.darkBlack,O.darkBlack,O.darkBlack,O.lightBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue,O.red,O.green),Vn=function(e){var n=e.customer,t=e.updateCustomersList,o=e.modalClose,r=e.updateCustomerInUI,c=Object(i.useContext)(x),s=Object(i.useState)(""),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(i.useState)(""),h=Object(u.a)(b,2),O=h[0],p=h[1],y=Object(i.useState)(""),S=Object(u.a)(y,2),v=S[0],k=S[1],C=Object(i.useState)(!1),E=Object(u.a)(C,2),T=E[0],N=E[1],A=Object(i.useState)(""),w=Object(u.a)(A,2),I=w[0],R=w[1],L=Object(i.useState)(!1),U=Object(u.a)(L,2),D=U[0],B=U[1],M=Object(i.useState)([{category:"",categoryName:"None",currentTokenCount:0,latestCustomerTokenCount:0}]),P=Object(u.a)(M,2),z=P[0],G=P[1],F=a.a.createRef(),V=a.a.createRef(),H=a.a.createRef();Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}};fetch("/tokenbase/getalltokencategories",e).then((function(e){return e.json()})).then((function(e){var n=e;G((function(e){return[].concat(Object(re.a)(e),Object(re.a)(n))}));var t=localStorage.getItem("registrationCategory");t&&(n.find((function(e){return e.category===t}))?k(t):(k(""),localStorage.setItem("registrationCategory","")))})).catch((function(e){R(e.toString())})),n&&(j(n.customerName),p(n.remarks?n.remarks:""),k(n.token.tokenCategory?n.token.tokenCategory:""))}),[]);var K=function(){N(!0);var e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({customerName:d,tokenCategory:v,remarks:O})};fetch("/customer",e).then((function(e){return e.json()})).then((function(e){e.error?(B(!1),R(e.error)):(B(!0),R("Customer Created"),t&&t(e),o()),N(!1)})).catch((function(e){B(!1),R(e.toString()),N(!1)}))},Y=function(){N(!0);var e={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({customerName:d,tokenCategory:v,remarks:O})};fetch("customer/".concat(null===n||void 0===n?void 0:n.customerId),e).then((function(e){return e.json()})).then((function(e){e.error?(B(!1),R(e.error)):(B(!0),R("Customer Updated"),r&&r(e),o()),N(!1)})).catch((function(e){B(!1),R(e.toString()),N(!1)}))};return Object(f.jsxs)(Fn,{onClick:function(e){e.stopPropagation()},onSubmit:function(e){e.preventDefault(),d.length?n?Y():K():R("Name must not be empty")},children:[Object(f.jsxs)("div",{className:"heading",children:[n?"Update":"Create"," Customer",Object(f.jsx)(m.h,{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Customer Name",onChange:function(e){e.preventDefault(),j(e.currentTarget.value)},value:d,ref:F})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Remarks",onChange:function(e){e.preventDefault(),p(e.currentTarget.value)},value:O,ref:V})}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Category"}),Object(f.jsxs)("div",{className:"tokenCategory",children:[Object(f.jsx)("select",{onChange:function(e){k(e.currentTarget.value)},disabled:!!n,value:v,children:z.map((function(e){return Object(f.jsxs)("option",{value:e.category,children:[e.category," - ",e.categoryName]},e.category)}))}),Object(f.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),localStorage.setItem("registrationCategory",v)},disabled:!!n,children:"Default"}),Object(f.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),H.current&&(H.current.value=""),localStorage.removeItem("registrationCategory")},disabled:!!n,children:"Clear"})]})]}),Object(f.jsxs)("button",{children:[Object(f.jsx)("span",{id:"left",children:n?"Update":"Create"}),T&&Object(f.jsx)(g,{})]}),Object(f.jsx)("div",{className:"".concat(D?"textMessage green":"textMessage"),children:I})]})},Hn=b.a.article(Qe||(Qe=Object(d.a)(["\n  background: ",";\n  box-shadow: 2px 2px 5px #ccc;\n  margin: .6em;\n  box-sizing: border-box;\n  padding: .5em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  tranition: all .4s;\n  border-radius: .3em;\n  flex: 1 1 auto;\n  height: max-content;\n\n  h3{\n    margin: 0;\n    padding: 0;\n    color: ",";\n    font-size: 1.3em;\n  }\n\n  header {\n    color: ",";\n    font-size: .9em;\n    border-bottom: 2px solid ",";\n    margin-top: .2em;\n    width: 100%;\n    span{\n      color: ",";\n      font-weight: bold;\n    }\n  }\n  \n  section {\n    margin: .5em 0;\n    align-self: flex-start;\n    display: flex;\n    flex-direction: column;\n    font-size: .8em;\n    color: ",";\n\n    span{\n      margin: .1em 0;\n      color: ",";\n      .icon{\n        color: ",";\n        padding: .5em;\n      }\n    }\n\n  }\n\n  \n  &:hover {\n    cursor: pointer;\n    box-shadow: 2px 2px 10px #ccc;\n    h3{\n      color: green;\n    }\n  }\n"])),O.white,O.lightBlack,O.darkBlack,O.lightBlack,O.green,O.darkBlack,O.darkBlack,O.darkBlack),Kn=function(e){var n=e.customer,t=e.updateCustomerOnUI,o=Object(i.useState)(!1),r=Object(u.a)(o,2),c=r[0],a=r[1],s=Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("p",{children:["Customer ID: ",n.customerId,Object(f.jsx)("br",{}),"Token ID: ",n.token.tokenId,Object(f.jsx)("br",{}),"Token Number: ",n.token.tokenCategory,n.token.tokenNumber,Object(f.jsx)("br",{}),"Remarks: ",n.remarks,Object(f.jsx)("br",{}),"Timestamp: ",new Date(n.token.date).toLocaleString()]})});return Object(f.jsxs)(Hn,{onClick:function(){a(!0)},children:[Object(f.jsx)("h3",{children:n.customerName}),Object(f.jsxs)("header",{children:["Token No: ",Object(f.jsxs)("span",{children:[n.token.tokenCategory,n.token.tokenNumber]})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)(Rn.b,{})}),Object(f.jsx)("span",{children:new Date(n.token.date).toLocaleDateString()})]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)(Ln.a,{})}),Object(f.jsx)("span",{children:new Date(n.token.date).toLocaleTimeString()})]})]}),Object(f.jsx)($,{modalVisibility:c,resetModalVisibility:function(){return a(!1)},children:t?Object(f.jsx)(Vn,{modalClose:function(){return a(!1)},customer:n,updateCustomerInUI:t}):Object(f.jsx)(se,{body:s,title:n.customerName})})]})},Yn=b.a.div($e||($e=Object(d.a)(["\nmargin-top: 1.5em;\ncolor: ",";\nbackground: ",";\ndisplay: flex;\nfont-size: 2em;\nborder-radius: 2em;\nborder: 0;\ncursor: pointer;\nalign-self: flex-end;\ntransition: all .4s;\noverflow: hidden;\njustify-content: flex-end;\nflex: 0 0 1.5em;\n\n.search-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 0 0 1.5em;\n}\n\n\ninput {\n  border-radius: inherit;\n  background: ",";\n  color: ",";\n  border: 0;\n  outline: none;\n  width: 90%;\n  font-size: .7em;\n  padding-left: .5em;\n\n  &::placeholder {\n    font-family: Arial, sans-serif;\n    color: ",";\n  }\n}\n"])),O.white,O.red,O.red,O.white,O.lightBlack),_n=function(e){var n=e.handleSearchChange,t=e.placeholderText,o=Object(i.useState)(!1),r=Object(u.a)(o,2),c=r[0],a=r[1];return Object(f.jsxs)(Yn,{style:{width:"".concat(c?"100%":"1.5em")},onClick:function(e){e.stopPropagation(),a((function(e){return!e}))},children:[Object(f.jsx)("input",{type:"search",onClick:function(e){e.stopPropagation()},placeholder:t,onChange:n}),Object(f.jsx)("span",{className:"search-icon",children:Object(f.jsx)(m.g,{})})]})},Jn=b.a.div(en||(en=Object(d.a)(["\n    \n    padding: 1em .5em;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    overflow: hidden;\n\n    div.search {\n      margin-top: 1.5em;\n      color: ",";\n      background: ",";\n      display: flex;\n      font-size: 2em;\n      border-radius: 2em;\n      border: 0;\n      cursor: pointer;\n      align-self: flex-end;\n      transition: all .4s;\n      overflow: hidden;\n      justify-content: flex-end;\n      flex: 0 0 1.5em;\n  \n      .search-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex: 0 0 1.5em;\n      }\n  \n  \n      input {\n        border-radius: inherit;\n        background: ",";\n        color: ",";\n        border: 0;\n        outline: none;\n        width: 90%;\n        font-size: .7em;\n        padding-left: .5em;\n  \n        &::placeholder {\n          font-family: Arial, sans-serif;\n          color: ",";\n        }\n      }\n    }\n\n    section.list-container {\n      height: 100%;\n      overflow: scroll;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      flex-wrap: wrap;\n      scrollbar-color: "," ",";\n      scrollbar-width: 5px;\n\n      &::-webkit-scrollbar {\n        width: 7px;\n      }\n    \n      &::-webkit-scrollbar-thumb {\n        background-color: ",";\n        border-radius: 5px;\n      }\n    }\n\n\n    h2{\n      font-size: 1.5em;\n      padding: 0;\n      margin: 0;\n      margin-left: 3em;\n      color: ",";\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n      width: 100%;\n\n      section{\n        sup {\n          font-size: .5em;\n          box-sizing: border-box;\n          height: 2.3em;\n          width: 2.3em;\n          margin-left: .3em;\n          background: ",";\n          color: ",";\n          border-radius: 50%;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        span.delete{\n          color: red;\n        }\n      }\n\n      span{\n        font-size: 1.5em;\n        cursor: pointer;\n      }\n    }\n  "])),O.white,O.red,O.red,O.white,O.lightBlack,O.red,O.white,O.red,O.blue,O.red,O.white),Wn=function(){var e=Object(i.useContext)(x),n=Object(i.useContext)(Se),t=Object(i.useState)([]),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)([]),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(""),b=Object(u.a)(j,2),h=b[0],O=b[1],p=Object(i.useState)(!1),m=Object(u.a)(p,2),y=m[0],S=m[1];Object(i.useEffect)((function(){var t=!0;if(n.setHeaderCategory(n.headerCategory===z.ALLCUSTOMERS||n.headerCategory===z.TODAYSCUSTOMERS?n.headerCategory:z.TODAYSCUSTOMERS),t){var o={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Berer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/customer",o).then((function(e){return e.json()})).then((function(e){if(e.error)O(e.error.toString());else if(n.headerCategory===z.ALLCUSTOMERS)c(e.sort((function(e,n){return n.customerId-e.customerId}))),d(e.sort((function(e,n){return n.customerId-e.customerId})));else{var t=e.filter((function(e){var n=new Date(e.token.date),t=new Date;return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()}));c(t.sort((function(e,n){return n.customerId-e.customerId}))),d(t.sort((function(e,n){return n.customerId-e.customerId})))}}))}return function(){t=!1}}),[null===e||void 0===e?void 0:e.token,n]);return Object(f.jsxs)(Jn,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)("section",{children:["Customers",Object(f.jsx)("sup",{children:r.length})]})}),h,Object(f.jsxs)("section",{className:"list-container",children:[r.length?"":Object(f.jsx)(g,{}),l.map((function(e){return Object(f.jsx)(Kn,{customer:e},e.customerId)}))]}),Object(f.jsx)(_n,{handleSearchChange:function(e){var n=r.filter((function(n){return n.customerName.includes(e.currentTarget.value)}));d(n)},placeholderText:"Search By Customer Name"}),Object(f.jsx)($,{modalVisibility:y,resetModalVisibility:function(){return S(!1)},children:Object(f.jsx)(ne,{body:"This will delete all Customers stored",title:"Delete All Customers?",onConfirm:function(n,t){n(!0);var o={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/customer/delete/allcustomers",o).then((function(e){return e.status})).then((function(e){200===e?(c([]),d([]),S(!1)):t("Error occured with status: ".concat(e))}))},onReject:function(){S(!1)}})})]})},Xn=b.a.article(nn||(nn=Object(d.a)(["\n  background: ",";\n  box-shadow: 2px 2px 5px #ccc;\n  margin: .6em;\n  box-sizing: border-box;\n  padding: .5em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  tranition: all .4s;\n  border-radius: .3em;\n  flex: 1 1 auto;\n\n  h3{\n    margin: 0;\n    padding: 0;\n    color: ",";\n    font-size: .9em;\n  }\n\n  p{\n    color: ",";\n  }\n\n  &:hover {\n    cursor: pointer;\n    box-shadow: 2px 2px 10px #ccc;\n    h3{\n      color: green;\n    }\n\n    p{\n      color: red;\n    }\n  }\n"])),O.white,O.lightBlack,O.green),qn=function(e){var n=e.operator,t=e.cardClickFunction;return Object(f.jsxs)(Xn,{onClick:t,children:[Object(f.jsx)("h3",{children:n.username}),Object(f.jsx)("p",{children:n.counter?n.counter:"-"})]})},Zn=b.a.section(tn||(tn=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 1em .5em 1em .5em;\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n\n  header {\n    font-weight: bold;\n    color: ",";\n    border-bottom: 2px solid ",";\n    width: 100%;\n    padding: 0 0 .2em 0;\n    font-size: 1.3em;\n    margin-bottom: .2em;\n  }\n\n  article {\n    color: ",";\n    padding: .5em 0;\n    \n    input {\n      border: none;\n      border-bottom: 2px solid ",";\n      padding: .5em;\n      outline: none;\n      width: 3em;\n      text-align: center;\n      text-transform: uppercase;\n    }\n  }\n  section {\n    margin-top: .3em;\n    align-self: center;\n    display: flex;\n\n    button#confirmButton {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      * {\n        margin: 0 .5em;\n      }\n    }\n\n    button {\n      display: block;\n      margin:0 .5em;\n      background: ",";\n      border: 0;\n      padding: .5em;\n      color: white;\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n\n  div {\n    height: .5em;\n    color: red;\n    border-top: 2px solid ",";\n    width: 100%;\n    margin-top: 1em;\n    font-size: .8em;\n    padding-top: .5em;\n  }\n"])),O.lightBlack,O.blue,O.darkBlack,O.blue,O.lightBlack,O.blue,O.blue),Qn=function(e){var n=e.operator,t=e.closeModalFn,o=e.updateAnOperatorFn,r=Object(i.useState)(""),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)((null===n||void 0===n?void 0:n.counter)?n.counter:""),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(i.useState)(!1),O=Object(u.a)(h,2),p=O[0],m=O[1],y=Object(i.useContext)(x);return Object(f.jsxs)(Zn,{onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("header",{children:["Counter for ",null===n||void 0===n?void 0:n.username]}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),s("");var r={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y&&y.token)}};fetch("users/setcounter/".concat(null===n||void 0===n?void 0:n.id,"/").concat(j),r).then((function(e){return e.status})).then((function(e){200===e?(t(),n&&(n.counter=j,o(n))):s(500===e?"Error Counter : ".concat(j," already occupied"):e.toString()),m(!1)}))},children:[Object(f.jsxs)("article",{children:["Enter a counter Character:",Object(f.jsx)("input",{type:"text",onChange:function(e){e.preventDefault(),b(e.currentTarget.value.toUpperCase())},value:j})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("button",{id:"confirmButton",children:["OK ",p&&Object(f.jsx)(g,{})]}),Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),t&&t()},children:"Cancel"})]})]}),Object(f.jsx)("div",{children:a})]})},$n=function(){var e=Object(i.useContext)(x),n=Object(i.useState)([]),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(null),j=Object(u.a)(d,2),b=j[0],h=j[1];Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/users",n).then((function(e){return e.json()})).then((function(e){var n=e.map((function(e){return e._userInfo})).filter((function(e){return e.role===G.OPERATOR}));r(n)}))}),[e]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(An,{children:o.length?o.map((function(e){return Object(f.jsx)(qn,{cardClickFunction:function(){!function(e){l(!0),h(e)}(e)},operator:e},e.id)})):Object(f.jsx)(g,{})}),Object(f.jsx)($,{modalVisibility:s,resetModalVisibility:function(){l(!1)},children:Object(f.jsx)(Qn,{operator:b,closeModalFn:function(){l(!1)},updateAnOperatorFn:function(e){console.log(e),r((function(n){return n.map((function(n){return n.username===e.username?e:n}))}))}})})]})},et=b.a.form(on||(on=Object(d.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  div.tokenCategory {\n    justify-content: flex-start;\n    \n    label {\n      color: ",";\n    }\n\n    input {\n      width: 1em;\n    }\n\n    button {\n      margin: 0 .3em;\n    }\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: ",";\n    display: block;\n    height: 1.2em;\n  }\n\n  .green {\n    color: ","\n  }\n\n"])),O.lightBlack,O.darkBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue,O.red,O.green),nt=function(e){var n=e.category,t=e.categoryName,o=e.addNewCategory,r=e.updateACategory,c=Object(i.useContext)(x),s=a.a.createRef(),l=a.a.createRef(),d=Object(i.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1],O=Object(i.useState)(!1),p=Object(u.a)(O,2),m=p[0],y=p[1],S=Object(i.useState)(""),v=Object(u.a)(S,2),k=v[0],C=v[1],E=Object(i.useState)(""),T=Object(u.a)(E,2),N=T[0],A=T[1],w=Object(i.useState)(""),I=Object(u.a)(w,2),R=I[0],L=I[1];Object(i.useEffect)((function(){n&&A(n),t&&L(t)}),[n,t]);var U=function(){var e={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({category:N,categoryName:R})};fetch("/tokenbase/updatecategoryname",e).then((function(e){return e.status})).then((function(e){200===e?(y(!0),C("Category updated"),r&&r({category:N,categoryName:R,currentTokenCount:0,latestCustomerTokenCount:0})):(y(!1),C("Failed with staus code :".concat(e)))})).catch((function(e){y(!1),C(e.toString())}))},D=function(){var e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({category:N,categoryName:R})};fetch("/tokenbase/createtokencategory",e).then((function(e){return e.status})).then((function(e){201===e?(y(!0),C("Category Created"),o&&o({category:N,categoryName:R,currentTokenCount:0,latestCustomerTokenCount:0})):(y(!1),C("Failed with staus code :".concat(e)))})).catch((function(e){y(!1),C(e.toString())}))};return Object(f.jsx)("div",{children:Object(f.jsxs)(et,{onSubmit:function(e){h(!0),e.preventDefault(),n?U():D()},onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("div",{className:"heading",children:[n?"Update":"Create"," Category"]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Category Name",onChange:function(e){L(e.currentTarget.value)},value:R,ref:s})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Category Symbol (1 character)",maxLength:1,onChange:function(e){A(e.target.value.toUpperCase())},value:N,ref:l,disabled:!!n})}),Object(f.jsxs)("button",{children:[Object(f.jsx)("span",{id:"left",children:n?"Update":"Create"}),b&&Object(f.jsx)(g,{})]}),Object(f.jsx)("div",{className:"".concat(m?"textMessage green":"textMessage"),children:k})]})})},tt=b.a.section(rn||(rn=Object(d.a)(["\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  box-shadow: 3px 3px 3px #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: .5em;\n  border-radius: .3em;\n  cursor: pointer;\n  margin: .3em;\n\n  &:hover {\n    box-shadow: 3px 3px 5px #ccc;\n  }\n\n  h3{\n    padding: 0;\n    margin: 0;\n    color: ",";\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid ",";\n\n    span {\n      color: ",";\n      font-size: 1.3em;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n  article {\n    margin-top: .3em;\n    font-size: .9em;\n    color: ",";\n\n    span {\n      font-weight: bold;\n      color: ",";\n      padding-left: .3em;\n    }\n  }\n"])),O.blue,O.blue,O.lightBlack,O.red,O.darkBlack,O.green),ot=function(e){var n=Object(i.useContext)(x),t=Object(i.useState)(!1),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1];return Object(f.jsxs)(tt,{onClick:function(){c(!0)},children:[Object(f.jsxs)("h3",{children:[e.categoryName," ",Object(f.jsx)("span",{onClick:function(e){e.stopPropagation(),d(!0)},children:Object(f.jsx)(Ln.b,{})})]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("section",{children:["Category: ",Object(f.jsx)("span",{children:e.category})," "]}),Object(f.jsxs)("section",{children:["No.Of Tokens: ",Object(f.jsx)("span",{children:e.latestCustomerCount})]}),Object(f.jsxs)("section",{children:["Currently Calling: ",Object(f.jsx)("span",{children:e.currentCustomerCount})]})]}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){c(!1)},children:Object(f.jsx)(nt,{category:e.category,categoryName:e.categoryName,updateACategory:function(n){e.updateACategory(n),c(!1)}})}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){d(!1)},children:Object(f.jsx)(ne,{onConfirm:function(t,o){t(!0);var r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/tokenbase/deletecategory/".concat(e.category),r).then((function(e){return e.status})).then((function(n){200===n?(e.deleteAcategory(e.category),c(!1)):o("Error while deleting with status code : ".concat(n))})).catch((function(e){o(e.toString())}))},onReject:function(){d(!1)},title:"Delete Category ".concat(e.category),body:"Confirming this action will delete this category"})})]})},rt=b.a.section(cn||(cn=Object(d.a)(["\n  width: 100%;\n  height: 90%;\n  h2 {\n    font-size: 1.5em;\n    padding: 0;\n    margin: 0;\n    margin-left: 2em;\n    color: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n    span {\n      cursor: pointer;\n      font-size: 1.5em;\n    }\n\n  }\n"])),O.blue),ct=function(){var e=Object(i.useContext)(x),n=Object(i.useState)(!1),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)([]),a=Object(u.a)(c,2),s=a[0],l=a[1];Object(i.useEffect)((function(){var n=!0;if(n){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/tokenbase/getalltokencategories",t).then((function(e){return e.json()})).then((function(e){l(e)}))}return function(){n=!1}}),[e]);var d=function(e){l((function(n){return n.map((function(n){return e.category===n.category?e:n}))}))},j=function(e){l((function(n){return n.filter((function(n){return n.category!==e}))}))};return Object(f.jsxs)(rt,{children:[Object(f.jsxs)("h2",{children:["Categories ",Object(f.jsx)("span",{className:"icon",onClick:function(){r(!0)},children:Object(f.jsx)(q.b,{})})]}),Object(f.jsx)(An,{children:s.length?s.map((function(e){return Object(f.jsx)(ot,{category:e.category,categoryName:e.categoryName,currentCustomerCount:e.currentTokenCount,latestCustomerCount:e.latestCustomerTokenCount,deleteAcategory:j,updateACategory:d},e.category)})):Object(f.jsx)(g,{})}),Object(f.jsx)($,{modalVisibility:o,resetModalVisibility:function(){r(!1)},children:Object(f.jsx)(nt,{addNewCategory:function(e){l((function(n){return[e].concat(Object(re.a)(n))})),r(!1)}})})]})},it=b.a.section(an||(an=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  margin: .3em;\n  box-shadow: 3px 3px 3px #ccc;\n  flex: 1 1 auto;\n\n  h3{\n    margin: 0;\n    padding: 0;\n    color: ",";\n    border-bottom: 2px solid ",";\n    width: 100%;\n    font-size: 1.1em;\n  }\n\n  article {\n    margin: .3em 0;\n    padding: 0;\n    font-size: .9em;\n    color: ",";\n\n    p{\n      margin: .3em 0;\n      padding: 0;\n\n      span{\n        color: ",";\n        font-weight: bold;\n      }\n    }\n    div {\n      margin: .3em;\n      display: flex;\n      justify-content: space-between;\n      width: 100%;\n\n      input {\n        border: none;\n        outline: none;\n        border-bottom: 2px solid ",";\n        text-align: center;\n        font-weight :bold;\n        color: ",";\n        font-size: .9em;\n        cursor: pointer;\n      }\n\n      button {\n        border: none;\n        background: ",";\n        color: ",";\n        padding: .2em 1em;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n\n    div.message {\n      min-height: 1.2em;\n      border-top: 1px solid ",";\n    }\n  }\n"])),O.blue,O.blue,O.darkBlack,O.green,O.blue,O.green,O.lightBlack,O.white,O.blue,O.lightBlack),at=function(e){var n=e.categoryInterface,t=Object(i.useContext)(x),o=Object(i.useState)(""),r=Object(u.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)(""),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(i.useState)(""),h=Object(u.a)(b,2),g=h[0],O=h[1];Object(i.useEffect)((function(){var e,o,r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}};e=n.category?"/tokencount/categorytokencount/".concat(n.category):"/tokencount",fetch(e,r).then((function(e){return e.json()})).then((function(e){n.category?a(e.currentCustomerCountOfCategory):a(e.currentCustomerTokenCount)})),o=n.category?"tokencount/categorytokencount/latestcustomercount/".concat(n.category):"/tokencount/lastcustomertokencount",fetch(o,r).then((function(e){return e.json()})).then((function(e){n.category?j(e.lastCustomerCount):j(e.lastCustomerTokenCount)}))}),[null===t||void 0===t?void 0:t.token,n.category]);return Object(f.jsxs)(it,{children:[Object(f.jsxs)("h3",{children:["Category: ",n.category]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("p",{children:["Category Name : ",Object(f.jsx)("span",{children:n.categoryName})]}),Object(f.jsxs)("div",{children:["Token Calling : ",Object(f.jsx)("input",{type:"text",size:3,value:c,onChange:function(e){a(e.currentTarget.value)}}),Object(f.jsx)("button",{onClick:function(e){var o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)},body:JSON.stringify({category:n.category})};if(n.category){var r="tokencount/categorytokencount/categorycountpreset/".concat(c);fetch(r,o).then((function(e){return e.status})).then((function(e){O(200===e?"Set Successfully":"Setting Failed Status : ".concat(e))}))}else{var i="tokencount/presettokencount/".concat(c);fetch(i,o).then((function(e){return e.status})).then((function(e){O(200===e?"Set Successfully":"Setting Failed Status : ".concat(e))}))}},children:"Set"})]}),Object(f.jsxs)("div",{children:["Highest Count : ",Object(f.jsx)("input",{type:"text",size:3,value:d,onChange:function(e){j(e.currentTarget.value)}}),Object(f.jsx)("button",{onClick:function(e){var o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)},body:JSON.stringify({category:n.category})};if(n.category){var r="tokencount/categorytokencount/latestcustomercountset/".concat(d);fetch(r,o).then((function(e){return e.status})).then((function(e){O(200===e?"Set Successfully":"Setting Failed Status : ".concat(e))}))}else{var c="tokencount/setlastcustomertokencount/".concat(d);fetch(c,o).then((function(e){return e.status})).then((function(e){O(200===e?"Set Successfully":"Setting Failed Status : ".concat(e))}))}},children:"Set"})]}),Object(f.jsx)("div",{className:"message",children:g})]})]})},st=function(){var e=Object(i.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useContext)(x);return Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}};fetch("tokenbase/getalltokencategories",e).then((function(e){return e.json()})).then((function(e){var n={category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0};e.unshift(n),o(e)}))}),[r]),Object(f.jsx)(An,{children:t.map((function(e){return Object(f.jsx)(at,{categoryInterface:e},e.category?e.category:"-")}))})},lt=b.a.section(sn||(sn=Object(d.a)(["\n  color: ",";\n  font-family: Arial, sans-serif;\n"])),O.lightBlack),ut=function(e){var n=e.pluginID,t=Object(i.useContext)(x),o=Object(i.useState)(),r=Object(u.a)(o,2),c=r[0],a=r[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}};fetch("/plugins/".concat(n),e).then((function(e){return e.json()})).then((function(e){a(e)}))}),[null===t||void 0===t?void 0:t.token,n]);return Object(f.jsx)(lt,{onClick:function(e){e.stopPropagation()},children:Object(f.jsx)("table",{children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Plugin Name : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.name})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Plugin ID :  "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.pluginId})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Description : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.pluginDescription})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Version : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.version})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Min Core Version : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.minCoreVersion})]})]})})})};!function(e){e.TEXT="text",e.NUMBER="number",e.RADIO="radio",e.SELECT="select",e.CHECKBOX="checkbox"}(ln||(ln={}));var dt,jt,bt,ft,ht,gt,Ot,pt,mt,xt,yt,St,vt=function(e){var n=Object(f.jsx)(f.Fragment,{});return e.configType===ln.TEXT||e.configType===ln.NUMBER?n=Object(f.jsx)(kt,Object(y.a)({},e)):e.configType===ln.RADIO?n=Object(f.jsx)(Ct,Object(y.a)({},e)):e.configType===ln.SELECT?n=Object(f.jsx)(Et,Object(y.a)({},e)):e.configType===ln.CHECKBOX&&(n=Object(f.jsx)(Tt,Object(y.a)({},e))),n},kt=function(e){return Object(f.jsxs)("span",{children:[e.name," : ",Object(f.jsx)("input",{type:e.configType,name:e.name,defaultValue:e.value})]})},Ct=function(e){var n,t=typeof e.value,o=null===(n=e.choiceOptions)||void 0===n?void 0:n.map((function(n,o){return Object(f.jsxs)("span",{children:[Object(f.jsx)("input",{type:e.configType,value:n,name:e.name,defaultChecked:"string"===t&&e.value===n})," ",n]},o)}));return Object(f.jsxs)("span",{children:[e.name," : ",o]})},Et=function(e){var n,t=Object(i.useState)(""),o=Object(u.a)(t,2),r=o[0],c=o[1];Object(i.useEffect)((function(){c(e.value)}),[]);var a=null===(n=e.choiceOptions)||void 0===n?void 0:n.map((function(e,n){return Object(f.jsx)("option",{value:e,children:e},n)}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("span",{children:[e.name," : ",Object(f.jsx)("select",{name:e.name,value:r,onChange:function(e){c(e.currentTarget.value)},children:a})]})})},Tt=function(e){var n,t=typeof e.value,o=e.value,r=null===(n=e.choiceOptions)||void 0===n?void 0:n.map((function(n,r){return Object(f.jsxs)("span",{children:[Object(f.jsx)("input",{type:e.configType,value:n,name:e.name,defaultChecked:"string"!==t&&!!o.find((function(e){return e===n}))})," ",n]},r)}));return Object(f.jsxs)("span",{children:[e.name," : ",null===r||void 0===r?void 0:r.map((function(e){return e}))]})},Nt=function(e){return Object(f.jsx)(f.Fragment,{children:vt(e.pluginConfigElement)})},At=b.a.form(dt||(dt=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  color: ",";\n\n  span {\n    display: flex;\n    margin: .3em;\n    align-items: center;\n  }\n\n  input {\n    margin: .3em;\n    cursor: pointer;\n  }\n\n  button {\n    width: 40%;\n    background: ",";\n    color: ",';\n    border-radius: .3em;\n    border: none;\n    padding: .5em;\n    cursor: pointer;\n    align-self: center;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  input[type="text"], input[type="number"] {\n    border: none;\n    border-bottom: 2px solid ',";\n    outline: none;\n    font-family: Arial, sans-serif;\n    font-size: 1em;\n    padding: .3em;\n    color: ",';\n  }\n\n  input[type="text"]: focus, input[type="number"]: focus {\n    border-bottom: 2px solid ',";\n    color: ",";\n  }\n  select {\n    border: none;\n    outline: none;\n    border-bottom: 2px solid ",";\n    padding: .3em;\n    margin: .3em;\n  }\n\n  select: focus {\n    border-bottom: 2px solid ",";\n  }\n\n  div.message {\n    margin-top: 1em;\n    font-size: .9em;\n    color: ",";\n  }\n"])),O.darkBlack,O.blue,O.white,O.lightBlack,O.green,O.blue,O.blue,O.lightBlack,O.green,O.green),wt=function(e){var n=Object(i.useState)(""),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(i.useContext)(x),j=e.pluginConfigElements.map((function(e,n){return Object(f.jsx)(Nt,{pluginConfigElement:e},n)})),b=function(n){var t=[];return e.pluginConfigElements.forEach((function(e){var o=n.currentTarget[e.name];o instanceof RadioNodeList?h(o,e):e.value=o.value,t.push(e)})),t},h=function(e,n){var t=[];e.forEach((function(e){"checkbox"===e.type?e.checked&&t.push(e.value):e.checked&&(t=e.value)})),n.value=t},O=function(n){var t={pluginsConfig:n},o={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===d||void 0===d?void 0:d.token)},body:JSON.stringify(t)};fetch("/plugins/config/".concat(e.pluginId),o).then((function(e){return e.json()})).then((function(e){r(e.success),l(!1)})).catch((function(e){r(e.toString())}))};return Object(f.jsxs)(At,{onSubmit:function(e){e.preventDefault(),l(!0),r("Updating...");var n=b(e);O(n)},children:[j,Object(f.jsxs)("button",{children:["Update ",s&&Object(f.jsx)(g,{})]}),Object(f.jsx)("div",{className:"message",children:o})]})},It=b.a.section(jt||(jt=Object(d.a)(["\n  font-family: Arial, sans-serif;\n\n  h2{\n    color: ",";\n    border-bottom: 1px solid ",";\n    padding: .3em;\n    margin: 0;\n    font-size: 1.2em;\n  }\n\n  article{\n    margin: 1em;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    p {\n      margin: 1em;\n    }\n  }\n\n"])),O.blue,O.blue),Rt=function(e){var n=a.a.useContext(x),t=Object(i.useState)([]),o=Object(u.a)(t,2),r=o[0],c=o[1],s=Object(i.useState)(""),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(i.useState)(),h=Object(u.a)(b,2),O=h[0],p=h[1];Object(i.useEffect)((function(){var t={method:"Get",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("plugins/config/".concat(e.pluginId),t).then((function(e){return e.json()})).then((function(e){e.error?j(e.error):c(e)})),fetch("plugins/".concat(e.pluginId),t).then((function(e){return e.json()})).then((function(e){p(e)}))}),[null===n||void 0===n?void 0:n.token,e.pluginId]);return Object(f.jsxs)(It,{onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("h2",{children:["Settings For Plugin: ",null===O||void 0===O?void 0:O.pluginInfo.name]}),r.length?Object(f.jsx)("article",{children:Object(f.jsx)(wt,{pluginConfigElements:r,pluginId:e.pluginId})}):Object(f.jsxs)("article",{children:[Object(f.jsx)(g,{})," ",Object(f.jsx)("p",{children:d})]})]})},Lt=b.a.section(bt||(bt=Object(d.a)(["\n  font-family: Arial, sans-serif;\n  color: ",";\n  h2{\n    font-size: 1.2em;\n    border-bottom: 2px solid ",";\n    color: ",';\n  }\n\n  form {\n    article{\n      display: flex;\n      justify-content: center;\n      *{\n        margin: .3em;\n      }\n\n      input[type="text"] {\n        border: none;\n        outline: none;\n        border-bottom: 2px solid ',";\n        color: ",";\n        font-size: 1em;\n      }\n\n      button {\n        border: none;\n        color: ",";\n        padding: .5em;\n        border-radius: .3em;\n\n        &:hover {\n          cursor: pointer;\n        }\n      }\n\n      button#getButton {\n        background: ",";\n      }\n\n      button#submitButton {\n        background: ",";\n        display: flex;\n        justify-content: space-around;\n        width: 30%;\n        align-items: center;\n\n        *{\n          margin: .3em;\n        }\n      }\n    }\n  }\n\n  div.message{\n    margin: .8em;\n  }\n"])),O.darkBlack,O.blue,O.blue,O.blue,O.darkBlack,O.white,O.blue,O.green),Ut=function(e){var n=e.pluginId,t=Object(i.useContext)(x),o=Object(i.useContext)(Se),r=Object(i.useState)(),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(i.useState)(""),O=Object(u.a)(h,2),p=O[0],m=O[1],y=Object(i.useState)(!1),S=Object(u.a)(y,2),v=S[0],k=S[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}};fetch("/plugins/".concat(n),e).then((function(e){return e.json()})).then((function(e){s(e)}))}),[]);return Object(f.jsxs)(Lt,{onClick:function(e){e.stopPropagation()},children:[Object(f.jsxs)("h2",{children:["Activation for ",null===a||void 0===a?void 0:a.pluginInfo.name]}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(!0),m("Updating...");var r={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)},body:JSON.stringify({pluginId:n,pluginValidatorId:j})};fetch("/plugins/setvalidatorid",r).then((function(e){return e.json()})).then((function(e){e.error?m(e.error):(o.setReloadEnhancer(),m(e.success))})).catch((function(e){m(e.toString())})),k(!1)},children:[Object(f.jsxs)("article",{children:[Object(f.jsx)("label",{children:"Serial Key: "}),Object(f.jsx)("input",{type:"text",value:j,onChange:function(e){b(e.currentTarget.value)}}),Object(f.jsx)("button",{type:"button",id:"getButton",children:"Get"})]}),Object(f.jsx)("article",{children:Object(f.jsxs)("button",{type:"submit",id:"submitButton",children:["Activate ",v&&Object(f.jsx)(g,{})]})})]}),Object(f.jsx)("div",{className:"message",children:p})]})},Dt=b.a.section(ft||(ft=Object(d.a)(["\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  box-shadow: 3px 3px 3px #ccc;\n  display: flex;\n  flex-direction: row;\n  padding: .5em;\n  border-radius: .3em;\n  margin: .3em;\n  align-items: center;\n\n  &:hover {\n    box-shadow: 3px 3px 6px #aaa;\n  }\n  \n  section {\n    padding: .7em;\n    background: ",";\n    color: ",";\n    display: flex;\n    align-items: center;\n    border-radius: 50%;\n    font-size: 1.2em;\n    margin: .5em;\n  }\n\n  article {\n    h3{\n      margin: 0;\n      padding: 0;\n      color: ",";\n      font-weight: normal;\n    }\n    article {\n      font-size: .9em;\n      font-style: italic;\n    }\n\n    button {\n      color: ",";\n      border: none;\n      padding: .4em;\n      border-radius: .3em;\n      margin: .3em;\n      cursor: pointer;\n    }\n\n    button#configuration {\n      background: ",";\n    }\n\n    button#delete {\n      background: ",";\n    }\n    \n    button#registration {\n      background: ",";\n      justify-self: center;\n    }\n  }\n\n"])),O.lightBlack,O.darkBlack,O.green,O.white,O.blue,O.red,O.green),Bt=function(){var e=Object(i.useContext)(x),n=Object(i.useContext)(Se),t=Object(i.useState)([]),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(!1),b=Object(u.a)(j,2),h=b[0],O=b[1],p=Object(i.useState)(!1),y=Object(u.a)(p,2),S=y[0],v=y[1],k=Object(i.useState)(!1),C=Object(u.a)(k,2),E=C[0],T=C[1],N=Object(i.useState)(0),A=Object(u.a)(N,2),w=A[0],I=A[1],R=Object(i.useState)("Loading..."),L=Object(u.a)(R,2),U=L[0],D=L[1];Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/plugins",n).then((function(e){return e.json()})).then((function(e){e.error?D(e.error):c(e)}))}),[n,e]);var B=function(e,n){e.stopPropagation(),I(n),v(!0)};return Object(f.jsxs)(An,{children:[r.length?r.map((function(e){return Object(f.jsxs)(Dt,{onClick:function(){var n;n=e.plugin.pluginInfo.pluginId,I(n),d(!0)},children:[Object(f.jsx)("section",{children:Object(f.jsx)(m.d,{})}),Object(f.jsxs)("article",{children:[Object(f.jsx)("h3",{children:e.plugin.pluginInfo.name}),Object(f.jsxs)("article",{children:["Version : ",e.plugin.pluginInfo.version?e.plugin.pluginInfo.version:"-"]}),e.valid?Object(f.jsxs)("article",{children:[Object(f.jsx)("button",{id:"configuration",onClick:function(n){return function(e,n){e.stopPropagation(),I(n),O(!0)}(n,e.plugin.pluginInfo.pluginId)},children:"Settings"}),Object(f.jsx)("button",{id:"delete",onClick:function(n){B(n,e.plugin.pluginInfo.pluginId)},children:"Delete"})]}):Object(f.jsxs)("article",{children:[Object(f.jsx)("button",{id:"registration",onClick:function(n){!function(e,n){e.stopPropagation(),I(n),T(!0)}(n,e.plugin.pluginInfo.pluginId)},children:"Activate"}),Object(f.jsx)("button",{id:"delete",onClick:function(n){B(n,e.plugin.pluginInfo.pluginId)},children:"Delete"})]})]})]},e.plugin.pluginInfo.pluginId)})):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{})," ",U]}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){return d(!1)},children:Object(f.jsx)(ut,{pluginID:w})}),Object(f.jsx)($,{modalVisibility:S,resetModalVisibility:function(){return v(!1)},children:Object(f.jsx)(ne,{onConfirm:function(t,o){t(!0);var r={method:"Delete",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/plugins/".concat(w),r).then((function(e){return e.json()})).then((function(e){n.setReloadEnhancer(),o(e.success),t(!1),v(!1),n.setReloadEnhancer()})).catch((function(e){o(e.toString())}))},onReject:function(){v(!1)},title:"Confirm Plugin Delete",body:"Confirming your action will delete the plugin"})}),Object(f.jsx)($,{modalVisibility:h,resetModalVisibility:function(){O(!1)},children:Object(f.jsx)(Rt,{pluginId:w})}),Object(f.jsx)($,{modalVisibility:E,resetModalVisibility:function(){T(!1)},children:Object(f.jsx)(Ut,{pluginId:w})})]})},Mt=function(){var e=Object(i.useState)(Object(f.jsx)(f.Fragment,{})),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useContext)(Se);return Object(i.useEffect)((function(){r.category===P.HOME?o(Object(f.jsx)(In,{})):r.category===P.USERS?o(Object(f.jsx)(Gn,{})):r.category===P.CUSTOMERS?o(Object(f.jsx)(Wn,{})):r.category===P.TOKENBASES?o(Object(f.jsx)(zn,{})):r.category===P.COUNTERMANAGEMENT?o(Object(f.jsx)($n,{})):r.category===P.CATEGORIES?o(Object(f.jsx)(ct,{})):r.category===P.TOKENCOUNT?o(Object(f.jsx)(st,{})):r.category===P.PLUGINMANAGEMENT&&o(Object(f.jsx)(Bt,{}))}),[r]),Object(f.jsx)("div",{className:"grid-content",children:t})},Pt=function(){var e=Object(i.useState)(P.HOME),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useState)(z.NOHEADERS),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)("/tokenbase"),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(i.useState)(!1),g=Object(u.a)(h,2),O=g[0],p=g[1],m={category:t,setCategory:function(e){o(e)},headerCategory:a,setHeaderCategory:function(e){s(e)},tokenFetchURL:j,setTokenFetchURL:b,reloadEnhancer:O,setReloadEnhancer:function(){p(!O)}};return Object(f.jsx)(Se.Provider,{value:m,children:Object(f.jsxs)(ge,{children:[Object(f.jsx)(En,{}),Object(f.jsx)(Mt,{}),Object(f.jsx)(Tn,{})]})})},zt={category:"",setCategory:function(){},availableCategories:[],setAvailableCategories:function(e){}},Gt=a.a.createContext(zt),Ft=b.a.article(ht||(ht=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  \n  @media (min-width:600px) {\n    transform: translate(-20%, 0);\n  }\n"]))),Vt=b.a.div(gt||(gt=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width :100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  h3{\n    font-size: 1.1em;\n    color: ",";\n    margin :1em 0 0 0;\n    padding: 0;\n  }\n  div.token {\n    font-size: 5em;\n    margin: .1em;\n    padding: 0;\n    border-bottom :3px solid ",";\n    color: ",";\n    width: 3em;\n    text-align: center;\n  }\n  div.message {\n    color: ",";\n    margin: .5em;\n    text-align: center;\n    height: 1.25em;\n  }\n"])),O.blue,O.blue,O.green,O.darkBlack),Ht=b.a.div(Ot||(Ot=Object(d.a)(["\n  width: 100%;\n\n  div.primary {\n    display: flex;\n    justify-content: center;\n\n    button {\n      margin: 1em;\n      padding: .5em;\n      border: 0;\n      background: ",";\n      color: ",";\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n\n  div.secondary {\n    color: ",";\n    margin: 1em 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    div.forward, div.random{\n      margin: .5em 0;\n      \n      select {\n        outline: none;\n        border: none;\n        border-bottom: 2px solid ",";\n        color: ",";\n        font-size: 1em;\n        margin: 0 .3em;\n      }\n\n      button {\n        padding: .5em;\n        background: ",";\n        border: none;\n        color: white;\n        cursor: pointer;\n        margin :0 .3em;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n"])),O.darkBlack,O.white,O.blue,O.darkBlack,O.blue,O.lightBlack,O.lightBlack,O.blue),Kt=b.a.section(pt||(pt=Object(d.a)(["\n  margin: 0;\n  padding: .3em;\n  color: ",";\n\n  h3{\n    color: ",";\n    border-bottom: 2px solid ",";\n    font-size: 1.1em;\n    margin: .5em 0;\n    padding: 0;\n  }\n\n  form {\n    font-size: .9em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-bottom: 2px solid ",";\n\n    .inputs{\n      select {\n        padding: .3em;\n        border: none;\n        border-bottom: 2px solid ",";\n        color: ",";\n      }\n      input {\n        margin: 0 .3em;\n        border : none;\n        outline: none;\n        border-bottom: 2px solid ",";\n        padding: .3em;\n      }\n    }\n    button {\n        border: none;\n        background: ",";\n        outline: none;\n        padding: .5em;\n        margin: .5em 0;\n        color: ",";\n        cursor: pointer;\n\n        &:hover {\n          background: ",";\n        }\n      }\n  }\n\n  .message {\n    height: 1.2em;\n  }\n"])),O.darkBlack,O.blue,O.blue,O.blue,O.blue,O.darkBlack,O.blue,O.darkBlack,O.white,O.blue),Yt=function(){var e=Object(i.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useState)(""),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)([{category:"",categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}]),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(i.useState)(!1),O=Object(u.a)(h,2),p=O[0],m=O[1],y=Object(i.useState)(""),S=Object(u.a)(y,2),v=S[0],k=S[1],C=Object(i.useContext)(x);return Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===C||void 0===C?void 0:C.token)}};fetch("tokenbase/getalltokencategories",e).then((function(e){return e.json()})).then((function(e){b((function(n){return[].concat(Object(re.a)(n),Object(re.a)(e))}))}))}),[null===C||void 0===C?void 0:C.token]),Object(f.jsxs)(Kt,{onClick:function(e){e.stopPropagation()},children:[Object(f.jsx)("h3",{children:"Random Token Call"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),k("Processing Your Call...");var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===C||void 0===C?void 0:C.token)},body:JSON.stringify({category:"".concat(t),actedTokenNumber:"".concat(a)})};fetch("/tokencaller/callrandom",n).then((function(e){return e.json()})).then((function(e){m(!1),e.error?k(e.error):k("Random Calling Succeeded!!")})).catch((function(e){k(e.toString())}))},children:[Object(f.jsxs)("div",{className:"inputs",children:["Category:",Object(f.jsx)("select",{onChange:function(e){o(e.currentTarget.value)},children:j.map((function(e){return Object(f.jsxs)("option",{value:e.category,children:[e.category,"-",e.categoryName]},e.category?e.category:"-")}))}),Object(f.jsx)("input",{type:"number",placeholder:"Token No.",size:5,onChange:function(e){s(e.currentTarget.value)}})]}),Object(f.jsxs)("button",{children:["Call Random ",p&&Object(f.jsx)(g,{})]})]}),Object(f.jsx)("div",{className:"message",children:v})]})},_t=b.a.button(mt||(mt=Object(d.a)(["\n  padding: .5em;\n  background: ",";\n  color: ",";\n  border: none;\n  margin-bottom: .5em;\n\n  &:hover {\n    background: ",";\n    cursor: pointer;\n  }\n"])),O.lightBlack,O.white,O.blue),Jt=b.a.div(xt||(xt=Object(d.a)(["\n  color: ",";\n"])),O.darkBlack),Wt=function(e){var n=e.props,t=Object(i.useState)(""),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(""),b=Object(u.a)(j,2),h=b[0],O=b[1],p=Object(i.useState)(!1),m=Object(u.a)(p,2),y=m[0],S=m[1],v=Object(i.useContext)(x);return Object(f.jsxs)(Ft,{children:[Object(f.jsxs)(Vt,{children:[Object(f.jsx)("h3",{children:"You are Currently Calling :"}),Object(f.jsx)("div",{className:"token",onDoubleClick:function(){var e={date:new Date,tokenId:0,tokenNumber:0,tokenCategory:""};n.setProcessingToken(e),localStorage.setItem(St.PROCESSINGTOKEN,JSON.stringify(e))},children:n.processingToken?"".concat(n.processingToken.tokenCategory?n.processingToken.tokenCategory:"").concat(n.processingToken.tokenNumber):0}),Object(f.jsx)("div",{className:"message",children:n.message})]}),Object(f.jsxs)(Ht,{children:[Object(f.jsxs)("div",{className:"primary",children:[Object(f.jsxs)("button",{onClick:function(){n.handlePrimaryTokenProcessing(yt.CALLAGAIN)},children:["Call Again ",n.isCallAgainProcessing&&Object(f.jsx)(g,{})]}),Object(f.jsxs)("button",{onClick:function(){n.handlePrimaryTokenProcessing(yt.COMPLETED)},children:["Completed ",n.isCompletedProcessing&&Object(f.jsx)(g,{})]}),Object(f.jsxs)("button",{onClick:function(){n.handlePrimaryTokenProcessing(yt.BYPASS)},children:["Bypass ",n.isBypassProcessing&&Object(f.jsx)(g,{})]})]}),Object(f.jsxs)("div",{className:"secondary",children:[Object(f.jsxs)("div",{className:"forward",children:["Forward :",Object(f.jsx)("select",{onChange:function(e){c(e.currentTarget.value)},children:n.allOperators.map((function(e){return Object(f.jsxs)("option",{value:e.counter,children:[e.counter,"-",e.username]},e.id)}))}),Object(f.jsxs)("button",{onClick:function(){n.handleTokenForward(r)},children:["Forward ",n.isForwardProcessing&&Object(f.jsx)(g,{})]})]}),Object(f.jsx)("div",{className:"random",children:Object(f.jsx)("button",{onClick:function(){d(!0)},children:"Random Call"})}),Object(f.jsxs)(_t,{onClick:function(){!function(){S(!0);var e={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===v||void 0===v?void 0:v.token)}};fetch("/tokencaller/removeoperatorlockedState",e).then((function(e){return e.json()})).then((function(e){e.success&&(O("Locked States Removed..."),S(!1),setTimeout((function(){O("")}),2e3))}))}()},children:[y&&Object(f.jsx)(g,{})," Clear Lock"]})]})]}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){d(!1)},children:Object(f.jsx)(Yt,{})}),Object(f.jsx)(Jt,{children:h})]})};!function(e){e.CALLAGAIN="callagaintoken",e.COMPLETED="nexttoken",e.BYPASS="bypasstoken"}(yt||(yt={})),function(e){e.PROCESSINGTOKEN="ProcessingToken"}(St||(St={}));var Xt,qt,Zt=function(){var e=Object(i.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useState)(""),c=Object(u.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(i.useState)(!1),g=Object(u.a)(h,2),O=g[0],p=g[1],m=Object(i.useState)(!1),y=Object(u.a)(m,2),S=y[0],v=y[1],k=Object(i.useState)(!1),C=Object(u.a)(k,2),E=C[0],T=C[1],N=Object(i.useContext)(x),A=Object(i.useContext)(Gt),w=Object(i.useState)(),I=Object(u.a)(w,2),R=I[0],L=I[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===N||void 0===N?void 0:N.token)}},n=localStorage.getItem(St.PROCESSINGTOKEN),t={date:new Date,tokenId:0,tokenNumber:0,tokenCategory:void 0!==A.category?A.category:""};if(n){var r=JSON.parse(n);r.date=new Date(r.date);var c=r.date,i=new Date,a=c.getDate()===i.getDate()&&c.getMonth()===i.getMonth()&&c.getFullYear()===i.getFullYear();L(a?r:t)}else L(t);fetch("/users",e).then((function(e){return e.json()})).then((function(e){var n=null===N||void 0===N?void 0:N.loggedInUser;if(n){var t=e.filter((function(e){return e._userInfo.role===G.OPERATOR&&null!==N&&e._userInfo.id!==n.id})).map((function(e){return e._userInfo})).filter((function(e){return e.counter}));o((function(e){return[].concat(Object(re.a)(e),Object(re.a)(t))}))}}))}),[]);var U=function(e){return e===yt.CALLAGAIN?JSON.stringify({category:(null===R||void 0===R?void 0:R.tokenCategory)?R.tokenCategory:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber}):A.category===(null===R||void 0===R?void 0:R.tokenCategory)||0===(null===R||void 0===R?void 0:R.tokenNumber)?JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber}):JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber,processedCategory:(null===R||void 0===R?void 0:R.tokenCategory)?R.tokenCategory:""})},D=function(e){return A.category===(null===R||void 0===R?void 0:R.tokenCategory)||0===(null===R||void 0===R?void 0:R.tokenNumber)?JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber,counterToForward:e}):JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber,processedCategory:(null===R||void 0===R?void 0:R.tokenCategory)?R.tokenCategory:"",counterToForward:e})},B=function(e){var n;return e===yt.BYPASS?(b(!0),n="/tokencaller/bypasstoken"):e===yt.CALLAGAIN?(p(!0),n="/tokencaller/callagaintoken"):e===yt.COMPLETED?(T(!0),n="/tokencaller/nexttoken"):n="",n},M=function(){b(!1),T(!1),p(!1),v(!1)},P={allOperators:t,handlePrimaryTokenProcessing:function(e){var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===N||void 0===N?void 0:N.token)},body:U(e)},t=B(e);s("Processing..."),fetch(t,n).then((function(e){return e.json()})).then((function(e){M(),s(""),e.error?s(e.error):(L(e),localStorage.setItem(St.PROCESSINGTOKEN,JSON.stringify(e)))})).catch((function(e){s(e.toString()),M()}))},isBypassProcessing:j,isCallAgainProcessing:O,isCompletedProcessing:E,isForwardProcessing:S,message:a,processingToken:R,setAllOperators:function(e){o(e)},setIsBypassProcessing:function(e){b(e)},setIsCallAgainProcessing:function(e){p(e)},setIsCompletedProcessing:function(e){T(e)},setIsForwardProcessing:function(e){v(e)},setMessage:function(e){s(e)},setProcessingToken:function(e){L(e)},handleTokenForward:function(e){v(!0),s("Processing...");var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===N||void 0===N?void 0:N.token)},body:D(e)};fetch("tokencaller/forwardtoken",n).then((function(e){return e.json()})).then((function(e){M(),s(""),e.error?s(e.error):(L(e),localStorage.setItem(St.PROCESSINGTOKEN,JSON.stringify(e)))})).catch((function(e){s(e.toString()),M()}))}};return Object(f.jsx)("section",{className:"grid-content",children:Object(f.jsx)(Wt,{props:P})})},Qt=t(41),$t=b.a.section(Xt||(Xt=Object(d.a)(["\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-size: .9em; \n  width: 100%;\n  \n  @media (min-width:600px) {\n    transform: translate(-20%, 0);\n  }\n  \n  section {\n    padding: .1em;\n    flex: 0 0 auto;\n\n    .remaining{\n      color: "," !important;\n\n      &:hover{\n        transform: scale(1.5);\n        cursor: pointer;\n        transition: all .2s;\n      }\n    }\n  }\n\n  section.category {\n    border-left: 2px solid ",";\n    padding-left: .5em;\n    \n    span select {\n        padding: 0;\n        margin: 0;\n        border: none;\n        outline: none;\n        border-bottom :2px solid ",";\n        padding: .3em;\n    }\n  }\n"])),O.darkBlack,O.green,O.lightBlack,O.blue),eo=function(){var e,n=Object(i.useContext)(x),t=Object(i.useContext)(Gt),o=Object(i.useState)(0),r=Object(u.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)(!1),l=Object(u.a)(s,2),d=l[0],j=l[1];Object(i.useEffect)((function(){b()}),[]);var b=function(){j(!0);var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}},o=void 0!==t.category?t.category:"!";fetch("/tokencaller/getqueuelength/".concat(o),e).then((function(e){return e.json()})).then((function(e){e.queueLength&&(a(parseInt(e.queueLength)),j(!1))}))};return Object(f.jsx)("section",{className:"grid-header",children:Object(f.jsxs)($t,{children:[Object(f.jsxs)("section",{children:["Counter : ",Object(f.jsx)("span",{className:"counter",children:null===n||void 0===n||null===(e=n.loggedInUser)||void 0===e?void 0:e.counter})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)(Qt.a,{className:"remaining",onClick:b}),Object(f.jsxs)("span",{children:[" ",d&&Object(f.jsx)(g,{})," "]}),Object(f.jsxs)("span",{children:[" ",c]})]}),Object(f.jsxs)("section",{className:"category",children:[Object(f.jsx)("span",{children:"Category : "}),Object(f.jsx)("span",{className:"form",children:Object(f.jsx)("select",{onChange:function(e){t.setCategory(e.currentTarget.value?e.currentTarget.value:void 0)},value:t.category,children:t.availableCategories.map((function(e){return Object(f.jsxs)("option",{value:e.category?e.category:"",children:[e.category," - ",e.categoryName]},e.category?e.category:"-")}))})})]})]})})};!function(e){e.CATEGORY="operatorCategory"}(qt||(qt={}));var no,to,oo=function(){var e=Object(i.useContext)(x),n=Object(i.useState)(""),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)([{category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}]),a=Object(u.a)(c,2),s=a[0],l=a[1],d={category:o,setCategory:function(e){var n=void 0===e?"":e;localStorage.setItem(qt.CATEGORY,n),r(e)},availableCategories:s,setAvailableCategories:function(e){l(e)}};return Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}},t=localStorage.getItem(qt.CATEGORY),o=t||void 0;fetch("tokenbase/getalltokencategories",n).then((function(e){return e.json()})).then((function(e){l((function(n){return[].concat(Object(re.a)(n),Object(re.a)(e))})),e.find((function(e){return e.category===o}))?r(o):r(void 0)}))}),[null===e||void 0===e?void 0:e.token]),Object(f.jsx)(Gt.Provider,{value:d,children:Object(f.jsxs)(ge,{children:[Object(f.jsx)(eo,{}),Object(f.jsx)(Zt,{})]})})};!function(e){e.CUSTOMERS="Customers",e.TOKENCOUNT="TokenCount",e.HOME="Home"}(no||(no={})),function(e){e.TODAYSTOKENBASES="TodaysTokenBases",e.ALLTOKENBASES="AllTokenBases"}(to||(to={}));var ro,co,io,ao,so,lo,uo,jo={category:no.CUSTOMERS,setCategory:function(e){},headerCategory:to.TODAYSTOKENBASES,setHeaderCategory:function(e){}},bo=a.a.createContext(jo),fo=b.a.div(ro||(ro=Object(d.a)(["\n    \n    padding: 1em .5em;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    overflow: hidden;\n\n    div.search {\n      margin-top: 1.5em;\n      color: ",";\n      background: ",";\n      display: flex;\n      font-size: 2em;\n      border-radius: 2em;\n      border: 0;\n      cursor: pointer;\n      align-self: flex-end;\n      transition: all .4s;\n      overflow: hidden;\n      justify-content: flex-end;\n      flex: 0 0 1.5em;\n  \n      .search-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex: 0 0 1.5em;\n      }\n  \n  \n      input {\n        border-radius: inherit;\n        background: ",";\n        color: ",";\n        border: 0;\n        outline: none;\n        width: 90%;\n        font-size: .7em;\n        padding-left: .5em;\n  \n        &::placeholder {\n          font-family: Arial, sans-serif;\n          color: ",";\n        }\n      }\n    }\n\n    section.list-container {\n      height: 100%;\n      overflow: scroll;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      flex-wrap: wrap;\n      scrollbar-color: "," ",";\n      scrollbar-width: 5px;\n\n      &::-webkit-scrollbar {\n        width: 7px;\n      }\n    \n      &::-webkit-scrollbar-thumb {\n        background-color: ",";\n        border-radius: 5px;\n      }\n    }\n\n\n    h2{\n      font-size: 1.5em;\n      margin: 0;\n      padding: 0;\n      color: ",";\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n\n      section{\n        sup {\n          font-size: .5em;\n          box-sizing: border-box;\n          height: 2.3em;\n          width: 2.3em;\n          margin-left: .3em;\n          background: ",";\n          color: ",";\n          border-radius: 50%;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          \n        }\n        span.delete{\n          color: red;\n        }\n      }\n\n      span{\n        font-size: 1.5em;\n        cursor: pointer;\n      }\n    }\n  "])),O.white,O.red,O.red,O.white,O.lightBlack,O.red,O.white,O.red,O.blue,O.red,O.white),ho=function(){var e=Object(i.useContext)(x),n=Object(i.useContext)(bo),t=Object(i.useState)([]),o=Object(u.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)([]),s=Object(u.a)(a,2),l=s[0],d=s[1],j=Object(i.useState)(""),b=Object(u.a)(j,2),h=b[0],O=b[1],p=Object(i.useState)(!1),m=Object(u.a)(p,2),y=m[0],S=m[1],v=Object(i.useState)(!1),k=Object(u.a)(v,2),C=k[0],E=k[1];Object(i.useEffect)((function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Berer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/customer",t).then((function(e){return e.json()})).then((function(e){if(e.error)O(e.error.toString());else if(n.headerCategory===to.TODAYSTOKENBASES){var t=e.filter((function(e){var n=new Date(e.token.date),t=new Date;return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()}));c(t.sort((function(e,n){return n.customerId-e.customerId}))),d(t.sort((function(e,n){return n.customerId-e.customerId})))}else c(e.sort((function(e,n){return n.customerId-e.customerId}))),d(e.sort((function(e,n){return n.customerId-e.customerId})))}))}),[null===e||void 0===e?void 0:e.token,n]);var T=function(e){c((function(n){return n.map((function(n){return e.customerId===n.customerId?e:n}))})),d((function(n){return n.map((function(n){return e.customerId===n.customerId?e:n}))}))};return Object(f.jsxs)(fo,{children:[Object(f.jsxs)("h2",{children:[Object(f.jsxs)("section",{children:["Customers",Object(f.jsx)("sup",{children:r.length})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)("span",{onClick:function(e){S(!0)},children:Object(f.jsx)(Rn.a,{})}),Object(f.jsx)("span",{onClick:function(){E(!0)},className:"delete",children:Object(f.jsx)(Z.b,{})})]})]}),r.length?"":h,Object(f.jsxs)("section",{className:"list-container",children:[r.length?"":Object(f.jsx)(g,{}),l.map((function(e){return Object(f.jsx)(Kn,{customer:e,updateCustomerOnUI:T},e.customerId)}))]}),Object(f.jsx)(_n,{handleSearchChange:function(e){var n=r.filter((function(n){return n.customerName.includes(e.currentTarget.value)}));d(n)},placeholderText:"Search By Customer Name"}),Object(f.jsx)($,{modalVisibility:y,resetModalVisibility:function(){return S(!1)},children:Object(f.jsx)(Vn,{updateCustomersList:function(e){c((function(n){return[e].concat(Object(re.a)(n))})),d((function(n){return[e].concat(Object(re.a)(n))}))},modalClose:function(){return S(!1)}})}),Object(f.jsx)($,{modalVisibility:C,resetModalVisibility:function(){return E(!1)},children:Object(f.jsx)(ne,{body:"This will delete all Customers stored",title:"Delete All Customers?",onConfirm:function(n,t){n(!0);var o={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/customer/delete/allcustomers",o).then((function(e){return e.status})).then((function(e){200===e?(c([]),d([]),E(!1)):t("Error occured with status: ".concat(e))}))},onReject:function(){E(!1)}})})]})},go=b.a.section(co||(co=Object(d.a)(["\n  margin: .3em;\n  padding: .3em;\n  box-shadow: 3px 3px 3px #ccc;\n  border-radius: .3em;\n  flex: 1 1 auto;\n  color: ",";\n\n  h3{\n    color: ",";\n    border-bottom: 2px solid ",";\n    font-size: 1em;\n    margin: 0;\n  }\n\n  article {\n    padding: .3em;\n\n    p{\n      margin: 0;\n      paddig: 0;\n      font-size: .9em;\n\n      span {\n        font-weight: bold;\n      }\n\n      span.green {\n        color: ",";\n      }\n      span.blue{\n        color: ",";\n      }\n      span.red{\n        color: ",";\n      }\n    }\n  }\n"])),O.darkBlack,O.blue,O.blue,O.green,O.blue,O.red),Oo=function(){var e=Object(i.useContext)(x),n=Object(i.useState)([]),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(""),a=Object(u.a)(c,2),s=a[0],l=a[1];return Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/tokenbase/getalltokencategories",n).then((function(e){return e.json()})).then((function(e){var t=new Date;fetch("tokenbase/filterbydate/".concat(t.toString()),n).then((function(e){return e.json()})).then((function(n){n.error?l("No tokens in tokenbase"):(e.push({category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}),e.forEach((function(e){var t=n.filter((function(n){return n._token.tokenCategory===e.category})),o=e.categoryName,c=t.length,i=t.filter((function(e){return e._currentStatus===me.UNPROCESSED})).length,a={name:o,symbol:e.category,totalTokens:c,unprocessed:i};r((function(e){return[a].concat(Object(re.a)(e))}))})))}))}))}),[e]),Object(f.jsx)(An,{children:o.length?o.map((function(e){return Object(f.jsxs)(go,{children:[Object(f.jsxs)("h3",{children:["Category: ",e.symbol]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("p",{children:["Name: ",Object(f.jsx)("span",{className:"green",children:e.name})]}),Object(f.jsxs)("p",{children:["Total Tokens: ",Object(f.jsx)("span",{className:"blue",children:e.totalTokens})]}),Object(f.jsxs)("p",{children:["Unprocessed: ",Object(f.jsx)("span",{className:"red",children:e.unprocessed})]})]})]},e.symbol?e.symbol:"-")})):Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:s}),Object(f.jsx)(g,{})]})})},po=function(){var e=Object(i.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useContext)(x);return Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}};fetch("tokenbase/getalltokencategories",e).then((function(e){return e.json()})).then((function(e){var n={category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0};e.unshift(n),o(e)}))}),[r]),Object(f.jsx)(An,{children:t.map((function(e){return Object(f.jsx)(at,{categoryInterface:e},e.category?e.category:"-")}))})},mo=function(){var e=Object(i.useContext)(bo);return Object(f.jsxs)("section",{className:"grid-content",children:[e.category===no.HOME&&Object(f.jsx)(Oo,{}),e.category===no.CUSTOMERS&&Object(f.jsx)(ho,{}),e.category===no.TOKENCOUNT&&Object(f.jsx)(po,{})]})},xo=function(){var e=Object(i.useContext)(bo),n=function(n){e.setHeaderCategory(n)};return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:e.headerCategory===to.TODAYSTOKENBASES?"active":"",onClick:function(){n(to.TODAYSTOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.i,{})})," Today's Customers"]}),Object(f.jsxs)("li",{className:e.headerCategory===to.ALLTOKENBASES?"active":"",onClick:function(){n(to.ALLTOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.b,{})})," All Customers"]})]})})},yo=b.a.h2(io||(io=Object(d.a)(["\n  color: ",";\n  font-size: 1.3em;\n  padding-left: 1em;\n"])),O.blue),So=function(){return Object(f.jsx)(yo,{children:"Today's Statistics"})},vo=b.a.h2(ao||(ao=Object(d.a)(["\n  color: ",";\n  font-size: 1.1em;\n  font-weight: normal;\n\n  .warning{\n    font-size: 2em;\n    vertical-align: bottom;\n  }\n"])),O.red),ko=function(){return Object(f.jsxs)(vo,{children:[Object(f.jsx)(jn.b,{className:"warning"})," Caution!! Use Setting Functionalities Carefully"]})},Co=b.a.div(so||(so=Object(d.a)(["\n  font-size: 1.5em;\n  align-self: center;\n  color: ",";\n  cursor: pointer;\n\n  @media (min-width: 600px) {\n    display: none;\n  }\n\n  ul {\n    margin: 0;\n    padding: .6em 0;\n    list-style-type: none;\n    font-size: .7em;\n    position: absolute;\n    background: ",";\n    border: 1px solid ",";\n    width: 40%;\n    z-index: 100000;\n\n    li {\n      margin: 0;\n      padding: .5em;\n      box-sizing: border-box;\n      cursor: pointer;\n      color: ",";\n      \n      &:hover {\n        font-weight: bold;\n        color: ",";\n      }\n\n      span {\n        color: ",";\n        padding: .5em .3em;\n      }\n    }\n\n    li.active {\n      background: ",";\n      border-left: 5px solid ",";\n      color: ",";\n    }\n\n"])),O.red,O.white,O.lightBlack,O.darkBlack,O.green,O.darkBlack,O.lightBlack,O.darkBlack,O.white),Eo=function(){var e=Object(i.useContext)(bo),n=Object(i.useState)(Object(f.jsx)(f.Fragment,{})),t=Object(u.a)(n,2),o=t[0],r=t[1],c=Object(i.useState)(no.CUSTOMERS),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(!1),b=Object(u.a)(d,2),h=b[0],g=b[1];Object(i.useEffect)((function(){l(e.category?e.category:no.HOME),g(!1),e.category===no.HOME?r(Object(f.jsx)(So,{})):e.category===no.CUSTOMERS?r(Object(f.jsx)(xo,{})):e.category===no.TOKENCOUNT?r(Object(f.jsx)(ko,{})):r(Object(f.jsx)(f.Fragment,{}))}),[e]);var O=function(n){l(n),e.setCategory(n)};return Object(f.jsxs)("section",{className:"grid-header",children:[Object(f.jsxs)(Co,{children:[Object(f.jsx)(jn.a,{onClick:function(){g((function(e){return!e}))}}),h&&Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:s===no.HOME?"active":"",onClick:function(){return O(no.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})}),"Home"]}),Object(f.jsxs)("li",{className:s===no.CUSTOMERS?"active":"",onClick:function(){return O(no.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})})," Customers"]}),Object(f.jsxs)("li",{className:s===no.TOKENCOUNT?"active":"",onClick:function(){return O(no.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.a,{})}),"TokenCount"]})]})]}),o]})},To=function(){var e=Object(i.useContext)(bo),n=function(n){e.setCategory(n)};return Object(f.jsx)("nav",{className:"grid-sidebar",children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:e.category===no.HOME?"active":"",onClick:function(){n(no.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})}),"Home"]}),Object(f.jsxs)("li",{className:e.category===no.CUSTOMERS?"active":"",onClick:function(){n(no.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})}),"Customers"]}),Object(f.jsxs)("li",{className:e.category===no.TOKENCOUNT?"active":"",onClick:function(){n(no.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fn.a,{})}),"TokenCount"]})]})})},No=function(){var e=Object(i.useState)(no.HOME),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(i.useState)(to.TODAYSTOKENBASES),c=Object(u.a)(r,2),a=c[0],s=c[1],l={category:t,setCategory:function(e){o(e)},headerCategory:a,setHeaderCategory:function(e){s(e)}};return Object(f.jsx)(bo.Provider,{value:l,children:Object(f.jsxs)(ge,{children:[Object(f.jsx)(Eo,{}),Object(f.jsx)(mo,{}),Object(f.jsx)(To,{})]})})},Ao=function(){var e,n,t,o,r=Object(i.useContext)(x),c=(null===r||void 0===r||null===(e=r.loggedInUser)||void 0===e?void 0:e.role)===G.SUPERADMIN,a=(null===r||void 0===r||null===(n=r.loggedInUser)||void 0===n?void 0:n.role)===G.ADMIN,s=(null===r||void 0===r||null===(t=r.loggedInUser)||void 0===t?void 0:t.role)===G.REGISTRATOR,l=(null===r||void 0===r||null===(o=r.loggedInUser)||void 0===o?void 0:o.role)===G.OPERATOR;return Object(f.jsxs)(f.Fragment,{children:[(null===r||void 0===r?void 0:r.loggedInUser)&&Object(f.jsx)(oe,{}),c?Object(f.jsx)(fe,{userType:G.ADMIN}):Object(f.jsx)(f.Fragment,{}),a?Object(f.jsx)(Pt,{}):Object(f.jsx)(f.Fragment,{}),s?Object(f.jsx)(No,{}):Object(f.jsx)(f.Fragment,{}),l?Object(f.jsx)(oo,{}):Object(f.jsx)(f.Fragment,{})]})},wo=b.a.div(lo||(lo=Object(d.a)(["\n    font-family: Arial, sans-serif;\n    height: 90vh;\n    width: 90vw;\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: ","\n    font-size: 100px;\n    margin: 2em auto 0;\n"])),O.white,O.red),Io={connectionError:!1,isLoggedIn:!1,pageLoading:!0,superAdminExistance:!1,token:"",user:null};!function(e){e.SETSUPERADMINEXISTANCE="SetSuperAdminExistance",e.SETPAGELOADING="SetPageLoading",e.SETCONNECTIONERROR="setConnectionError",e.SETISLOGGEDIN="setIsLoggedIn",e.SETUSER="setUser",e.SETTOKEN="setToken"}(uo||(uo={}));var Ro=function(e,n){switch(n.type){case uo.SETCONNECTIONERROR:return Object(y.a)(Object(y.a)({},e),{},{connectionError:n.payLoad});case uo.SETISLOGGEDIN:return Object(y.a)(Object(y.a)({},e),{},{isLoggedIn:n.payLoad});case uo.SETPAGELOADING:return Object(y.a)(Object(y.a)({},e),{},{pageLoading:n.payLoad});case uo.SETSUPERADMINEXISTANCE:return Object(y.a)(Object(y.a)({},e),{},{superAdminExistance:n.payLoad});case uo.SETUSER:return Object(y.a)(Object(y.a)({},e),{},{user:n.payLoad&&"id"in n.payLoad?n.payLoad:null});case uo.SETTOKEN:return Object(y.a)(Object(y.a)({},e),{},{token:"string"===typeof n.payLoad?n.payLoad:""});default:return e}},Lo=function(e){document.body.style.margin="0px",document.body.style.padding="0px",fetch("/users/superAdmin").then((function(e){return e.json()})).then((function(n){e({type:uo.SETPAGELOADING,payLoad:!1}),0===n.length?e({type:uo.SETSUPERADMINEXISTANCE,payLoad:!1}):e({type:uo.SETSUPERADMINEXISTANCE,payLoad:!0})})).catch((function(n){e({type:uo.SETPAGELOADING,payLoad:!1}),e({type:uo.SETCONNECTIONERROR,payLoad:!0})}))},Uo=function(e){var n=document.cookie.split("="),t=Object(u.a)(n,2)[1],o={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}};fetch("/users/currentprofile",o).then((function(e){return e.json()})).then((function(n){if(n.error)e({type:uo.SETISLOGGEDIN,payLoad:!1}),e({type:uo.SETUSER,payLoad:null});else{var o=n._userInfo;e({type:uo.SETUSER,payLoad:o}),e({type:uo.SETTOKEN,payLoad:t}),e({type:uo.SETISLOGGEDIN,payLoad:!0})}}))},Do=function(){var e=Object(i.useReducer)(Ro,Io),n=Object(u.a)(e,2),t=n[0],o=n[1];Object(i.useEffect)((function(){!function(e){Lo(e),Uo(e)}(o)}),[]);var r={loggedInUser:t.user,setLoggedInUser:function(e){o({type:uo.SETUSER,payLoad:e})},token:t.token,setToken:function(e){o({type:uo.SETTOKEN,payLoad:e})}};return t.connectionError?Object(f.jsx)(wo,{children:"Connection Error..."}):t.pageLoading?Object(f.jsx)(wo,{children:Object(f.jsx)("div",{className:"spinner",children:Object(f.jsx)(g,{})})}):t.superAdminExistance?t.isLoggedIn?Object(f.jsx)(wo,{children:Object(f.jsx)(x.Provider,{value:r,children:Object(f.jsx)(Ao,{})})}):Object(f.jsx)(wo,{children:Object(f.jsx)(x.Provider,{value:r,children:Object(f.jsx)(E,{setLoggedIn:function(){o({type:uo.SETISLOGGEDIN,payLoad:!0})}})})}):Object(f.jsx)(wo,{children:Object(f.jsx)(X,{userType:G.SUPERADMIN})})},Bo=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),o(e),r(e),c(e),i(e)}))};l.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(Do,{})}),document.getElementById("root")),Bo()}},[[67,1,2]]]);
//# sourceMappingURL=main.27da1375.chunk.js.map