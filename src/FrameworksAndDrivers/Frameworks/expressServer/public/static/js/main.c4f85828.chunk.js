(this.webpackJsonplocalclient=this.webpackJsonplocalclient||[]).push([[0],{66:function(n,e,t){"use strict";t.r(e);var o,r,c,i=t(2),a=t.n(i),s=t(20),l=t.n(s),d=t(3),u=t(4),j=t(9),b=t(5),f=t(1),g=Object(b.a)(j.a)(o||(o=Object(u.a)(["\n  @keyframes spinning {\n    from {transform: rotate(0deg);}\n    to {transform: rotate(360deg);}\n  }\n\n  animation-name: spinning;\n  animation-duration: .8s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n"]))),h=function(){return Object(f.jsx)(g,{})},O={red:"#f00",green:"green",blue:"#2A43A3",lightBlack:"lightslategrey",darkBlack:"#444",white:"#fff"},p=b.a.form(r||(r=Object(u.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: indianred;\n    display: block;\n    height: 1.2em;\n  }\n\n"])),O.lightBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue),m=t(7),x=a.a.createContext(null),y=t(6);!function(n){n.SETUSERNAME="setUsername",n.SETPASSWORD="setPassword",n.SETISLOADING="setIsLoading",n.SETMESSAGE="setMessage",n.SETINVALIDLOGININFOSTATUS="setInvalidLoginInfoStatus"}(c||(c={}));var S,v,k={username:"",password:"",isLoading:!1,message:"",invalidLoginInfoStatus:!1},C=function(n,e){switch(e.type){case c.SETINVALIDLOGININFOSTATUS:return Object(y.a)(Object(y.a)({},n),{},{invalidLoginInfoStatus:e.payLoad});case c.SETISLOADING:return Object(y.a)(Object(y.a)({},n),{},{isLoading:e.payLoad});case c.SETMESSAGE:return Object(y.a)(Object(y.a)({},n),{},{message:e.payLoad});case c.SETPASSWORD:return Object(y.a)(Object(y.a)({},n),{},{password:e.payLoad});case c.SETUSERNAME:return Object(y.a)(Object(y.a)({},n),{},{username:e.payLoad});default:throw new Error}},E=function(n){var e=n.setLoggedIn,t=Object(i.useReducer)(C,k),o=Object(d.a)(t,2),r=o[0],s=o[1],l=a.a.createRef(),u=a.a.createRef(),j=Object(i.useContext)(x),b={state:r,dispatch:s,textRef:l,passwordRef:u,context:j,setLoggedIn:e};Object(i.useEffect)((function(){l.current&&l.current.focus()}),[]);var g=function(n){!function(n,e){"text"===n.currentTarget.type?e({type:c.SETUSERNAME,payLoad:n.currentTarget.value}):"password"===n.currentTarget.type&&e({type:c.SETPASSWORD,payLoad:n.currentTarget.value}),n.currentTarget.value.length<3?(n.currentTarget.style.borderColor="indianred",e({type:c.SETINVALIDLOGININFOSTATUS,payLoad:!0}),e({type:c.SETMESSAGE,payLoad:"Username or Password must be at least 3 characters long"})):(n.currentTarget.style.borderColor=O.green,n.currentTarget.style.borderColor=O.green,e({type:c.SETINVALIDLOGININFOSTATUS,payLoad:!1}),e({type:c.SETMESSAGE,payLoad:""}))}(n,s)};return Object(f.jsxs)(p,{onSubmit:function(n){n.preventDefault(),function(n){if(n.state.username.length<3){if(n.textRef.current)return n.textRef.current.focus(),n.dispatch({type:c.SETMESSAGE,payLoad:"Username or Password must be at least 3 characters long "}),!1}else if(n.state.password.length<3&&n.passwordRef.current)return n.passwordRef.current.focus(),n.dispatch({type:c.SETMESSAGE,payLoad:"Username or Password must be at least 3 characters long "}),!1;return!0}(b)&&function(n){n.dispatch({type:c.SETISLOADING,payLoad:!0}),n.dispatch({type:c.SETMESSAGE,payLoad:""});var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})};fetch("/users/login",e).then((function(n){return n.json()})).then((function(e){if(n.dispatch({type:c.SETISLOADING,payLoad:!1}),e.error)n.dispatch({type:c.SETMESSAGE,payLoad:e.error});else{var t,o;document.cookie="token=".concat(e.token,"; expires=Thu, 18 Dec 2078 12:00:00 UTC");var r=e.user._userInfo;null===(t=n.context)||void 0===t||t.setLoggedInUser(r),null===(o=n.context)||void 0===o||o.setToken(e.token),n.setLoggedIn()}}))}(b)},children:[Object(f.jsxs)("div",{className:"heading",children:["User Login",Object(f.jsx)(m.h,{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Username",onChange:g,value:r.username,ref:l})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",placeholder:"password",onChange:g,value:r.password,ref:u})}),Object(f.jsxs)("button",{disabled:r.invalidLoginInfoStatus,children:[Object(f.jsx)("span",{id:"left",children:"Login"}),r.isLoading&&Object(f.jsx)(h,{})]}),Object(f.jsx)("div",{className:"textMessage",children:r.message})]})},T=b.a.form(S||(S=Object(u.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: ",";\n    display: block;\n    height: 1.2em;\n  }\n\n  .green {\n    color: ","\n  }\n\n"])),O.lightBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue,O.red,O.green);!function(n){n.SETUSERNAME="setUsername",n.SETPASSWORD="setPassword",n.SETISLOADING="setIsLoading",n.SETMESSAGE="setMessage",n.SETINVALIDLOGININFOSTATUS="setInvalidLoginInfoStatus",n.SETSUCCESS="setSuccess"}(v||(v={}));var N,A={username:"",password:"",isLoading:!1,message:"",invalidLoginInfoStatus:!1,success:!1},w=function(n,e){switch(e.type){case v.SETINVALIDLOGININFOSTATUS:return Object(y.a)(Object(y.a)({},n),{},{invalidLoginInfoStatus:e.payLoad});case v.SETISLOADING:return Object(y.a)(Object(y.a)({},n),{},{isLoading:e.payLoad});case v.SETMESSAGE:return Object(y.a)(Object(y.a)({},n),{},{message:e.payLoad});case v.SETPASSWORD:return Object(y.a)(Object(y.a)({},n),{},{password:e.payLoad});case v.SETUSERNAME:return Object(y.a)(Object(y.a)({},n),{},{username:e.payLoad});case v.SETSUCCESS:return Object(y.a)(Object(y.a)({},n),{},{success:e.payLoad});default:throw new Error}};!function(n){n.OPERATOR="Operator",n.ADMIN="Administrator",n.REGISTRATOR="Registrator",n.SUPERADMIN="SuperAdministrator"}(N||(N={}));var I,R,L,U,D,B,M,P,z,G=N,F=function(n){var e=n.state,t=n.textRef,o=n.passwordRef,r=n.dispatch;return e.username.length<3&&t.current?(t.current.focus(),r({type:v.SETMESSAGE,payLoad:"Username - 3 and Password 8 characters required! "}),!1):!(e.password.length<8&&o.current)||(o.current.focus(),r({type:v.SETMESSAGE,payLoad:"Username - 3 and Password 8 characters required! "}),!1)},V=function(n){n.userType===G.SUPERADMIN?H(n):K(n)},H=function(n){var e=n.dispatch,t=n.userType,o=W(n);fetch("/users/superAdmin",o).then((function(n){return n.json()})).then((function(n){e({type:v.SETISLOADING,payLoad:!1}),n.error?e({type:v.SETMESSAGE,payLoad:n.error}):(e({type:v.SETSUCCESS,payLoad:!0}),e({type:v.SETMESSAGE,payLoad:"".concat(t," Created! Please Reload the page")}))})).catch((function(n){e({type:v.SETMESSAGE,payLoad:n.toString()})}))},K=function(n){var e=n.dispatch,t=n.closeModal,o=n.setUser,r=n.userType,c=W(n);fetch("/users",c).then((function(n){return n.json()})).then((function(n){e({type:v.SETISLOADING,payLoad:!1}),n.error?e({type:v.SETMESSAGE,payLoad:n.error}):(e({type:v.SETSUCCESS,payLoad:!0}),e({type:v.SETMESSAGE,payLoad:"".concat(r," Created! Please Reload the page")}),t&&t(),o&&o(n._userInfo))})).catch((function(n){e({type:v.SETMESSAGE,payLoad:n.toString()})}))},Y=function(n){n.userType===G.ADMIN?_(n):J(n)},_=function(n){var e,t=n.dispatch,o=n.closeModal,r=n.updateDisplableUser,c=n.userType,i=W(n);fetch("/users/admins/".concat(null===(e=n.user)||void 0===e?void 0:e.id),i).then((function(n){return n.json()})).then((function(n){t({type:v.SETISLOADING,payLoad:!1}),n.error?t({type:v.SETMESSAGE,payLoad:n.error}):(t({type:v.SETSUCCESS,payLoad:!0}),t({type:v.SETMESSAGE,payLoad:"".concat(c," Created! Please Reload the page")}),o&&o(),r&&r(n._userInfo))})).catch((function(n){t({type:v.SETMESSAGE,payLoad:n.toString()})}))},J=function(n){var e,t=n.dispatch,o=n.closeModal,r=n.updateDisplableUser,c=n.userType,i=W(n);fetch("/users/".concat(null===(e=n.user)||void 0===e?void 0:e.id),i).then((function(n){return n.json()})).then((function(n){t({type:v.SETISLOADING,payLoad:!1}),n.error?t({type:v.SETMESSAGE,payLoad:n.error}):(t({type:v.SETSUCCESS,payLoad:!0}),t({type:v.SETMESSAGE,payLoad:"".concat(c," Created! Please Reload the page")}),o&&o(),r&&r(n._userInfo))})).catch((function(n){t({type:v.SETMESSAGE,payLoad:n.toString()})}))},W=function(n){var e=n.state,t=n.userType,o=n.context;return{method:n.user?"PATCH":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)},body:JSON.stringify({username:e.username,password:e.password,role:t})}},X=function(n){var e=n.userType,t=n.closeModal,o=n.setUser,r=n.user,c=n.updateDisplableUser,s=Object(i.useReducer)(w,A),l=Object(d.a)(s,2),u=l[0],j=l[1],b=Object(i.useContext)(x),g=a.a.createRef(),p=a.a.createRef();Object(i.useEffect)((function(){r&&j({type:v.SETUSERNAME,payLoad:r.username})}),[]);var y={state:u,textRef:g,passwordRef:p,dispatch:j,userType:e,closeModal:t,setUser:o,context:b,user:r,updateDisplableUser:c};Object(i.useEffect)((function(){g.current&&g.current.focus()}),[]);var S=function(n){!function(n,e,t){"text"===t.currentTarget.type?e({type:v.SETUSERNAME,payLoad:t.currentTarget.value}):"password"===t.currentTarget.type&&e({type:v.SETPASSWORD,payLoad:t.currentTarget.value}),"text"===t.currentTarget.type&&t.currentTarget.value.length<3||"password"===t.currentTarget.type&&t.currentTarget.value.length<8?(t.currentTarget.style.borderColor="indianred",e({type:v.SETINVALIDLOGININFOSTATUS,payLoad:!0}),e({type:v.SETMESSAGE,payLoad:"Username - 3 and Password 8 characters required!"})):(t.currentTarget.style.borderColor=O.green,t.currentTarget.style.borderColor=O.green,e({type:v.SETINVALIDLOGININFOSTATUS,payLoad:!1}),e({type:v.SETMESSAGE,payLoad:""}))}(0,j,n)};return Object(f.jsxs)(T,{onSubmit:function(n){n.preventDefault(),function(n){var e=n.dispatch;F(n)&&(e({type:v.SETISLOADING,payLoad:!0}),e({type:v.SETMESSAGE,payLoad:""}),n.user?Y(n):V(n))}(y)},onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("div",{className:"heading",children:[r?"Update":"Create"," ",e,Object(f.jsx)(m.h,{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Username",onChange:S,value:u.username,ref:g})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",placeholder:"password",onChange:S,value:u.password,ref:p})}),Object(f.jsxs)("button",{disabled:u.invalidLoginInfoStatus,children:[Object(f.jsx)("span",{id:"left",children:r?"Update":"Create"}),u.isLoading&&Object(f.jsx)(h,{})]}),Object(f.jsx)("div",{className:"".concat(u.success?"textMessage green":"textMessage"),children:u.message})]})},Z=t(16),q=t(12),Q=b.a.div(I||(I=Object(u.a)(["\n  background: rgba(0,0,0,.7);\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  left: 0;\n  z-index: 100000;\n\n  \n\n  &>* {\n\n    @keyframes fall {\n      from {top: -100%;}\n      to {top: 0%;}\n    }\n\n    position: relative;\n    background: #fff;\n    padding: 2em;\n    animation-name: fall;\n    animation-duration: .5s;\n    animation-timing-function: ease-in;\n\n  }\n"]))),$=function(n){var e=n.modalVisibility,t=n.resetModalVisibility,o=n.children;return e?l.a.createPortal(Object(f.jsx)(Q,{onClick:function(n){n.stopPropagation(),t()},children:o}),document.getElementById("portal")):Object(f.jsx)(f.Fragment,{})},nn=b.a.section(R||(R=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 1em .5em 1em .5em;\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n\n  header {\n    font-weight: bold;\n    color: ",";\n    border-bottom: 2px solid ",";\n    width: 100%;\n    padding: 0 0 .2em 0;\n    font-size: 1.3em;\n    margin-bottom: .2em;\n  }\n\n  article {\n    color: ",";\n    padding: .5em 0;\n  }\n  section {\n    margin-top: .3em;\n    align-self: flex-end;\n    display: flex;\n\n    button#confirmButton {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      * {\n        margin: 0 .5em;\n      }\n    }\n\n    button {\n      display: block;\n      margin:0 .5em;\n      background: ",";\n      border: 0;\n      padding: .5em;\n      color: white;\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n\n  div {\n    height: .5em;\n    color: red;\n    border-top: 2px solid ",";\n    width: 100%;\n    margin-top: 1em;\n    font-size: .8em;\n    padding-top: .5em;\n  }\n"])),O.lightBlack,O.blue,O.darkBlack,O.lightBlack,O.blue,O.blue),en=function(n){var e=Object(i.useState)(""),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(d.a)(c,2),s=a[0],l=a[1],u=function(n){l(n)},j=function(n){r(n)};return Object(f.jsxs)(nn,{onClick:function(n){n.stopPropagation()},children:[Object(f.jsx)("header",{children:n.title}),Object(f.jsx)("article",{children:n.body}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("button",{id:"confirmButton",onClick:function(){n.onConfirm(u,j)},children:["Confirm ",s&&Object(f.jsx)(h,{})]}),Object(f.jsx)("button",{onClick:n.onReject,children:"Cancel"})]}),Object(f.jsx)("div",{children:o})]})},tn=b.a.header(L||(L=Object(u.a)(["\n  position: fixed;\n  width: 100%;\n  top: 0;\n  z-index: 1;\n  height: 3.5em;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n\n  #userInfo{\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    \n    span {\n      font-size: 1.5em;\n      color: ",";\n      padding: 0 .5em 0 2em;\n    }\n  }\n\n  .logout {\n    font-size: 2em;\n    color: ",";\n    padding: 0 1.5em;\n    cursor: pointer;\n\n    &:hover{\n      color: ",";\n    }\n  }\n\n  @media(min-width: 800px) {\n    width: 60vw;\n    #userInfo span {\n      padding: 0 .5em 0 .5em;\n    }\n    .logout {\n      padding: 0 .4em;\n    }\n  }\n  @media(min-width: 1080px) {\n    width: 50vw;\n    #userInfo span {\n      padding: 0 .5em 0 .5em;\n    }\n    .logout {\n      padding: 0 .4em;\n    }\n  }\n\n"])),O.lightBlack,O.blue,O.lightBlack,O.red),on=function(){var n,e,t=Object(i.useState)(!1),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useContext)(x);return Object(f.jsxs)(tn,{children:[Object(f.jsxs)("div",{id:"userInfo",children:[Object(f.jsx)("span",{children:Object(f.jsx)(Z.c,{})}),null===a||void 0===a||null===(n=a.loggedInUser)||void 0===n?void 0:n.username,", ",null===a||void 0===a||null===(e=a.loggedInUser)||void 0===e?void 0:e.role]}),Object(f.jsx)("div",{className:"logout",onClick:function(n){c(!0)},children:Object(f.jsx)(q.d,{})}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){c(!1)},children:Object(f.jsx)(en,{body:"Are you suer to logout?",title:"Logging Out",onConfirm:function(n,e){n(!0);var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===a||void 0===a?void 0:a.token)}};fetch("/users/logout",t).then((function(n){return n.status})).then((function(n){200===n&&(null===a||void 0===a||a.setLoggedInUser(null),c(!1),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC",window.location.reload())}))},onReject:function(){c(!1)}})})]})},rn=t(8),cn=t(22),an=b.a.div(U||(U=Object(u.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\ncolor: ",";\nfont-size: 1.3em;\nfont-weight: bold;\nheight: 2.5em;\nbox-shadow: 3px 3px 3px #ccc;\npadding: 1.5em;\nmargin-bottom: 1em;\nwidth: 95%;\nbox-sizing: border-box;\n\n&:hover{\n  color: ",";\n  cursor: pointer;\n}\n\nspan * {\n  margin-right: 1em;\n  transition: all .1s linear;\n}\n\nspan *:hover {\n  cursor: pointer;\n  transform: translate(0px, -1px);\n}\n\nspan .delete {\n  color: ","\n}\n\n\nspan .edit{\n  color: ",";\n}\n"])),O.lightBlack,O.blue,O.red,O.green),sn=function(n){n.stopPropagation()},ln=function(n){return Object(f.jsxs)(nn,{onClick:sn,children:[Object(f.jsx)("header",{children:n.title}),Object(f.jsx)("article",{children:n.body}),Object(f.jsx)("section",{}),Object(f.jsx)("div",{})]})},dn=function(n){var e=Object(i.useState)(!0),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(d.a)(c,2),s=a[0],l=a[1],u=Object(i.useState)(!1),j=Object(d.a)(u,2),b=j[0],g=j[1],h=Object(i.useContext)(x),O="Are you sure to delete user ".concat(n.user.username,"?"),p=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("p",{children:["Username: ",n.user.username]}),Object(f.jsxs)("p",{children:["Role: ",n.user.role]})]});return Object(f.jsxs)(an,{onClick:function(){g(!0),l(!0)},children:[n.user.username,Object(f.jsxs)("span",{children:[Object(f.jsx)(m.e,{className:"edit",onClick:function(n){n.stopPropagation(),r(!0),l((function(n){return!n}))}}),Object(f.jsx)(q.a,{className:" delete",onClick:function(n){n.stopPropagation(),r(!1),l((function(n){return!n}))}})]}),Object(f.jsx)($,{resetModalVisibility:function(){l(!1),g(!1)},modalVisibility:s,children:b?Object(f.jsx)(ln,{title:"User Information",body:p}):o?Object(f.jsx)(X,{userType:n.user.role,user:n.user,closeModal:function(){l(!1)},updateDisplableUser:n.updateDisplableUser}):Object(f.jsx)(en,{title:"User Confirmation",body:O,onConfirm:function(e,t){e(!0);var o={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===h||void 0===h?void 0:h.token)}};n.user.role===G.ADMIN?fetch("users/admins/".concat(n.user.id),o).then((function(n){return n.status})).then((function(o){200===o?(e(!1),n.deleteUserFromUI(n.user)):(e(!1),t("Error Occured Status Code ".concat(o)))})).catch((function(n){t(n.toString())})):fetch("users/".concat(n.user.id),o).then((function(n){return n.status})).then((function(o){200===o?(e(!1),n.deleteUserFromUI(n.user)):(e(!1),t("Error Occured Status Code ".concat(o)))})).catch((function(n){t(n.toString())}))},onReject:function(){l(!1)}})})]})},un=b.a.section(D||(D=Object(u.a)(["\n  display: flex;\n  align-self: center;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n  max-width: 700px;\n  padding: .5em;\n  height: 100%;\n\n  div.search {\n    margin-top: 1.5em;\n    color: ",";\n    background: ",";\n    display: flex;\n    font-size: 2em;\n    border-radius: 2em;\n    border: 0;\n    cursor: pointer;\n    align-self: flex-end;\n    transition: all .4s;\n    overflow: hidden;\n    justify-content: flex-end;\n    flex: 0 0 1.5em;\n\n    .search-icon {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex: 0 0 1.5em;\n    }\n\n\n    input {\n      border-radius: inherit;\n      background: ",";\n      color: ",";\n      border: 0;\n      outline: none;\n      width: 90%;\n      font-size: .7em;\n      padding-left: .5em;\n\n      &::placeholder {\n        font-family: Arial, sans-serif;\n        color: ",";\n      }\n    }\n  }\n\n  div.header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    position: sticky;\n    top: 0em;\n    background: ",";\n    padding: 1em;\n    box-sizing: border-box;\n    color: ",";\n  }\n\n  div>span.icon {\n    font-size: 2em;\n    cursor: pointer;\n  }\n"])),O.white,O.red,O.red,O.white,O.lightBlack,O.white,O.blue),jn=b.a.section(B||(B=Object(u.a)(["\n  width: 100%;\n  height: 90%;\n  padding: .5em;\n  overflow: auto;\n  scrollbar-color: "," ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n\n  h3{\n    color: ",";\n  }\n\n  &::-webkit-scrollbar {\n    width: 7px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 5px;\n  }\n\n  @media (min-width: 900px) {\n  }\n"])),O.red,O.white,O.blue,O.red),bn=function(n){var e=n.handleSearchChange,t=Object(i.useState)(!1),o=Object(d.a)(t,2),r=o[0],c=o[1];return Object(f.jsxs)("div",{className:"search",style:{width:"".concat(r?"100%":"1.5em")},onClick:function(n){n.stopPropagation(),c((function(n){return!n}))},children:[Object(f.jsx)("input",{type:"search",onClick:function(n){n.stopPropagation()},placeholder:"search username",onChange:e}),Object(f.jsx)("span",{className:"search-icon",children:Object(f.jsx)(m.g,{})})]})},fn=function(n){return{method:"GET",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}}},gn=function(n){var e=n.userType,t=Object(i.useState)([]),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)([]),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(i.useState)(!1),b=Object(d.a)(j,2),g=b[0],O=b[1],p=Object(i.useContext)(x);Object(i.useEffect)((function(){e===G.ADMIN?function(n,e,t){var o=fn(n);fetch("/users/admins",o).then((function(n){return n.json()})).then((function(n){var o=n.map((function(n){return n._userInfo}));e(o.sort((function(n,e){return e.id-n.id}))),t(o.sort((function(n,e){return e.id-n.id})))}))}(p?p.token:"",c,u):function(n,e,t,o){var r=fn(n);fetch("/users",r).then((function(n){return n.json()})).then((function(n){var r=n.map((function(n){return n._userInfo}));r=r.filter((function(n){return n.role===o})),e(r.sort((function(n,e){return e.id-n.id}))),t(r.sort((function(n,e){return e.id-n.id})))}))}(p?p.token:"",c,u,e)}),[p,e]);var m=function(n){u(y(n)),c(y(n))},y=function(n){return r.map((function(e){return n.id===e.id?n:e}))},S=function(n){c((function(e){return e.filter((function(e){return n.id!==e.id}))})),u((function(e){return e.filter((function(e){return n.id!==e.id}))}))};return Object(f.jsxs)(un,{children:[Object(f.jsxs)("div",{className:"header",children:[Object(f.jsxs)("h2",{children:[e,"s"]})," ",Object(f.jsx)("span",{className:"icon",onClick:function(n){O(!0)},children:Object(f.jsx)(cn.b,{})})]}),r.length?Object(f.jsx)(jn,{children:r.length?l.map((function(n){return Object(f.jsx)(dn,{user:n,updateDisplableUser:m,deleteUserFromUI:S},n.id)})):""}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h,{})," ",Object(f.jsx)("h3",{children:"No users to Show"})]}),Object(f.jsx)($,{modalVisibility:g,resetModalVisibility:function(){O(!1)},children:Object(f.jsx)(X,{userType:e,closeModal:function(){O(!1)},setUser:function(n){c((function(e){return[n].concat(Object(rn.a)(e))})),u((function(e){return[n].concat(Object(rn.a)(e))}))}})}),Object(f.jsx)(bn,{handleSearchChange:function(n){u(r.filter((function(e){return e.username.includes(n.currentTarget.value)})))}})]})},hn=b.a.section(M||(M=Object(u.a)(["\n\n  display: flex;\n  flex-direction: column;\n  height: 80%;\n  width: 100%;\n\n  @media (min-width: 600px) {\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    grid-template-rows: 3em 1fr;\n    grid-template-areas: \n              'sidebar header'\n              'sidebar content';\n   \n  }\n\n  .grid-header {\n    grid-area: header;\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n      \n      nav {\n        color: ",";\n        ul {\n          list-style-type: None;\n          display: flex;\n          justify-content: space-around;\n          width: 100%;\n\n          li.active{\n            color: ",";\n            font-weight: bold;\n\n            &:hover {\n              color: ",";\n              font-weight: bold;\n            }\n          }\n\n          li{\n            display: inline;\n            padding-right: 1.5em;\n            cursor: pointer;\n\n            &:hover {\n              color: ",";\n              font-weight: bold;\n\n              span {\n                color: ",";\n              }\n            }\n\n            span{\n              font-size: 1.5em;\n              text-align: center;\n            }\n          }\n        }\n      }\n    @media (min-width: 600px) {\n      justify-content: center;\n    }\n  }\n\n\n\n\n\n  .grid-sidebar {\n    align-items: flex-start;\n    justify-content: flex-start;\n    display: none;\n\n    @media (min-width: 600px){\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        color: ",";\n      }\n\n\n    ul {\n      margin: 0;\n      padding: 0;\n      list-style-type: none;\n      width: 100%;\n\n      li {\n        margin: 0;\n        padding: .5em;\n        box-sizing: border-box;\n        cursor: pointer;\n        \n        &:hover {\n          font-weight: bold;\n          color: ",";\n        }\n\n        span {\n          color: ",";\n          padding: .5em .3em;\n        }\n      }\n\n      li.active {\n        background: ",";\n        border-left: 5px solid ",";\n        color: ",";\n      }\n    }\n\n    @media (min-width: 600px) {\n      display: flex;\n      grid-area: sidebar;\n    }\n  }\n\n  .grid-content {\n    grid-area: content;\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n    min-height: 70%;\n  }\n\n  @media (min-width: 800px) {\n    width: 60vw;\n  }\n  @media (min-width: 1080px) {\n    width: 50vw;\n  }\n"])),O.darkBlack,O.green,O.green,O.red,O.darkBlack,O.darkBlack,O.green,O.darkBlack,O.lightBlack,O.darkBlack,O.white),On=function(n){var e=n.children;return Object(f.jsx)(hn,{children:e})};!function(n){n.HOME="Home",n.USERS="Users",n.CUSTOMERS="Customers",n.TOKENBASES="Token Bases",n.COUNTERMANAGEMENT="Counter Management",n.CATEGORIES="Token Categories",n.TOKENCOUNT="Token Count",n.PLUGINMANAGEMENT="Plugin Management"}(P||(P={})),function(n){n.OPERATORS="Operators",n.REGISTRATORS="Registrators",n.NOHEADERS="",n.ALLCUSTOMERS="AllCustomers",n.TODAYSCUSTOMERS="TODAYSCUSTOMERS"}(z||(z={}));var pn,mn,xn,yn,Sn={category:P.HOME,setCategory:function(n){},headerCategory:z.NOHEADERS,setHeaderCategory:function(n){},tokenFetchURL:"",setTokenFetchURL:function(n){},reloadEnhancer:!1,setReloadEnhancer:function(){}},vn=a.a.createContext(Sn),kn=b.a.form(pn||(pn=Object(u.a)(["\n  select {\n    padding: .3em;\n    margin: .3em;\n    border :none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n\n    &:hover{\n      cursor: pointer;\n    }\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    border: none;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n"])),O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Cn=function(n){var e=n.closeForm,t=Object(i.useContext)(vn),o=Object(i.useContext)(x),r=Object(i.useState)(""),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)([{category:"",categoryName:"None",currentTokenCount:0,latestCustomerTokenCount:0}]),u=Object(d.a)(l,2),j=u[0],b=u[1];Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===o||void 0===o?void 0:o.token)}};fetch("tokenbase/getalltokencategories",n).then((function(n){return n.json()})).then((function(n){b((function(e){return[].concat(Object(rn.a)(e),Object(rn.a)(n))}))}))}),[o]);return Object(f.jsxs)(kn,{onSubmit:function(n){n.preventDefault(),t.setTokenFetchURL("tokenbase/filterbycategory/".concat(a)),e()},onClick:function(n){n.stopPropagation()},children:[Object(f.jsx)("select",{onChange:function(n){s(n.currentTarget.value)},children:j.map((function(n){return Object(f.jsxs)("option",{value:n.category,children:[n.category,"-",n.categoryName]},n.category)}))}),Object(f.jsx)("button",{children:"Filter"})]})},En=b.a.form(mn||(mn=Object(u.a)(["\n  input {\n    padding: .3em;\n    margin: .3em;\n    border: none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n    cursor: pointer;\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    color: ",";\n    border: none;\n    cursor: pointer;\n\n    &:hover{\n      background: ",";\n    }\n  }\n"])),O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Tn=function(n){var e=n.closeForm,t=Object(i.useState)(""),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useContext)(vn);return Object(f.jsxs)(En,{onSubmit:function(n){n.preventDefault();var t=new Date(r).toString();a.setTokenFetchURL("tokenbase/filterbydate/".concat(t)),e()},onClick:function(n){return n.stopPropagation()},children:["Select Date :  ",Object(f.jsx)("input",{type:"date",onChange:function(n){c(n.currentTarget.value)}}),Object(f.jsx)("button",{children:"Submit"})]})};!function(n){n.CALLAGAIN="CallAgain",n.BYPASS="ByPass",n.FORWARD=" Forward",n.UNPROCESSED="Unprocessed",n.PROCESSED="Processed",n.ASSIGNED="Assigned",n.RANDOMPROCESSED="RandomlyProcessed"}(xn||(xn={}));var Nn,An,wn,In,Rn,Ln,Un=b.a.form(yn||(yn=Object(u.a)(["\n  select {\n    padding: .3em;\n    margin: .3em;\n    border :none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n\n    &:hover{\n      cursor: pointer;\n    }\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    border: none;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n"])),O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Dn=function(n){var e=n.closeForm,t=Object(i.useContext)(vn),o=Object(i.useState)(xn.ASSIGNED),r=Object(d.a)(o,2),c=r[0],a=r[1];return Object(f.jsxs)(Un,{onSubmit:function(n){n.preventDefault(),t.setTokenFetchURL("tokenbase/filterbystatus/".concat(c)),e()},onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("select",{onChange:function(n){a(n.currentTarget.value)},children:[Object(f.jsx)("option",{value:xn.ASSIGNED,children:xn.ASSIGNED}),Object(f.jsx)("option",{value:xn.BYPASS,children:xn.BYPASS}),Object(f.jsx)("option",{value:xn.CALLAGAIN,children:xn.CALLAGAIN}),Object(f.jsx)("option",{value:xn.FORWARD,children:xn.FORWARD}),Object(f.jsx)("option",{value:xn.PROCESSED,children:xn.PROCESSED}),Object(f.jsx)("option",{value:xn.RANDOMPROCESSED,children:xn.RANDOMPROCESSED}),Object(f.jsx)("option",{value:xn.UNPROCESSED,children:xn.UNPROCESSED})]}),Object(f.jsx)("button",{children:"Filter"})]})},Bn=b.a.form(Nn||(Nn=Object(u.a)(["\n\n  fieldset {\n    border: 2px solid ",";\n\n    legend {\n      font-size: .8em;\n      color: ",";\n    }\n  }\n  select {\n    padding: .3em;\n    margin: .3em;\n    border :none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n\n    &:hover{\n      cursor: pointer;\n    }\n  }\n\n  input {\n    padding: .3em;\n    margin: .3em;\n    border: none;\n    border-bottom: 2px solid ",";\n    color: ",";\n    outline: none;\n    cursor: pointer;\n  }\n\n  button {\n    padding: .3em;\n    margin: .3em;\n    background: ",";\n    border: none;\n    cursor: pointer;\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n"])),O.lightBlack,O.green,O.blue,O.darkBlack,O.blue,O.darkBlack,O.lightBlack,O.white,O.blue),Mn=function(n){var e=n.closeForm,t=Object(i.useContext)(vn),o=Object(i.useState)(xn.ASSIGNED),r=Object(d.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)(""),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(f.jsxs)(Bn,{onSubmit:function(n){n.preventDefault(),t.setTokenFetchURL("tokenbase/filterbystatusanddate/".concat(c,"/").concat(u)),e()},onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Status"}),Object(f.jsxs)("select",{onChange:function(n){a(n.currentTarget.value)},children:[Object(f.jsx)("option",{value:xn.ASSIGNED,children:xn.ASSIGNED}),Object(f.jsx)("option",{value:xn.BYPASS,children:xn.BYPASS}),Object(f.jsx)("option",{value:xn.CALLAGAIN,children:xn.CALLAGAIN}),Object(f.jsx)("option",{value:xn.FORWARD,children:xn.FORWARD}),Object(f.jsx)("option",{value:xn.PROCESSED,children:xn.PROCESSED}),Object(f.jsx)("option",{value:xn.RANDOMPROCESSED,children:xn.RANDOMPROCESSED}),Object(f.jsx)("option",{value:xn.UNPROCESSED,children:xn.UNPROCESSED})]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Date"}),Object(f.jsx)("input",{type:"date",onChange:function(n){j(n.currentTarget.value)}})]}),Object(f.jsx)("button",{children:"Filter"})]})},Pn=b.a.select(An||(An=Object(u.a)(["\n  border: 0;\n  background: ",";\n  color: ",";\n  font-size: .9em;\n  outline: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),O.white,O.darkBlack),zn=b.a.div(wn||(wn=Object(u.a)(["\n  display: inline-block;\n  font-size: 1.1em;\n"]))),Gn=b.a.div(In||(In=Object(u.a)(["\n  font-size: 1.7em;\n  color: ",";\n  width: fit-content;\n  transition: all .2s;\n  &:hover{\n    transform: scale(1.1);\n  }\n"])),O.red),Fn=b.a.li(Rn||(Rn=Object(u.a)(["\n  border-bottom: 2px solid ",";\n  height: fit-content;\n  width: fit-content;\n  padding: 0 !important;\n  \n  button{\n    border: none;\n    background: ",";\n    color: ",";\n    padding: .3em;\n\n    &: hover {\n      background: ",";\n      cursor: pointer;\n    }\n  }\n"])),O.blue,O.lightBlack,O.white,O.blue);!function(n){n.SHOWALL="Show All",n.STATUS="Status",n.STATUSANDDATE="Status & Date",n.DATE="Date",n.UNCATEGORIZED="Uncategorized",n.CATEGORY="Category"}(Ln||(Ln={}));var Vn,Hn,Kn,Yn,_n,Jn,Wn,Xn,Zn,qn,Qn,$n,ne,ee,te,oe,re,ce,ie,ae,se,le,de=function(){var n=Object(i.useContext)(vn),e=Object(i.useContext)(x),t=Object(i.useState)(!1),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(i.useState)(!1),b=Object(d.a)(j,2),g=b[0],h=b[1],O=Object(i.useState)(!1),p=Object(d.a)(O,2),m=p[0],y=p[1],S=Object(i.useState)(Ln.SHOWALL),v=Object(d.a)(S,2),k=v[0],C=v[1],E=Object(i.useState)(!1),T=Object(d.a)(E,2),N=T[0],A=T[1];return Object(f.jsxs)("nav",{children:[Object(f.jsxs)("ul",{children:[Object(f.jsxs)(Fn,{children:[Object(f.jsx)(zn,{children:Object(f.jsx)(q.c,{})}),Object(f.jsxs)(Pn,{onChange:function(n){C(n.currentTarget.value)},children:[Object(f.jsx)("option",{value:Ln.SHOWALL,children:Ln.SHOWALL}),Object(f.jsx)("option",{value:Ln.DATE,children:Ln.DATE}),Object(f.jsx)("option",{value:Ln.CATEGORY,children:Ln.CATEGORY}),Object(f.jsx)("option",{value:Ln.STATUS,children:Ln.STATUS}),Object(f.jsx)("option",{value:Ln.STATUSANDDATE,children:Ln.STATUSANDDATE}),Object(f.jsx)("option",{value:Ln.UNCATEGORIZED,children:Ln.UNCATEGORIZED})]}),Object(f.jsx)("button",{onClick:function(e){k===Ln.CATEGORY?c(!0):k===Ln.DATE?u(!0):k===Ln.SHOWALL?n.setTokenFetchURL("/tokenbase"):k===Ln.STATUS?h(!0):k===Ln.STATUSANDDATE?y(!0):k===Ln.UNCATEGORIZED&&n.setTokenFetchURL("/tokenbase/filterbycategory")},children:"Filter"})]}),Object(f.jsx)("li",{children:Object(f.jsx)(Gn,{children:Object(f.jsx)(Z.a,{onClick:function(n){A(!0)}})})})]}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){c(!1)},children:Object(f.jsx)(Cn,{closeForm:function(){c(!1)}})}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){u(!1)},children:Object(f.jsx)(Tn,{closeForm:function(){u(!1)}})}),Object(f.jsx)($,{modalVisibility:g,resetModalVisibility:function(){h(!1)},children:Object(f.jsx)(Dn,{closeForm:function(){h(!1)}})}),Object(f.jsx)($,{modalVisibility:m,resetModalVisibility:function(){y(!1)},children:Object(f.jsx)(Mn,{closeForm:function(){y(!1)}})}),Object(f.jsx)($,{modalVisibility:N,resetModalVisibility:function(){A(!1)},children:Object(f.jsx)(en,{body:"This will delete all the tokens from storage",title:"Confirm Delete?",onConfirm:function(t,o){var r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};t(!0),fetch("/tokenbase",r).then((function(n){return n.status})).then((function(e){200===e?(A(!1),n.setTokenFetchURL("/"),n.setTokenFetchURL("/tokenbase")):o("Deletion Failed with status code ".concat(e))}))},onReject:function(){return A(!1)}})})]})},ue=function(){var n=Object(i.useContext)(vn);Object(i.useEffect)((function(){n.setHeaderCategory(z.OPERATORS)}),[]);var e=function(e){(e===z.OPERATORS||e===z.REGISTRATORS)&&n.setHeaderCategory(e)};return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:n.headerCategory===z.OPERATORS?"active":"",onClick:function(){e(z.OPERATORS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.b,{})})," Operators"]}),Object(f.jsxs)("li",{className:n.headerCategory===z.REGISTRATORS?"active":"",onClick:function(){e(z.REGISTRATORS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.i,{})})," Registrators"]})]})})},je=t(13),be=t(23),fe=t(11),ge=function(){var n=Object(i.useContext)(vn),e=function(e){n.setHeaderCategory(e)};return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:n.headerCategory===z.TODAYSCUSTOMERS?"active":"",onClick:function(){e(z.TODAYSCUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.i,{})})," Today's Customers"]}),Object(f.jsxs)("li",{className:n.headerCategory===z.ALLCUSTOMERS?"active":"",onClick:function(){e(z.ALLCUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.b,{})})," All Customers"]})]})})},he=b.a.h2(Vn||(Vn=Object(u.a)(["\n  color: ",";\n  font-size: 1.3em;\n  padding-left: 1em;\n"])),O.blue),Oe=function(){return Object(f.jsx)(he,{children:"Today's Statistics"})},pe=b.a.h2(Hn||(Hn=Object(u.a)(["\n  color: ",";\n  font-size: 1.1em;\n  font-weight: normal;\n\n  .warning {\n    vertical-align: bottom;\n    font-size: 2em;\n  }\n"])),O.red),me=function(){return Object(f.jsxs)(pe,{children:[Object(f.jsx)(je.b,{className:"warning"})," Caution! Use Setting Functionalities Carefully"]})},xe=t(40),ye=t.n(xe),Se=b.a.div(Kn||(Kn=Object(u.a)(["\n  color: ",";\n  font-size: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin-right: .5em;\n"])),O.blue),ve=b.a.section(Yn||(Yn=Object(u.a)(["\n  \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2em;\n  min-width: 40%;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    article {\n      padding: 1em;\n      border-radius: 50%;\n      background: ",";\n      color: ",";\n      font-size: 2em;\n      cursor: pointer;\n    }\n  \n    button {\n      background: ",";\n      color: ",";\n      border: none;\n      padding: .5em;\n      margin-top: 1em;\n      border-radius: .3em;\n    }\n\n    div {\n      margin-top: 1em;\n      font-family: Arial, sans-serif;\n      color: ",";\n    }\n\n    progress {\n      margin-top: 1em;\n    }\n\n    div {\n      font-family: Arial, sans-serif;\n      color: ",';\n    }\n\n    input[type="file"] {\n      display: none;\n    }\n  }\n  '])),O.lightBlack,O.darkBlack,O.blue,O.white,O.green,O.green),ke=function(){var n=Object(i.useState)(!1),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useState)(""),c=Object(d.a)(r,2),s=c[0],l=c[1],u=Object(i.useState)(""),j=Object(d.a)(u,2),b=j[0],g=j[1],h=Object(i.useState)(0),O=Object(d.a)(h,2),p=O[0],y=O[1],S=Object(i.useContext)(x),v=Object(i.useContext)(vn),k=a.a.createRef(),C=ye.a.create({baseURL:"/plugins"});return Object(f.jsxs)(Se,{onClick:function(){o(!0)},children:[Object(f.jsx)(cn.a,{}),Object(f.jsx)($,{modalVisibility:t,resetModalVisibility:function(){o(!1),l(""),g(""),y(0)},children:Object(f.jsx)(ve,{onClick:function(n){return n.stopPropagation()},children:Object(f.jsxs)("form",{onSubmit:function(n){var e;n.preventDefault();var t=null===(e=k.current)||void 0===e?void 0:e.files;if(t){var o=t[0];if(o&&"application/zip"===o.type){var r=new FormData;r.append("pluginZip",o),C.post("/installFromArchive",r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(null===S||void 0===S?void 0:S.token)},onUploadProgress:function(n){y(Math.round(100*n.loaded/n.total))}}).then((function(n){200===n.status&&(g("Plugin Uploaded Successfully"),v.setReloadEnhancer())}))}else l("Please Select a Zip file")}},children:[Object(f.jsxs)("label",{children:[Object(f.jsx)("article",{children:Object(f.jsx)(m.a,{})}),Object(f.jsx)("input",{type:"file",ref:k,onChange:function(n){var e,t=null===(e=k.current)||void 0===e?void 0:e.files;if(t){var o=t[0];l(o.name),y(0),g("")}}})]}),Object(f.jsx)("div",{children:s}),Object(f.jsx)("button",{children:"Upload"}),0!==p&&Object(f.jsx)("progress",{max:"100",value:p}),Object(f.jsx)("div",{children:b})]})})})]})},Ce=b.a.div(_n||(_n=Object(u.a)(["\n  font-size: 1.5em;\n  align-self: center;\n  color: ",";\n  cursor: pointer;\n\n  @media (min-width: 600px) {\n    display: none;\n  }\n\n  ul {\n    margin: 0;\n    padding: .6em 0;\n    list-style-type: none;\n    font-size: .7em;\n    position: absolute;\n    background: ",";\n    border: 1px solid ",";\n    width: 40%;\n    z-index: 100000;\n\n    li {\n      margin: 0;\n      padding: .5em;\n      box-sizing: border-box;\n      cursor: pointer;\n      color: ",";\n      \n      &:hover {\n        font-weight: bold;\n        color: ",";\n      }\n\n      span {\n        color: ",";\n        padding: .5em .3em;\n      }\n    }\n\n    li.active {\n      background: ",";\n      border-left: 5px solid ",";\n      color: ",";\n    }\n\n"])),O.red,O.white,O.lightBlack,O.darkBlack,O.green,O.darkBlack,O.lightBlack,O.darkBlack,O.white),Ee=function(){var n=Object(i.useContext)(vn),e=Object(i.useState)(Object(f.jsx)(f.Fragment,{})),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(P.HOME),a=Object(d.a)(c,2),s=a[0],l=a[1],u=Object(i.useState)(!1),b=Object(d.a)(u,2),g=b[0],h=b[1];Object(i.useEffect)((function(){l(n.category?n.category:P.HOME),h(!1),n.category===P.USERS?r(Object(f.jsx)(ue,{})):n.category===P.TOKENBASES?r(Object(f.jsx)(de,{})):n.category===P.CUSTOMERS?r(Object(f.jsx)(ge,{})):n.category===P.HOME?r(Object(f.jsx)(Oe,{})):n.category===P.TOKENCOUNT?r(Object(f.jsx)(me,{})):n.category===P.PLUGINMANAGEMENT?r(Object(f.jsx)(ke,{})):r(Object(f.jsx)(f.Fragment,{}))}),[n]);var O=function(e){l(e),n.setCategory(e)};return Object(f.jsxs)("section",{className:"grid-header",children:[Object(f.jsxs)(Ce,{children:[Object(f.jsx)(je.a,{onClick:function(){h((function(n){return!n}))}}),g&&Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:s===P.HOME?"active":"",onClick:function(){return O(P.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})})," Home"]}),Object(f.jsxs)("li",{className:s===P.USERS?"active":"",onClick:function(){return O(P.USERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})}),"Users"]}),Object(f.jsxs)("li",{className:s===P.CATEGORIES?"active":"",onClick:function(){return O(P.CATEGORIES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.b,{})}),"Categories"]}),Object(f.jsxs)("li",{className:s===P.CUSTOMERS?"active":"",onClick:function(){return O(P.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(be.a,{})}),"Customers"]}),Object(f.jsxs)("li",{className:s===P.TOKENBASES?"active":"",onClick:function(){return O(P.TOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.c,{})}),"Token Bases"]}),Object(f.jsxs)("li",{className:s===P.COUNTERMANAGEMENT?"active":"",onClick:function(){return O(P.COUNTERMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.f,{})}),"Counters"]}),Object(f.jsxs)("li",{className:n.category===P.TOKENCOUNT?"active":"",onClick:function(){O(P.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.a,{})}),"TokenCount"]}),Object(f.jsxs)("li",{className:n.category===P.PLUGINMANAGEMENT?"active":"",onClick:function(){O(P.PLUGINMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.c,{})}),"Plugins"]})]})]}),o]})},Te=function(){var n=Object(i.useContext)(vn),e=Object(i.useState)(P.HOME),t=Object(d.a)(e,2),o=t[0],r=t[1],c=function(e){r(e),n.setCategory(e)};return Object(i.useEffect)((function(){n.category?r(n.category):r(P.HOME)}),[n]),Object(f.jsx)("nav",{className:"grid-sidebar",children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:o===P.HOME?"active":"",onClick:function(){return c(P.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})})," Home"]}),Object(f.jsxs)("li",{className:o===P.USERS?"active":"",onClick:function(){return c(P.USERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})}),"Users"]}),Object(f.jsxs)("li",{className:o===P.CATEGORIES?"active":"",onClick:function(){return c(P.CATEGORIES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.b,{})}),"Categories"]}),Object(f.jsxs)("li",{className:o===P.CUSTOMERS?"active":"",onClick:function(){return c(P.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(be.a,{})}),"Customers"]}),Object(f.jsxs)("li",{className:o===P.TOKENBASES?"active":"",onClick:function(){return c(P.TOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.c,{})}),"Token Bases"]}),Object(f.jsxs)("li",{className:o===P.COUNTERMANAGEMENT?"active":"",onClick:function(){return c(P.COUNTERMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.f,{})}),"Counters"]}),Object(f.jsxs)("li",{className:n.category===P.TOKENCOUNT?"active":"",onClick:function(){c(P.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.a,{})}),"TokenCount"]}),Object(f.jsxs)("li",{className:n.category===P.PLUGINMANAGEMENT?"active":"",onClick:function(){c(P.PLUGINMANAGEMENT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.c,{})}),"Plugins"]})]})})},Ne=b.a.section(Jn||(Jn=Object(u.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  padding: .5em;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n  scrollbar-color: "," ",";\n  scrollbar-width: 5px;\n\n  &::-webkit-scrollbar {\n    width: 7px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 5px;\n  }\n"])),O.red,O.white,O.red),Ae=function(n){var e=n.children;return Object(f.jsx)(Ne,{children:e})},we=b.a.section(Wn||(Wn=Object(u.a)(["\n  margin: .3em;\n  padding: .3em;\n  box-shadow: 3px 3px 3px #ccc;\n  border-radius: .3em;\n  flex: 1 1 auto;\n  color: ",";\n\n  h3{\n    color: ",";\n    border-bottom: 2px solid ",";\n    font-size: 1em;\n    margin: 0;\n  }\n\n  article {\n    padding: .3em;\n\n    p{\n      margin: 0;\n      paddig: 0;\n      font-size: .9em;\n\n      span {\n        font-weight: bold;\n      }\n\n      span.green {\n        color: ",";\n      }\n      span.blue{\n        color: ",";\n      }\n      span.red{\n        color: ",";\n      }\n    }\n  }\n"])),O.darkBlack,O.blue,O.blue,O.green,O.blue,O.red),Ie=function(){var n=Object(i.useContext)(x),e=Object(i.useState)([]),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(""),a=Object(d.a)(c,2),s=a[0],l=a[1];return Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/tokenbase/getalltokencategories",e).then((function(n){return n.json()})).then((function(n){var t=new Date;fetch("tokenbase/filterbydate/".concat(t.toString()),e).then((function(n){return n.json()})).then((function(e){e.error?l("No tokens in tokenbase"):(n.push({category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}),n.forEach((function(n){var t=e.filter((function(e){return e._token.tokenCategory===n.category})),o=n.categoryName,c=t.length,i=t.filter((function(n){return n._currentStatus===xn.UNPROCESSED})).length,a={name:o,symbol:n.category,totalTokens:c,unprocessed:i};r((function(n){return[a].concat(Object(rn.a)(n))}))})))}))}))}),[n]),Object(f.jsx)(Ae,{children:o.length?o.map((function(n){return Object(f.jsxs)(we,{children:[Object(f.jsxs)("h3",{children:["Category: ",n.symbol]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("p",{children:["Name: ",Object(f.jsx)("span",{className:"green",children:n.name})]}),Object(f.jsxs)("p",{children:["Total Tokens: ",Object(f.jsx)("span",{className:"blue",children:n.totalTokens})]}),Object(f.jsxs)("p",{children:["Unprocessed: ",Object(f.jsx)("span",{className:"red",children:n.unprocessed})]})]})]},n.symbol?n.symbol:"-")})):Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:s}),Object(f.jsx)(h,{})]})})},Re=t(14),Le=t(15),Ue=b.a.section(Xn||(Xn=Object(u.a)(["\n  color: ",";\n  font-size: .9em;\n  border-bottom: 2px solid ",";\n  margin: .5em 0;\n  padding: .5em 0;\n  \n  h3.cardHeading{\n    font-size: 1.2em;\n  }\n\n  article {\n    span {\n      font-size: .9em;\n      display: inline-block;\n      color: ",";\n    }\n\n    .icon {\n      vertical-align: top;\n      color: ",";\n    }\n  }\n"])),O.darkBlack,O.darkBlack,O.darkBlack,O.darkBlack),De=function(n){var e=n.tokenProcessing;return Object(f.jsxs)(Ue,{children:[Object(f.jsxs)("h3",{className:"cardHeading",children:["Processed By : ",e._operator._userInfo.username]}),Object(f.jsxs)("article",{children:["Counter: ",e._operator._userInfo.counter," ",Object(f.jsx)("br",{}),"Status: ",e._status,Object(f.jsx)("br",{}),Object(f.jsx)(Re.b,{className:"icon"})," ",Object(f.jsx)("span",{children:new Date(e._timeStamp).toLocaleDateString()})," ",Object(f.jsx)("br",{}),Object(f.jsx)(Le.a,{className:"icon"})," ",Object(f.jsx)("span",{children:new Date(e._timeStamp).toLocaleTimeString()})]})]})},Be=b.a.section(Zn||(Zn=Object(u.a)(["\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  box-shadow: 3px 3px 3px #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: .5em;\n  border-radius: .3em;\n  cursor: pointer;\n  margin: .3em;\n  color: ",";\n\n  &:hover {\n    box-shadow: 3px 3px 5px #ccc;\n  }\n\n  h3{\n    padding: 0;\n    margin: 0;\n    color: ",";\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid ",";\n\n    span {\n      color: ",";\n      font-size: 1.3em;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n  article {\n    margin-top: .3em;\n    font-size: .9em;\n    color: ",";\n\n    span {\n      font-weight: bold;\n      color: ",";\n      padding-left: .3em;\n    }\n  }\n"])),O.darkBlack,O.blue,O.blue,O.lightBlack,O.red,O.darkBlack,O.green),Me=b.a.section(qn||(qn=Object(u.a)(["\n  padding: 1em .5em;\n  max-height: 60vh;\n  overflow: auto;\n  scrollbar-color: "," ",";\n  scrollbar-width: 5px;\n\n  &::-webkit-scrollbar {\n    width: 7px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 5px;\n  }\n\n  h2{\n    color: ",";\n    margin: 0;\n    padding: 0;\n    font-size: 1.3em;\n    border-bottom: 3px solid ",";\n  }\n\n  article {\n    h3{\n      font-size: 1em;\n      color: ",";\n      margin: .3em 0 0 0;\n      padding: 0;\n    }\n\n    p{\n      font-size: .8em;\n      margin: .5em 0;\n\n      span {\n        color: ","\n      }\n    }\n\n    div {\n      font-size: .8em;\n      color: ",";\n    }\n  }\n"])),O.red,O.white,O.red,O.blue,O.blue,O.darkBlack,O.green,O.red),Pe=function(n){var e=n.tokenBase,t=Object(i.useState)(!1),o=Object(d.a)(t,2),r=o[0],c=o[1];return Object(f.jsxs)(Be,{onClick:function(){return c(!0)},children:[Object(f.jsxs)("h3",{children:["Token No. : ",e._token.tokenCategory?e._token.tokenCategory:"",e._token.tokenNumber]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("section",{children:["Token I.D : ",Object(f.jsx)("span",{children:e._token.tokenId})," "]}),Object(f.jsxs)("section",{children:[Object(f.jsx)(Re.b,{})," ",Object(f.jsx)("span",{children:new Date(e._token.date).toLocaleDateString()})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)(Le.a,{})," ",Object(f.jsx)("span",{children:new Date(e._token.date).toLocaleTimeString()})]})]}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){return c(!1)},children:Object(f.jsxs)(Me,{children:[Object(f.jsxs)("h2",{children:["Token No : ",e._token.tokenCategory,e._token.tokenNumber,", ID : ",e._token.tokenId]}),Object(f.jsxs)("article",{children:[Object(f.jsx)("h3",{children:"Token Processing Information: "}),Object(f.jsxs)("p",{children:["Current Status : ",Object(f.jsx)("span",{children:e._currentStatus})]}),e.tokenProcessingInfo.length?e.tokenProcessingInfo.map((function(n,e){return Object(f.jsx)(De,{tokenProcessing:n},e)})):Object(f.jsx)("div",{children:"No Token Processing Information"})]})]})})]})},ze=function(){var n=Object(i.useState)([]),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useContext)(vn),c=Object(i.useContext)(x),a=Object(i.useState)(!1),s=Object(d.a)(a,2),l=s[0],u=s[1];return Object(i.useEffect)((function(){var n=!0;if(n&&"/"!==r.tokenFetchURL){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}};u(!0),fetch(r.tokenFetchURL,e).then((function(n){return n.json()})).then((function(n){if(n.length){var e=n.sort((function(n,e){return e._token.tokenId-n._token.tokenNumber}));o(e)}else o([]);u(!1)}))}return function(){n=!1}}),[c,r.tokenFetchURL]),Object(f.jsxs)(Ae,{children:[t.length?t.map((function(n){return Object(f.jsx)(Pe,{tokenBase:n},n._token.tokenId)})):Object(f.jsx)(h,{}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){u(!1)},children:Object(f.jsxs)("div",{children:["Loading... ",Object(f.jsx)(h,{})]})})]})},Ge=function(){var n=Object(i.useContext)(vn);Object(i.useEffect)((function(){n.setHeaderCategory(z.OPERATORS)}),[]);var e=n.headerCategory===z.REGISTRATORS?Object(f.jsx)(gn,{userType:G.REGISTRATOR}):Object(f.jsx)(gn,{userType:G.OPERATOR});return Object(f.jsx)(f.Fragment,{children:e})},Fe=b.a.form(Qn||(Qn=Object(u.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  fieldset {\n    border: 2px solid ",";\n    \n    legend {\n      font-size: .8em;\n      color: ",";\n    }\n\n    div.tokenCategory {\n      justify-content: flex-start;\n      display: flex;\n      flex-direction: row;\n      \n      select {\n        padding: .3em;\n        margin: .5em;\n        border: none;\n        border-bottom: 3px solid ",";\n        color: ",";\n        outline: none;\n  \n        option {\n          color: ",";\n        }\n      }\n      \n      label {\n        color: ",";\n      }\n  \n      button {\n        margin: .3em;\n        font-size: .8em;\n      }\n\n      button:disabled{\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: ",";\n    display: block;\n    height: 1.2em;\n  }\n\n  .green {\n    color: ","\n  }\n\n"])),O.lightBlack,O.blue,O.green,O.lightBlack,O.darkBlack,O.darkBlack,O.darkBlack,O.lightBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue,O.red,O.green),Ve=function(n){var e=n.customer,t=n.updateCustomersList,o=n.modalClose,r=n.updateCustomerInUI,c=Object(i.useContext)(x),s=Object(i.useState)(""),l=Object(d.a)(s,2),u=l[0],j=l[1],b=Object(i.useState)(""),g=Object(d.a)(b,2),O=g[0],p=g[1],y=Object(i.useState)(""),S=Object(d.a)(y,2),v=S[0],k=S[1],C=Object(i.useState)(!1),E=Object(d.a)(C,2),T=E[0],N=E[1],A=Object(i.useState)(""),w=Object(d.a)(A,2),I=w[0],R=w[1],L=Object(i.useState)(!1),U=Object(d.a)(L,2),D=U[0],B=U[1],M=Object(i.useState)([{category:"",categoryName:"None",currentTokenCount:0,latestCustomerTokenCount:0}]),P=Object(d.a)(M,2),z=P[0],G=P[1],F=a.a.createRef(),V=a.a.createRef(),H=a.a.createRef();Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}};fetch("/tokenbase/getalltokencategories",n).then((function(n){return n.json()})).then((function(n){var e=n;G((function(n){return[].concat(Object(rn.a)(n),Object(rn.a)(e))}));var t=localStorage.getItem("registrationCategory");t&&(e.find((function(n){return n.category===t}))?k(t):(k(""),localStorage.setItem("registrationCategory","")))})).catch((function(n){R(n.toString())})),e&&(j(e.customerName),p(e.remarks?e.remarks:""),k(e.token.tokenCategory?e.token.tokenCategory:""))}),[]);var K=function(){N(!0);var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({customerName:u,tokenCategory:v,remarks:O})};fetch("/customer",n).then((function(n){return n.json()})).then((function(n){n.error?(B(!1),R(n.error)):(B(!0),R("Customer Created"),t&&t(n),o()),N(!1)})).catch((function(n){B(!1),R(n.toString()),N(!1)}))},Y=function(){N(!0);var n={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({customerName:u,tokenCategory:v,remarks:O})};fetch("customer/".concat(null===e||void 0===e?void 0:e.customerId),n).then((function(n){return n.json()})).then((function(n){n.error?(B(!1),R(n.error)):(B(!0),R("Customer Updated"),r&&r(n),o()),N(!1)})).catch((function(n){B(!1),R(n.toString()),N(!1)}))};return Object(f.jsxs)(Fe,{onClick:function(n){n.stopPropagation()},onSubmit:function(n){n.preventDefault(),u.length?e?Y():K():R("Name must not be empty")},children:[Object(f.jsxs)("div",{className:"heading",children:[e?"Update":"Create"," Customer",Object(f.jsx)(m.h,{})]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Customer Name",onChange:function(n){n.preventDefault(),j(n.currentTarget.value)},value:u,ref:F})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Remarks",onChange:function(n){n.preventDefault(),p(n.currentTarget.value)},value:O,ref:V})}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Category"}),Object(f.jsxs)("div",{className:"tokenCategory",children:[Object(f.jsx)("select",{onChange:function(n){k(n.currentTarget.value)},disabled:!!e,value:v,children:z.map((function(n){return Object(f.jsxs)("option",{value:n.category,children:[n.category," - ",n.categoryName]},n.category)}))}),Object(f.jsx)("button",{type:"button",onClick:function(n){n.preventDefault(),localStorage.setItem("registrationCategory",v)},disabled:!!e,children:"Default"}),Object(f.jsx)("button",{type:"button",onClick:function(n){n.preventDefault(),H.current&&(H.current.value=""),localStorage.removeItem("registrationCategory")},disabled:!!e,children:"Clear"})]})]}),Object(f.jsxs)("button",{children:[Object(f.jsx)("span",{id:"left",children:e?"Update":"Create"}),T&&Object(f.jsx)(h,{})]}),Object(f.jsx)("div",{className:"".concat(D?"textMessage green":"textMessage"),children:I})]})},He=b.a.article($n||($n=Object(u.a)(["\n  background: ",";\n  box-shadow: 2px 2px 5px #ccc;\n  margin: .6em;\n  box-sizing: border-box;\n  padding: .5em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  tranition: all .4s;\n  border-radius: .3em;\n  flex: 1 1 auto;\n  height: max-content;\n\n  h3{\n    margin: 0;\n    padding: 0;\n    color: ",";\n    font-size: 1.3em;\n  }\n\n  header {\n    color: ",";\n    font-size: .9em;\n    border-bottom: 2px solid ",";\n    margin-top: .2em;\n    width: 100%;\n    span{\n      color: ",";\n      font-weight: bold;\n    }\n  }\n  \n  section {\n    margin: .5em 0;\n    align-self: flex-start;\n    display: flex;\n    flex-direction: column;\n    font-size: .8em;\n    color: ",";\n\n    span{\n      margin: .1em 0;\n      color: ",";\n      .icon{\n        color: ",";\n        padding: .5em;\n      }\n    }\n\n  }\n\n  \n  &:hover {\n    cursor: pointer;\n    box-shadow: 2px 2px 10px #ccc;\n    h3{\n      color: green;\n    }\n  }\n"])),O.white,O.lightBlack,O.darkBlack,O.lightBlack,O.green,O.darkBlack,O.darkBlack,O.darkBlack),Ke=function(n){var e=n.customer,t=n.updateCustomerOnUI,o=Object(i.useState)(!1),r=Object(d.a)(o,2),c=r[0],a=r[1],s=Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("p",{children:["Customer ID: ",e.customerId,Object(f.jsx)("br",{}),"Token ID: ",e.token.tokenId,Object(f.jsx)("br",{}),"Token Number: ",e.token.tokenCategory,e.token.tokenNumber,Object(f.jsx)("br",{}),"Remarks: ",e.remarks,Object(f.jsx)("br",{}),"Timestamp: ",new Date(e.token.date).toLocaleString()]})});return Object(f.jsxs)(He,{onClick:function(){a(!0)},children:[Object(f.jsx)("h3",{children:e.customerName}),Object(f.jsxs)("header",{children:["Token No: ",Object(f.jsxs)("span",{children:[e.token.tokenCategory,e.token.tokenNumber]})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)(Re.b,{})}),Object(f.jsx)("span",{children:new Date(e.token.date).toLocaleDateString()})]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)(Le.a,{})}),Object(f.jsx)("span",{children:new Date(e.token.date).toLocaleTimeString()})]})]}),Object(f.jsx)($,{modalVisibility:c,resetModalVisibility:function(){return a(!1)},children:t?Object(f.jsx)(Ve,{modalClose:function(){return a(!1)},customer:e,updateCustomerInUI:t}):Object(f.jsx)(ln,{body:s,title:e.customerName})})]})},Ye=b.a.div(ne||(ne=Object(u.a)(["\nmargin-top: 1.5em;\ncolor: ",";\nbackground: ",";\ndisplay: flex;\nfont-size: 2em;\nborder-radius: 2em;\nborder: 0;\ncursor: pointer;\nalign-self: flex-end;\ntransition: all .4s;\noverflow: hidden;\njustify-content: flex-end;\nflex: 0 0 1.5em;\n\n.search-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 0 0 1.5em;\n}\n\n\ninput {\n  border-radius: inherit;\n  background: ",";\n  color: ",";\n  border: 0;\n  outline: none;\n  width: 90%;\n  font-size: .7em;\n  padding-left: .5em;\n\n  &::placeholder {\n    font-family: Arial, sans-serif;\n    color: ",";\n  }\n}\n"])),O.white,O.red,O.red,O.white,O.lightBlack),_e=function(n){var e=n.handleSearchChange,t=n.placeholderText,o=Object(i.useState)(!1),r=Object(d.a)(o,2),c=r[0],a=r[1];return Object(f.jsxs)(Ye,{style:{width:"".concat(c?"100%":"1.5em")},onClick:function(n){n.stopPropagation(),a((function(n){return!n}))},children:[Object(f.jsx)("input",{type:"search",onClick:function(n){n.stopPropagation()},placeholder:t,onChange:e}),Object(f.jsx)("span",{className:"search-icon",children:Object(f.jsx)(m.g,{})})]})},Je=b.a.div(ee||(ee=Object(u.a)(["\n    \n    padding: 1em .5em;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    overflow: hidden;\n\n    div.search {\n      margin-top: 1.5em;\n      color: ",";\n      background: ",";\n      display: flex;\n      font-size: 2em;\n      border-radius: 2em;\n      border: 0;\n      cursor: pointer;\n      align-self: flex-end;\n      transition: all .4s;\n      overflow: hidden;\n      justify-content: flex-end;\n      flex: 0 0 1.5em;\n  \n      .search-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex: 0 0 1.5em;\n      }\n  \n  \n      input {\n        border-radius: inherit;\n        background: ",";\n        color: ",";\n        border: 0;\n        outline: none;\n        width: 90%;\n        font-size: .7em;\n        padding-left: .5em;\n  \n        &::placeholder {\n          font-family: Arial, sans-serif;\n          color: ",";\n        }\n      }\n    }\n\n    section.list-container {\n      height: 100%;\n      overflow: scroll;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      flex-wrap: wrap;\n      scrollbar-color: "," ",";\n      scrollbar-width: 5px;\n\n      &::-webkit-scrollbar {\n        width: 7px;\n      }\n    \n      &::-webkit-scrollbar-thumb {\n        background-color: ",";\n        border-radius: 5px;\n      }\n    }\n\n\n    h2{\n      font-size: 1.5em;\n      padding: 0;\n      margin: 0;\n      margin-left: 3em;\n      color: ",";\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n      width: 100%;\n\n      section{\n        sup {\n          font-size: .5em;\n          box-sizing: border-box;\n          height: 2.3em;\n          width: 2.3em;\n          margin-left: .3em;\n          background: ",";\n          color: ",";\n          border-radius: 50%;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        span.delete{\n          color: red;\n        }\n      }\n\n      span{\n        font-size: 1.5em;\n        cursor: pointer;\n      }\n    }\n  "])),O.white,O.red,O.red,O.white,O.lightBlack,O.red,O.white,O.red,O.blue,O.red,O.white),We=function(){var n=Object(i.useContext)(x),e=Object(i.useContext)(vn),t=Object(i.useState)([]),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)([]),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(i.useState)(""),b=Object(d.a)(j,2),g=b[0],O=b[1],p=Object(i.useState)(!1),m=Object(d.a)(p,2),y=m[0],S=m[1];Object(i.useEffect)((function(){var t=!0;if(e.setHeaderCategory(e.headerCategory===z.ALLCUSTOMERS||e.headerCategory===z.TODAYSCUSTOMERS?e.headerCategory:z.TODAYSCUSTOMERS),t){var o={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Berer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/customer",o).then((function(n){return n.json()})).then((function(n){if(n.error)O(n.error.toString());else if(e.headerCategory===z.ALLCUSTOMERS)c(n.sort((function(n,e){return e.customerId-n.customerId}))),u(n.sort((function(n,e){return e.customerId-n.customerId})));else{var t=n.filter((function(n){var e=new Date(n.token.date),t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}));c(t.sort((function(n,e){return e.customerId-n.customerId}))),u(t.sort((function(n,e){return e.customerId-n.customerId})))}}))}return function(){t=!1}}),[null===n||void 0===n?void 0:n.token,e]);return Object(f.jsxs)(Je,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)("section",{children:["Customers",Object(f.jsx)("sup",{children:r.length})]})}),g,Object(f.jsxs)("section",{className:"list-container",children:[r.length?"":Object(f.jsx)(h,{}),l.map((function(n){return Object(f.jsx)(Ke,{customer:n},n.customerId)}))]}),Object(f.jsx)(_e,{handleSearchChange:function(n){var e=r.filter((function(e){return e.customerName.includes(n.currentTarget.value)}));u(e)},placeholderText:"Search By Customer Name"}),Object(f.jsx)($,{modalVisibility:y,resetModalVisibility:function(){return S(!1)},children:Object(f.jsx)(en,{body:"This will delete all Customers stored",title:"Delete All Customers?",onConfirm:function(e,t){e(!0);var o={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/customer/delete/allcustomers",o).then((function(n){return n.status})).then((function(n){200===n?(c([]),u([]),S(!1)):t("Error occured with status: ".concat(n))}))},onReject:function(){S(!1)}})})]})},Xe=b.a.article(te||(te=Object(u.a)(["\n  background: ",";\n  box-shadow: 2px 2px 5px #ccc;\n  margin: .6em;\n  box-sizing: border-box;\n  padding: .5em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  tranition: all .4s;\n  border-radius: .3em;\n  flex: 1 1 auto;\n\n  h3{\n    margin: 0;\n    padding: 0;\n    color: ",";\n    font-size: .9em;\n  }\n\n  p{\n    color: ",";\n  }\n\n  &:hover {\n    cursor: pointer;\n    box-shadow: 2px 2px 10px #ccc;\n    h3{\n      color: green;\n    }\n\n    p{\n      color: red;\n    }\n  }\n"])),O.white,O.lightBlack,O.green),Ze=function(n){var e=n.operator,t=n.cardClickFunction;return Object(f.jsxs)(Xe,{onClick:t,children:[Object(f.jsx)("h3",{children:e.username}),Object(f.jsx)("p",{children:e.counter?e.counter:"-"})]})},qe=b.a.section(oe||(oe=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 1em .5em 1em .5em;\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n\n  header {\n    font-weight: bold;\n    color: ",";\n    border-bottom: 2px solid ",";\n    width: 100%;\n    padding: 0 0 .2em 0;\n    font-size: 1.3em;\n    margin-bottom: .2em;\n  }\n\n  article {\n    color: ",";\n    padding: .5em 0;\n    \n    input {\n      border: none;\n      border-bottom: 2px solid ",";\n      padding: .5em;\n      outline: none;\n      width: 3em;\n      text-align: center;\n      text-transform: uppercase;\n    }\n  }\n  section {\n    margin-top: .3em;\n    align-self: center;\n    display: flex;\n\n    button#confirmButton {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      * {\n        margin: 0 .5em;\n      }\n    }\n\n    button {\n      display: block;\n      margin:0 .5em;\n      background: ",";\n      border: 0;\n      padding: .5em;\n      color: white;\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n\n  div {\n    height: .5em;\n    color: red;\n    border-top: 2px solid ",";\n    width: 100%;\n    margin-top: 1em;\n    font-size: .8em;\n    padding-top: .5em;\n  }\n"])),O.lightBlack,O.blue,O.darkBlack,O.blue,O.lightBlack,O.blue,O.blue),Qe=function(n){var e=n.operator,t=n.closeModalFn,o=n.updateAnOperatorFn,r=Object(i.useState)(""),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)((null===e||void 0===e?void 0:e.counter)?e.counter:""),u=Object(d.a)(l,2),j=u[0],b=u[1],g=Object(i.useState)(!1),O=Object(d.a)(g,2),p=O[0],m=O[1],y=Object(i.useContext)(x);return Object(f.jsxs)(qe,{onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("header",{children:["Counter for ",null===e||void 0===e?void 0:e.username]}),Object(f.jsxs)("form",{onSubmit:function(n){n.preventDefault(),m(!0),s("");var r={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y&&y.token)}};fetch("users/setcounter/".concat(null===e||void 0===e?void 0:e.id,"/").concat(j),r).then((function(n){return n.status})).then((function(n){200===n?(t(),e&&(e.counter=j,o(e))):s(500===n?"Error Counter : ".concat(j," already occupied"):n.toString()),m(!1)}))},children:[Object(f.jsxs)("article",{children:["Enter a counter Character:",Object(f.jsx)("input",{type:"text",onChange:function(n){n.preventDefault(),b(n.currentTarget.value.toUpperCase())},value:j})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("button",{id:"confirmButton",children:["OK ",p&&Object(f.jsx)(h,{})]}),Object(f.jsx)("button",{onClick:function(n){n.preventDefault(),t&&t()},children:"Cancel"})]})]}),Object(f.jsx)("div",{children:a})]})},$e=function(){var n=Object(i.useContext)(x),e=Object(i.useState)([]),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(d.a)(c,2),s=a[0],l=a[1],u=Object(i.useState)(null),j=Object(d.a)(u,2),b=j[0],g=j[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/users",e).then((function(n){return n.json()})).then((function(n){var e=n.map((function(n){return n._userInfo})).filter((function(n){return n.role===G.OPERATOR}));r(e)}))}),[n]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ae,{children:o.length?o.map((function(n){return Object(f.jsx)(Ze,{cardClickFunction:function(){!function(n){l(!0),g(n)}(n)},operator:n},n.id)})):Object(f.jsx)(h,{})}),Object(f.jsx)($,{modalVisibility:s,resetModalVisibility:function(){l(!1)},children:Object(f.jsx)(Qe,{operator:b,closeModalFn:function(){l(!1)},updateAnOperatorFn:function(n){console.log(n),r((function(e){return e.map((function(e){return e.username===n.username?n:e}))}))}})})]})},nt=b.a.form(re||(re=Object(u.a)(["\n  width: 80vw;\n  @media (min-width: 800px) {\n    width: 30vw;\n  }\n  .heading{\n    width: 100%;\n    font-size: 1.5em;\n    margin: 0;\n    margin-bottom: .5em;\n    padding: 0;\n    color: ",";\n  }\n\n  div{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: .2em;\n  }\n\n  div.tokenCategory {\n    justify-content: flex-start;\n    \n    label {\n      color: ",";\n    }\n\n    input {\n      width: 1em;\n    }\n\n    button {\n      margin: 0 .3em;\n    }\n  }\n\n  input {\n    border: none;\n    border-bottom: 3px solid lightslategrey;\n    font-size: 1em;\n    background: inherit;\n    padding: .5em;\n    color: ",";\n    margin: .3em;\n    width: 100%;\n  \n    &:focus, &:hover {\n      outline: none;\n      border-color: ",";\n      color: ",";\n    }\n  }\n\n  button {\n    background: ",";\n    border: none;\n    outline: none;\n    color: #eee;\n    width: 100%;\n    padding: .3em;\n    font-size: 1.2em;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 1em;\n    \n    span#left {\n      flex: 1 1 50%;\n      text-align: center;\n    }\n    \n    \n    &:hover, &:active {\n      cursor: pointer;\n      background: ",";\n    }\n  }\n\n  .textMessage {\n    color: ",";\n    display: block;\n    height: 1.2em;\n  }\n\n  .green {\n    color: ","\n  }\n\n"])),O.lightBlack,O.darkBlack,O.lightBlack,O.blue,O.blue,O.lightBlack,O.blue,O.red,O.green),et=function(n){var e=n.category,t=n.categoryName,o=n.addNewCategory,r=n.updateACategory,c=Object(i.useContext)(x),s=a.a.createRef(),l=a.a.createRef(),u=Object(i.useState)(!1),j=Object(d.a)(u,2),b=j[0],g=j[1],O=Object(i.useState)(!1),p=Object(d.a)(O,2),m=p[0],y=p[1],S=Object(i.useState)(""),v=Object(d.a)(S,2),k=v[0],C=v[1],E=Object(i.useState)(""),T=Object(d.a)(E,2),N=T[0],A=T[1],w=Object(i.useState)(""),I=Object(d.a)(w,2),R=I[0],L=I[1];Object(i.useEffect)((function(){e&&A(e),t&&L(t)}),[e,t]);var U=function(){var n={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({category:N,categoryName:R})};fetch("/tokenbase/updatecategoryname",n).then((function(n){return n.status})).then((function(n){200===n?(y(!0),C("Category updated"),r&&r({category:N,categoryName:R,currentTokenCount:0,latestCustomerTokenCount:0})):(y(!1),C("Failed with staus code :".concat(n)))})).catch((function(n){y(!1),C(n.toString())}))},D=function(){var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)},body:JSON.stringify({category:N,categoryName:R})};fetch("/tokenbase/createtokencategory",n).then((function(n){return n.status})).then((function(n){201===n?(y(!0),C("Category Created"),o&&o({category:N,categoryName:R,currentTokenCount:0,latestCustomerTokenCount:0})):(y(!1),C("Failed with staus code :".concat(n)))})).catch((function(n){y(!1),C(n.toString())}))};return Object(f.jsx)("div",{children:Object(f.jsxs)(nt,{onSubmit:function(n){g(!0),n.preventDefault(),e?U():D()},onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("div",{className:"heading",children:[e?"Update":"Create"," Category"]}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Category Name",onChange:function(n){L(n.currentTarget.value)},value:R,ref:s})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Category Symbol (1 character)",maxLength:1,onChange:function(n){A(n.target.value.toUpperCase())},value:N,ref:l,disabled:!!e})}),Object(f.jsxs)("button",{children:[Object(f.jsx)("span",{id:"left",children:e?"Update":"Create"}),b&&Object(f.jsx)(h,{})]}),Object(f.jsx)("div",{className:"".concat(m?"textMessage green":"textMessage"),children:k})]})})},tt=b.a.section(ce||(ce=Object(u.a)(["\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  box-shadow: 3px 3px 3px #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: .5em;\n  border-radius: .3em;\n  cursor: pointer;\n  margin: .3em;\n\n  &:hover {\n    box-shadow: 3px 3px 5px #ccc;\n  }\n\n  h3{\n    padding: 0;\n    margin: 0;\n    color: ",";\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid ",";\n\n    span {\n      color: ",";\n      font-size: 1.3em;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n  article {\n    margin-top: .3em;\n    font-size: .9em;\n    color: ",";\n\n    span {\n      font-weight: bold;\n      color: ",";\n      padding-left: .3em;\n    }\n  }\n"])),O.blue,O.blue,O.lightBlack,O.red,O.darkBlack,O.green),ot=function(n){var e=Object(i.useContext)(x),t=Object(i.useState)(!1),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(d.a)(a,2),l=s[0],u=s[1];return Object(f.jsxs)(tt,{onClick:function(){c(!0)},children:[Object(f.jsxs)("h3",{children:[n.categoryName," ",Object(f.jsx)("span",{onClick:function(n){n.stopPropagation(),u(!0)},children:Object(f.jsx)(Le.b,{})})]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("section",{children:["Category: ",Object(f.jsx)("span",{children:n.category})," "]}),Object(f.jsxs)("section",{children:["No.Of Tokens: ",Object(f.jsx)("span",{children:n.latestCustomerCount})]}),Object(f.jsxs)("section",{children:["Currently Calling: ",Object(f.jsx)("span",{children:n.currentCustomerCount})]})]}),Object(f.jsx)($,{modalVisibility:r,resetModalVisibility:function(){c(!1)},children:Object(f.jsx)(et,{category:n.category,categoryName:n.categoryName,updateACategory:function(e){n.updateACategory(e),c(!1)}})}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){u(!1)},children:Object(f.jsx)(en,{onConfirm:function(t,o){t(!0);var r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("/tokenbase/deletecategory/".concat(n.category),r).then((function(n){return n.status})).then((function(e){200===e?(n.deleteAcategory(n.category),c(!1)):o("Error while deleting with status code : ".concat(e))})).catch((function(n){o(n.toString())}))},onReject:function(){u(!1)},title:"Delete Category ".concat(n.category),body:"Confirming this action will delete this category"})})]})},rt=b.a.section(ie||(ie=Object(u.a)(["\n  width: 100%;\n  height: 90%;\n  h2 {\n    font-size: 1.5em;\n    padding: 0;\n    margin: 0;\n    margin-left: 2em;\n    color: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n    span {\n      cursor: pointer;\n      font-size: 1.5em;\n    }\n\n  }\n"])),O.blue),ct=function(){var n=Object(i.useContext)(x),e=Object(i.useState)(!1),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)([]),a=Object(d.a)(c,2),s=a[0],l=a[1];Object(i.useEffect)((function(){var e=!0;if(e){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/tokenbase/getalltokencategories",t).then((function(n){return n.json()})).then((function(n){l(n)}))}return function(){e=!1}}),[n]);var u=function(n){l((function(e){return e.map((function(e){return n.category===e.category?n:e}))}))},j=function(n){l((function(e){return e.filter((function(e){return e.category!==n}))}))};return Object(f.jsxs)(rt,{children:[Object(f.jsxs)("h2",{children:["Categories ",Object(f.jsx)("span",{className:"icon",onClick:function(){r(!0)},children:Object(f.jsx)(Z.b,{})})]}),Object(f.jsx)(Ae,{children:s.length?s.map((function(n){return Object(f.jsx)(ot,{category:n.category,categoryName:n.categoryName,currentCustomerCount:n.currentTokenCount,latestCustomerCount:n.latestCustomerTokenCount,deleteAcategory:j,updateACategory:u},n.category)})):Object(f.jsx)(h,{})}),Object(f.jsx)($,{modalVisibility:o,resetModalVisibility:function(){r(!1)},children:Object(f.jsx)(et,{addNewCategory:function(n){l((function(e){return[n].concat(Object(rn.a)(e))})),r(!1)}})})]})},it=b.a.section(ae||(ae=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  margin: .3em;\n  box-shadow: 3px 3px 3px #ccc;\n  flex: 1 1 auto;\n\n  h3{\n    margin: 0;\n    padding: 0;\n    color: ",";\n    border-bottom: 2px solid ",";\n    width: 100%;\n    font-size: 1.1em;\n  }\n\n  article {\n    margin: .3em 0;\n    padding: 0;\n    font-size: .9em;\n    color: ",";\n\n    p{\n      margin: .3em 0;\n      padding: 0;\n\n      span{\n        color: ",";\n        font-weight: bold;\n      }\n    }\n    div {\n      margin: .3em;\n      display: flex;\n      justify-content: space-between;\n      width: 100%;\n\n      input {\n        border: none;\n        outline: none;\n        border-bottom: 2px solid ",";\n        text-align: center;\n        font-weight :bold;\n        color: ",";\n        font-size: .9em;\n        cursor: pointer;\n      }\n\n      button {\n        border: none;\n        background: ",";\n        color: ",";\n        padding: .2em 1em;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n\n    div.message {\n      min-height: 1.2em;\n      border-top: 1px solid ",";\n    }\n  }\n"])),O.blue,O.blue,O.darkBlack,O.green,O.blue,O.green,O.lightBlack,O.white,O.blue,O.lightBlack),at=function(n){var e=n.categoryInterface,t=Object(i.useContext)(x),o=Object(i.useState)(""),r=Object(d.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)(""),l=Object(d.a)(s,2),u=l[0],j=l[1],b=Object(i.useState)(""),g=Object(d.a)(b,2),h=g[0],O=g[1];Object(i.useEffect)((function(){var n,o,r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}};n=e.category?"/tokencount/categorytokencount/".concat(e.category):"/tokencount",fetch(n,r).then((function(n){return n.json()})).then((function(n){e.category?a(n.currentCustomerCountOfCategory):a(n.currentCustomerTokenCount)})),o=e.category?"tokencount/categorytokencount/latestcustomercount/".concat(e.category):"/tokencount/lastcustomertokencount",fetch(o,r).then((function(n){return n.json()})).then((function(n){e.category?j(n.lastCustomerCount):j(n.lastCustomerTokenCount)}))}),[null===t||void 0===t?void 0:t.token,e.category]);return Object(f.jsxs)(it,{children:[Object(f.jsxs)("h3",{children:["Category: ",e.category]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("p",{children:["Category Name : ",Object(f.jsx)("span",{children:e.categoryName})]}),Object(f.jsxs)("div",{children:["Token Calling : ",Object(f.jsx)("input",{type:"text",size:3,value:c,onChange:function(n){a(n.currentTarget.value)}}),Object(f.jsx)("button",{onClick:function(n){var o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)},body:JSON.stringify({category:e.category})};if(e.category){var r="tokencount/categorytokencount/categorycountpreset/".concat(c);fetch(r,o).then((function(n){return n.status})).then((function(n){O(200===n?"Set Successfully":"Setting Failed Status : ".concat(n))}))}else{var i="tokencount/presettokencount/".concat(c);fetch(i,o).then((function(n){return n.status})).then((function(n){O(200===n?"Set Successfully":"Setting Failed Status : ".concat(n))}))}},children:"Set"})]}),Object(f.jsxs)("div",{children:["Highest Count : ",Object(f.jsx)("input",{type:"text",size:3,value:u,onChange:function(n){j(n.currentTarget.value)}}),Object(f.jsx)("button",{onClick:function(n){var o={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)},body:JSON.stringify({category:e.category})};if(e.category){var r="tokencount/categorytokencount/latestcustomercountset/".concat(u);fetch(r,o).then((function(n){return n.status})).then((function(n){O(200===n?"Set Successfully":"Setting Failed Status : ".concat(n))}))}else{var c="tokencount/setlastcustomertokencount/".concat(u);fetch(c,o).then((function(n){return n.status})).then((function(n){O(200===n?"Set Successfully":"Setting Failed Status : ".concat(n))}))}},children:"Set"})]}),Object(f.jsx)("div",{className:"message",children:h})]})]})},st=function(){var n=Object(i.useState)([]),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useContext)(x);return Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}};fetch("tokenbase/getalltokencategories",n).then((function(n){return n.json()})).then((function(n){var e={category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0};n.unshift(e),o(n)}))}),[r]),Object(f.jsx)(Ae,{children:t.map((function(n){return Object(f.jsx)(at,{categoryInterface:n},n.category?n.category:"-")}))})},lt=b.a.section(se||(se=Object(u.a)(["\n  color: ",";\n  font-family: Arial, sans-serif;\n"])),O.lightBlack),dt=function(n){var e=n.pluginID,t=Object(i.useContext)(x),o=Object(i.useState)(),r=Object(d.a)(o,2),c=r[0],a=r[1];Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}};fetch("/plugins/".concat(e),n).then((function(n){return n.json()})).then((function(n){a(n)}))}),[null===t||void 0===t?void 0:t.token,e]);return Object(f.jsx)(lt,{onClick:function(n){n.stopPropagation()},children:Object(f.jsx)("table",{children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Plugin Name : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.name})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Plugin ID :  "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.pluginId})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Description : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.pluginDescription})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Version : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.version})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Min Core Version : "}),Object(f.jsx)("td",{children:null===c||void 0===c?void 0:c.pluginInfo.minCoreVersion})]})]})})})};!function(n){n.TEXT="text",n.NUMBER="number",n.RADIO="radio",n.SELECT="select",n.CHECKBOX="checkbox"}(le||(le={}));var ut,jt,bt,ft,gt,ht,Ot,pt,mt,xt,yt=function(n){var e=Object(f.jsx)(f.Fragment,{});return n.configType===le.TEXT||n.configType===le.NUMBER?e=Object(f.jsx)(St,Object(y.a)({},n)):n.configType===le.RADIO?e=Object(f.jsx)(vt,Object(y.a)({},n)):n.configType===le.SELECT?e=Object(f.jsx)(kt,Object(y.a)({},n)):n.configType===le.CHECKBOX&&(e=Object(f.jsx)(Ct,Object(y.a)({},n))),e},St=function(n){return Object(f.jsxs)("span",{children:[n.name," : ",Object(f.jsx)("input",{type:n.configType,name:n.name,defaultValue:n.value})]})},vt=function(n){var e,t=typeof n.value,o=null===(e=n.choiceOptions)||void 0===e?void 0:e.map((function(e,o){return Object(f.jsxs)("span",{children:[Object(f.jsx)("input",{type:n.configType,value:e,name:n.name,defaultChecked:"string"===t&&n.value===e})," ",e]},o)}));return Object(f.jsxs)("span",{children:[n.name," : ",o]})},kt=function(n){var e,t=Object(i.useState)(""),o=Object(d.a)(t,2),r=o[0],c=o[1];Object(i.useEffect)((function(){c(n.value)}),[]);var a=null===(e=n.choiceOptions)||void 0===e?void 0:e.map((function(n,e){return Object(f.jsx)("option",{value:n,children:n},e)}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("span",{children:[n.name," : ",Object(f.jsx)("select",{name:n.name,value:r,onChange:function(n){c(n.currentTarget.value)},children:a})]})})},Ct=function(n){var e,t=typeof n.value,o=n.value,r=null===(e=n.choiceOptions)||void 0===e?void 0:e.map((function(e,r){return Object(f.jsxs)("span",{children:[Object(f.jsx)("input",{type:n.configType,value:e,name:n.name,defaultChecked:"string"!==t&&!!o.find((function(n){return n===e}))})," ",e]},r)}));return Object(f.jsxs)("span",{children:[n.name," : ",null===r||void 0===r?void 0:r.map((function(n){return n}))]})},Et=function(n){return Object(f.jsx)(f.Fragment,{children:yt(n.pluginConfigElement)})},Tt=b.a.form(ut||(ut=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  color: ",";\n\n  span {\n    display: flex;\n    margin: .3em;\n    align-items: center;\n  }\n\n  input {\n    margin: .3em;\n    cursor: pointer;\n  }\n\n  button {\n    width: 40%;\n    background: ",";\n    color: ",';\n    border-radius: .3em;\n    border: none;\n    padding: .5em;\n    cursor: pointer;\n    align-self: center;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  input[type="text"], input[type="number"] {\n    border: none;\n    border-bottom: 2px solid ',";\n    outline: none;\n    font-family: Arial, sans-serif;\n    font-size: 1em;\n    padding: .3em;\n    color: ",';\n  }\n\n  input[type="text"]: focus, input[type="number"]: focus {\n    border-bottom: 2px solid ',";\n    color: ",";\n  }\n  select {\n    border: none;\n    outline: none;\n    border-bottom: 2px solid ",";\n    padding: .3em;\n    margin: .3em;\n  }\n\n  select: focus {\n    border-bottom: 2px solid ",";\n  }\n\n  div.message {\n    margin-top: 1em;\n    font-size: .9em;\n    color: ",";\n  }\n"])),O.darkBlack,O.blue,O.white,O.lightBlack,O.green,O.blue,O.blue,O.lightBlack,O.green,O.green),Nt=function(n){var e=Object(i.useState)(""),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(!1),a=Object(d.a)(c,2),s=a[0],l=a[1],u=Object(i.useContext)(x),j=n.pluginConfigElements.map((function(n,e){return Object(f.jsx)(Et,{pluginConfigElement:n},e)})),b=function(e){var t=[];return n.pluginConfigElements.forEach((function(n){var o=e.currentTarget[n.name];o instanceof RadioNodeList?g(o,n):n.value=o.value,t.push(n)})),t},g=function(n,e){var t=[];n.forEach((function(n){"checkbox"===n.type?n.checked&&t.push(n.value):n.checked&&(t=n.value)})),e.value=t},O=function(e){var t={pluginsConfig:e},o={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===u||void 0===u?void 0:u.token)},body:JSON.stringify(t)};fetch("/plugins/config/".concat(n.pluginId),o).then((function(n){return n.json()})).then((function(n){r(n.success),l(!1)})).catch((function(n){r(n.toString())}))};return Object(f.jsxs)(Tt,{onSubmit:function(n){n.preventDefault(),l(!0),r("Updating...");var e=b(n);O(e)},children:[j,Object(f.jsxs)("button",{children:["Update ",s&&Object(f.jsx)(h,{})]}),Object(f.jsx)("div",{className:"message",children:o})]})},At=b.a.section(jt||(jt=Object(u.a)(["\n  font-family: Arial, sans-serif;\n\n  h2{\n    color: ",";\n    border-bottom: 1px solid ",";\n    padding: .3em;\n    margin: 0;\n    font-size: 1.2em;\n  }\n\n  article{\n    margin: 1em;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    p {\n      margin: 1em;\n    }\n  }\n\n"])),O.blue,O.blue),wt=function(n){var e=a.a.useContext(x),t=Object(i.useState)([]),o=Object(d.a)(t,2),r=o[0],c=o[1],s=Object(i.useState)(""),l=Object(d.a)(s,2),u=l[0],j=l[1],b=Object(i.useState)(),g=Object(d.a)(b,2),O=g[0],p=g[1];Object(i.useEffect)((function(){var t={method:"Get",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};fetch("plugins/config/".concat(n.pluginId),t).then((function(n){return n.json()})).then((function(n){n.error?j(n.error):c(n)})),fetch("plugins/".concat(n.pluginId),t).then((function(n){return n.json()})).then((function(n){p(n)}))}),[null===e||void 0===e?void 0:e.token,n.pluginId]);return Object(f.jsxs)(At,{onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("h2",{children:["Settings For Plugin: ",null===O||void 0===O?void 0:O.pluginInfo.name]}),r.length?Object(f.jsx)("article",{children:Object(f.jsx)(Nt,{pluginConfigElements:r,pluginId:n.pluginId})}):Object(f.jsxs)("article",{children:[Object(f.jsx)(h,{})," ",Object(f.jsx)("p",{children:u})]})]})},It=b.a.section(bt||(bt=Object(u.a)(["\n  font-family: Arial, sans-serif;\n  color: ",";\n  h2{\n    font-size: 1.2em;\n    border-bottom: 2px solid ",";\n    color: ",';\n  }\n\n  form {\n    article{\n      display: flex;\n      justify-content: center;\n      *{\n        margin: .3em;\n      }\n\n      input[type="text"] {\n        border: none;\n        outline: none;\n        border-bottom: 2px solid ',";\n        color: ",";\n        font-size: 1em;\n      }\n\n      button {\n        border: none;\n        color: ",";\n        padding: .5em;\n        border-radius: .3em;\n\n        &:hover {\n          cursor: pointer;\n        }\n      }\n\n      button#getButton {\n        background: ",";\n      }\n\n      button#submitButton {\n        background: ",";\n        display: flex;\n        justify-content: space-around;\n        width: 30%;\n        align-items: center;\n\n        *{\n          margin: .3em;\n        }\n      }\n    }\n  }\n\n  div.message{\n    margin: .8em;\n  }\n"])),O.darkBlack,O.blue,O.blue,O.blue,O.darkBlack,O.white,O.blue,O.green),Rt=function(n){var e=n.pluginId,t=Object(i.useContext)(x),o=Object(i.useContext)(vn),r=Object(i.useState)(),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(""),u=Object(d.a)(l,2),j=u[0],b=u[1],g=Object(i.useState)(""),O=Object(d.a)(g,2),p=O[0],m=O[1],y=Object(i.useState)(!1),S=Object(d.a)(y,2),v=S[0],k=S[1];Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)}};fetch("/plugins/".concat(e),n).then((function(n){return n.json()})).then((function(n){s(n)}))}),[]);return Object(f.jsxs)(It,{onClick:function(n){n.stopPropagation()},children:[Object(f.jsxs)("h2",{children:["Activation for ",null===a||void 0===a?void 0:a.pluginInfo.name]}),Object(f.jsxs)("form",{onSubmit:function(n){n.preventDefault(),k(!0),m("Updating...");var r={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.token)},body:JSON.stringify({pluginId:e,pluginValidatorId:j})};fetch("/plugins/setvalidatorid",r).then((function(n){return n.json()})).then((function(n){n.error?m(n.error):(o.setReloadEnhancer(),m(n.success))})).catch((function(n){m(n.toString())})),k(!1)},children:[Object(f.jsxs)("article",{children:[Object(f.jsx)("label",{children:"Serial Key: "}),Object(f.jsx)("input",{type:"text",value:j,onChange:function(n){b(n.currentTarget.value)}}),Object(f.jsx)("button",{type:"button",id:"getButton",children:"Get"})]}),Object(f.jsx)("article",{children:Object(f.jsxs)("button",{type:"submit",id:"submitButton",children:["Activate ",v&&Object(f.jsx)(h,{})]})})]}),Object(f.jsx)("div",{className:"message",children:p})]})},Lt=b.a.section(ft||(ft=Object(u.a)(["\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  box-shadow: 3px 3px 3px #ccc;\n  display: flex;\n  flex-direction: row;\n  padding: .5em;\n  border-radius: .3em;\n  margin: .3em;\n  align-items: center;\n\n  &:hover {\n    box-shadow: 3px 3px 6px #aaa;\n  }\n  \n  section {\n    padding: .7em;\n    background: ",";\n    color: ",";\n    display: flex;\n    align-items: center;\n    border-radius: 50%;\n    font-size: 1.2em;\n    margin: .5em;\n  }\n\n  article {\n    h3{\n      margin: 0;\n      padding: 0;\n      color: ",";\n      font-weight: normal;\n    }\n    article {\n      font-size: .9em;\n      font-style: italic;\n    }\n\n    button {\n      color: ",";\n      border: none;\n      padding: .4em;\n      border-radius: .3em;\n      margin: .3em;\n      cursor: pointer;\n    }\n\n    button#configuration {\n      background: ",";\n    }\n\n    button#delete {\n      background: ",";\n    }\n    \n    button#registration {\n      background: ",";\n      justify-self: center;\n    }\n  }\n\n"])),O.lightBlack,O.darkBlack,O.green,O.white,O.blue,O.red,O.green),Ut=function(){var n=Object(i.useContext)(x),e=Object(i.useContext)(vn),t=Object(i.useState)([]),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(i.useState)(!1),b=Object(d.a)(j,2),g=b[0],O=b[1],p=Object(i.useState)(!1),y=Object(d.a)(p,2),S=y[0],v=y[1],k=Object(i.useState)(!1),C=Object(d.a)(k,2),E=C[0],T=C[1],N=Object(i.useState)(0),A=Object(d.a)(N,2),w=A[0],I=A[1],R=Object(i.useState)("Loading..."),L=Object(d.a)(R,2),U=L[0],D=L[1];Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/plugins",e).then((function(n){return n.json()})).then((function(n){n.error?D(n.error):c(n)}))}),[e,n]);var B=function(n,e){n.stopPropagation(),I(e),v(!0)};return Object(f.jsxs)(Ae,{children:[r.length?r.map((function(n){return Object(f.jsxs)(Lt,{onClick:function(){var e;e=n.plugin.pluginInfo.pluginId,I(e),u(!0)},children:[Object(f.jsx)("section",{children:Object(f.jsx)(m.d,{})}),Object(f.jsxs)("article",{children:[Object(f.jsx)("h3",{children:n.plugin.pluginInfo.name}),Object(f.jsxs)("article",{children:["Version : ",n.plugin.pluginInfo.version?n.plugin.pluginInfo.version:"-"]}),n.valid?Object(f.jsxs)("article",{children:[Object(f.jsx)("button",{id:"configuration",onClick:function(e){return function(n,e){n.stopPropagation(),I(e),O(!0)}(e,n.plugin.pluginInfo.pluginId)},children:"Settings"}),Object(f.jsx)("button",{id:"delete",onClick:function(e){B(e,n.plugin.pluginInfo.pluginId)},children:"Delete"})]}):Object(f.jsxs)("article",{children:[Object(f.jsx)("button",{id:"registration",onClick:function(e){!function(n,e){n.stopPropagation(),I(e),T(!0)}(e,n.plugin.pluginInfo.pluginId)},children:"Activate"}),Object(f.jsx)("button",{id:"delete",onClick:function(e){B(e,n.plugin.pluginInfo.pluginId)},children:"Delete"})]})]})]},n.plugin.pluginInfo.pluginId)})):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h,{})," ",U]}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){return u(!1)},children:Object(f.jsx)(dt,{pluginID:w})}),Object(f.jsx)($,{modalVisibility:S,resetModalVisibility:function(){return v(!1)},children:Object(f.jsx)(en,{onConfirm:function(t,o){t(!0);var r={method:"Delete",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/plugins/".concat(w),r).then((function(n){return n.json()})).then((function(n){e.setReloadEnhancer(),o(n.success),t(!1),v(!1),e.setReloadEnhancer()})).catch((function(n){o(n.toString())}))},onReject:function(){v(!1)},title:"Confirm Plugin Delete",body:"Confirming your action will delete the plugin"})}),Object(f.jsx)($,{modalVisibility:g,resetModalVisibility:function(){O(!1)},children:Object(f.jsx)(wt,{pluginId:w})}),Object(f.jsx)($,{modalVisibility:E,resetModalVisibility:function(){T(!1)},children:Object(f.jsx)(Rt,{pluginId:w})})]})},Dt=function(){var n=Object(i.useState)(Object(f.jsx)(f.Fragment,{})),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useContext)(vn);return Object(i.useEffect)((function(){r.category===P.HOME?o(Object(f.jsx)(Ie,{})):r.category===P.USERS?o(Object(f.jsx)(Ge,{})):r.category===P.CUSTOMERS?o(Object(f.jsx)(We,{})):r.category===P.TOKENBASES?o(Object(f.jsx)(ze,{})):r.category===P.COUNTERMANAGEMENT?o(Object(f.jsx)($e,{})):r.category===P.CATEGORIES?o(Object(f.jsx)(ct,{})):r.category===P.TOKENCOUNT?o(Object(f.jsx)(st,{})):r.category===P.PLUGINMANAGEMENT&&o(Object(f.jsx)(Ut,{}))}),[r]),Object(f.jsx)("div",{className:"grid-content",children:t})},Bt=function(){var n=Object(i.useState)(P.HOME),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useState)(z.NOHEADERS),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)("/tokenbase"),u=Object(d.a)(l,2),j=u[0],b=u[1],g=Object(i.useState)(!1),h=Object(d.a)(g,2),O=h[0],p=h[1],m={category:t,setCategory:function(n){o(n)},headerCategory:a,setHeaderCategory:function(n){s(n)},tokenFetchURL:j,setTokenFetchURL:b,reloadEnhancer:O,setReloadEnhancer:function(){p(!O)}};return Object(f.jsx)(vn.Provider,{value:m,children:Object(f.jsxs)(On,{children:[Object(f.jsx)(Ee,{}),Object(f.jsx)(Dt,{}),Object(f.jsx)(Te,{})]})})},Mt={category:"",setCategory:function(){},availableCategories:[],setAvailableCategories:function(n){}},Pt=a.a.createContext(Mt),zt=b.a.article(gt||(gt=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  \n  @media (min-width:600px) {\n    transform: translate(-20%, 0);\n  }\n"]))),Gt=b.a.div(ht||(ht=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width :100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  h3{\n    font-size: 1.1em;\n    color: ",";\n    margin :1em 0 0 0;\n    padding: 0;\n  }\n  div.token {\n    font-size: 5em;\n    margin: .1em;\n    padding: 0;\n    border-bottom :3px solid ",";\n    color: ",";\n    width: 3em;\n    text-align: center;\n  }\n  div.message {\n    color: ",";\n    margin: .5em;\n    text-align: center;\n    height: 1.25em;\n  }\n"])),O.blue,O.blue,O.green,O.darkBlack),Ft=b.a.div(Ot||(Ot=Object(u.a)(["\n  width: 100%;\n\n  div.primary {\n    display: flex;\n    justify-content: center;\n\n    button {\n      margin: 1em;\n      padding: .5em;\n      border: 0;\n      background: ",";\n      color: ",";\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    }\n  }\n\n  div.secondary {\n    color: ",";\n    margin: 1em 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    div.forward, div.random{\n      margin: .5em 0;\n      \n      select {\n        outline: none;\n        border: none;\n        border-bottom: 2px solid ",";\n        color: ",";\n        font-size: 1em;\n        margin: 0 .3em;\n      }\n\n      button {\n        padding: .5em;\n        background: ",";\n        border: none;\n        color: white;\n        cursor: pointer;\n        margin :0 .3em;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n"])),O.darkBlack,O.white,O.blue,O.darkBlack,O.blue,O.lightBlack,O.lightBlack,O.blue),Vt=b.a.section(pt||(pt=Object(u.a)(["\n  margin: 0;\n  padding: .3em;\n  color: ",";\n\n  h3{\n    color: ",";\n    border-bottom: 2px solid ",";\n    font-size: 1.1em;\n    margin: .5em 0;\n    padding: 0;\n  }\n\n  form {\n    font-size: .9em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-bottom: 2px solid ",";\n\n    .inputs{\n      select {\n        padding: .3em;\n        border: none;\n        border-bottom: 2px solid ",";\n        color: ",";\n      }\n      input {\n        margin: 0 .3em;\n        border : none;\n        outline: none;\n        border-bottom: 2px solid ",";\n        padding: .3em;\n      }\n    }\n    button {\n        border: none;\n        background: ",";\n        outline: none;\n        padding: .5em;\n        margin: .5em 0;\n        color: ",";\n        cursor: pointer;\n\n        &:hover {\n          background: ",";\n        }\n      }\n  }\n\n  .message {\n    height: 1.2em;\n  }\n"])),O.darkBlack,O.blue,O.blue,O.blue,O.blue,O.darkBlack,O.blue,O.darkBlack,O.white,O.blue),Ht=function(){var n=Object(i.useState)(""),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useState)(""),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)([{category:"",categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}]),u=Object(d.a)(l,2),j=u[0],b=u[1],g=Object(i.useState)(!1),O=Object(d.a)(g,2),p=O[0],m=O[1],y=Object(i.useState)(""),S=Object(d.a)(y,2),v=S[0],k=S[1],C=Object(i.useContext)(x);return Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===C||void 0===C?void 0:C.token)}};fetch("tokenbase/getalltokencategories",n).then((function(n){return n.json()})).then((function(n){b((function(e){return[].concat(Object(rn.a)(e),Object(rn.a)(n))}))}))}),[null===C||void 0===C?void 0:C.token]),Object(f.jsxs)(Vt,{onClick:function(n){n.stopPropagation()},children:[Object(f.jsx)("h3",{children:"Random Token Call"}),Object(f.jsxs)("form",{onSubmit:function(n){n.preventDefault(),m(!0),k("Processing Your Call...");var e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===C||void 0===C?void 0:C.token)},body:JSON.stringify({category:"".concat(t),actedTokenNumber:"".concat(a)})};fetch("/tokencaller/callrandom",e).then((function(n){return n.json()})).then((function(n){m(!1),n.error?k(n.error):k("Random Calling Succeeded!!")})).catch((function(n){k(n.toString())}))},children:[Object(f.jsxs)("div",{className:"inputs",children:["Category:",Object(f.jsx)("select",{onChange:function(n){o(n.currentTarget.value)},children:j.map((function(n){return Object(f.jsxs)("option",{value:n.category,children:[n.category,"-",n.categoryName]},n.category?n.category:"-")}))}),Object(f.jsx)("input",{type:"number",placeholder:"Token No.",size:5,onChange:function(n){s(n.currentTarget.value)}})]}),Object(f.jsxs)("button",{children:["Call Random ",p&&Object(f.jsx)(h,{})]})]}),Object(f.jsx)("div",{className:"message",children:v})]})},Kt=function(n){var e=n.props,t=Object(i.useState)(""),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(!1),s=Object(d.a)(a,2),l=s[0],u=s[1];return Object(f.jsxs)(zt,{children:[Object(f.jsxs)(Gt,{children:[Object(f.jsx)("h3",{children:"You are Currently Calling :"}),Object(f.jsx)("div",{className:"token",onDoubleClick:function(){var n={date:new Date,tokenId:0,tokenNumber:0,tokenCategory:""};e.setProcessingToken(n),localStorage.setItem(xt.PROCESSINGTOKEN,JSON.stringify(n))},children:e.processingToken?"".concat(e.processingToken.tokenCategory?e.processingToken.tokenCategory:"").concat(e.processingToken.tokenNumber):0}),Object(f.jsx)("div",{className:"message",children:e.message})]}),Object(f.jsxs)(Ft,{children:[Object(f.jsxs)("div",{className:"primary",children:[Object(f.jsxs)("button",{onClick:function(){e.handlePrimaryTokenProcessing(mt.CALLAGAIN)},children:["Call Again ",e.isCallAgainProcessing&&Object(f.jsx)(h,{})]}),Object(f.jsxs)("button",{onClick:function(){e.handlePrimaryTokenProcessing(mt.COMPLETED)},children:["Completed ",e.isCompletedProcessing&&Object(f.jsx)(h,{})]}),Object(f.jsxs)("button",{onClick:function(){e.handlePrimaryTokenProcessing(mt.BYPASS)},children:["Bypass ",e.isBypassProcessing&&Object(f.jsx)(h,{})]})]}),Object(f.jsxs)("div",{className:"secondary",children:[Object(f.jsxs)("div",{className:"forward",children:["Forward :",Object(f.jsx)("select",{onChange:function(n){c(n.currentTarget.value)},children:e.allOperators.map((function(n){return Object(f.jsxs)("option",{value:n.counter,children:[n.counter,"-",n.username]},n.id)}))}),Object(f.jsxs)("button",{onClick:function(){e.handleTokenForward(r)},children:["Forward ",e.isForwardProcessing&&Object(f.jsx)(h,{})]})]}),Object(f.jsx)("div",{className:"random",children:Object(f.jsx)("button",{onClick:function(){u(!0)},children:"Random Call"})})]})]}),Object(f.jsx)($,{modalVisibility:l,resetModalVisibility:function(){u(!1)},children:Object(f.jsx)(Ht,{})})]})};!function(n){n.CALLAGAIN="callagaintoken",n.COMPLETED="nexttoken",n.BYPASS="bypasstoken"}(mt||(mt={})),function(n){n.PROCESSINGTOKEN="ProcessingToken"}(xt||(xt={}));var Yt,_t,Jt=function(){var n=Object(i.useState)([]),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useState)(""),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1],g=Object(i.useState)(!1),h=Object(d.a)(g,2),O=h[0],p=h[1],m=Object(i.useState)(!1),y=Object(d.a)(m,2),S=y[0],v=y[1],k=Object(i.useState)(!1),C=Object(d.a)(k,2),E=C[0],T=C[1],N=Object(i.useContext)(x),A=Object(i.useContext)(Pt),w=Object(i.useState)(),I=Object(d.a)(w,2),R=I[0],L=I[1];Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===N||void 0===N?void 0:N.token)}},e=localStorage.getItem(xt.PROCESSINGTOKEN),t={date:new Date,tokenId:0,tokenNumber:0,tokenCategory:void 0!==A.category?A.category:""};if(e){var r=JSON.parse(e);r.date=new Date(r.date);var c=r.date,i=new Date,a=c.getDate()===i.getDate()&&c.getMonth()===i.getMonth()&&c.getFullYear()===i.getFullYear();L(a?r:t)}else L(t);fetch("/users",n).then((function(n){return n.json()})).then((function(n){var e=null===N||void 0===N?void 0:N.loggedInUser;if(e){var t=n.filter((function(n){return n._userInfo.role===G.OPERATOR&&null!==N&&n._userInfo.id!==e.id})).map((function(n){return n._userInfo})).filter((function(n){return n.counter}));o((function(n){return[].concat(Object(rn.a)(n),Object(rn.a)(t))}))}}))}),[]);var U=function(n){return n===mt.CALLAGAIN?JSON.stringify({category:(null===R||void 0===R?void 0:R.tokenCategory)?R.tokenCategory:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber}):A.category===(null===R||void 0===R?void 0:R.tokenCategory)||0===(null===R||void 0===R?void 0:R.tokenNumber)?JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber}):JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber,processedCategory:(null===R||void 0===R?void 0:R.tokenCategory)?R.tokenCategory:""})},D=function(n){return A.category===(null===R||void 0===R?void 0:R.tokenCategory)||0===(null===R||void 0===R?void 0:R.tokenNumber)?JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber,counterToForward:n}):JSON.stringify({category:A.category?A.category:"",actedTokenNumber:null===R||void 0===R?void 0:R.tokenNumber,processedCategory:(null===R||void 0===R?void 0:R.tokenCategory)?R.tokenCategory:"",counterToForward:n})},B=function(n){var e;return n===mt.BYPASS?(b(!0),e="/tokencaller/bypasstoken"):n===mt.CALLAGAIN?(p(!0),e="/tokencaller/callagaintoken"):n===mt.COMPLETED?(T(!0),e="/tokencaller/nexttoken"):e="",e},M=function(){b(!1),T(!1),p(!1),v(!1)},P={allOperators:t,handlePrimaryTokenProcessing:function(n){var e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===N||void 0===N?void 0:N.token)},body:U(n)},t=B(n);s("Processing..."),fetch(t,e).then((function(n){return n.json()})).then((function(n){M(),s(""),n.error?s(n.error):(L(n),localStorage.setItem(xt.PROCESSINGTOKEN,JSON.stringify(n)))})).catch((function(n){s(n.toString()),M()}))},isBypassProcessing:j,isCallAgainProcessing:O,isCompletedProcessing:E,isForwardProcessing:S,message:a,processingToken:R,setAllOperators:function(n){o(n)},setIsBypassProcessing:function(n){b(n)},setIsCallAgainProcessing:function(n){p(n)},setIsCompletedProcessing:function(n){T(n)},setIsForwardProcessing:function(n){v(n)},setMessage:function(n){s(n)},setProcessingToken:function(n){L(n)},handleTokenForward:function(n){v(!0),s("Processing...");var e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===N||void 0===N?void 0:N.token)},body:D(n)};fetch("tokencaller/forwardtoken",e).then((function(n){return n.json()})).then((function(n){M(),s(""),n.error?s(n.error):(L(n),localStorage.setItem(xt.PROCESSINGTOKEN,JSON.stringify(n)))})).catch((function(n){s(n.toString()),M()}))}};return Object(f.jsx)("section",{className:"grid-content",children:Object(f.jsx)(Kt,{props:P})})},Wt=b.a.section(Yt||(Yt=Object(u.a)(["\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-size: .9em; \n  width: 100%;\n  \n  @media (min-width:600px) {\n    transform: translate(-20%, 0);\n  }\n  \n  section {\n    padding: .1em;\n    flex: 0 0 auto;\n  }\n\n  section.category {\n    border-left: 2px solid ",";\n    padding-left: .5em;\n    \n    span select {\n        padding: 0;\n        margin: 0;\n        border: none;\n        outline: none;\n        border-bottom :2px solid ",";\n        padding: .3em;\n    }\n  }\n"])),O.darkBlack,O.lightBlack,O.blue),Xt=function(){var n,e=Object(i.useContext)(x),t=Object(i.useContext)(Pt);return Object(f.jsx)("section",{className:"grid-header",children:Object(f.jsxs)(Wt,{children:[Object(f.jsxs)("section",{children:["Counter : ",Object(f.jsx)("span",{className:"counter",children:null===e||void 0===e||null===(n=e.loggedInUser)||void 0===n?void 0:n.counter})]}),Object(f.jsxs)("section",{className:"category",children:[Object(f.jsx)("span",{children:"Category : "}),Object(f.jsx)("span",{className:"form",children:Object(f.jsx)("select",{onChange:function(n){t.setCategory(n.currentTarget.value?n.currentTarget.value:void 0)},value:t.category,children:t.availableCategories.map((function(n){return Object(f.jsxs)("option",{value:n.category?n.category:"",children:[n.category," - ",n.categoryName]},n.category?n.category:"-")}))})})]})]})})};!function(n){n.CATEGORY="operatorCategory"}(_t||(_t={}));var Zt,qt,Qt=function(){var n=Object(i.useContext)(x),e=Object(i.useState)(""),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)([{category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}]),a=Object(d.a)(c,2),s=a[0],l=a[1],u={category:o,setCategory:function(n){var e=void 0===n?"":n;localStorage.setItem(_t.CATEGORY,e),r(n)},availableCategories:s,setAvailableCategories:function(n){l(n)}};return Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}},t=localStorage.getItem(_t.CATEGORY),o=t||void 0;fetch("tokenbase/getalltokencategories",e).then((function(n){return n.json()})).then((function(n){l((function(e){return[].concat(Object(rn.a)(e),Object(rn.a)(n))})),n.find((function(n){return n.category===o}))?r(o):r(void 0)}))}),[null===n||void 0===n?void 0:n.token]),Object(f.jsx)(Pt.Provider,{value:u,children:Object(f.jsxs)(On,{children:[Object(f.jsx)(Xt,{}),Object(f.jsx)(Jt,{})]})})};!function(n){n.CUSTOMERS="Customers",n.TOKENCOUNT="TokenCount",n.HOME="Home"}(Zt||(Zt={})),function(n){n.TODAYSTOKENBASES="TodaysTokenBases",n.ALLTOKENBASES="AllTokenBases"}(qt||(qt={}));var $t,no,eo,to,oo,ro,co,io={category:Zt.CUSTOMERS,setCategory:function(n){},headerCategory:qt.TODAYSTOKENBASES,setHeaderCategory:function(n){}},ao=a.a.createContext(io),so=b.a.div($t||($t=Object(u.a)(["\n    \n    padding: 1em .5em;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    overflow: hidden;\n\n    div.search {\n      margin-top: 1.5em;\n      color: ",";\n      background: ",";\n      display: flex;\n      font-size: 2em;\n      border-radius: 2em;\n      border: 0;\n      cursor: pointer;\n      align-self: flex-end;\n      transition: all .4s;\n      overflow: hidden;\n      justify-content: flex-end;\n      flex: 0 0 1.5em;\n  \n      .search-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex: 0 0 1.5em;\n      }\n  \n  \n      input {\n        border-radius: inherit;\n        background: ",";\n        color: ",";\n        border: 0;\n        outline: none;\n        width: 90%;\n        font-size: .7em;\n        padding-left: .5em;\n  \n        &::placeholder {\n          font-family: Arial, sans-serif;\n          color: ",";\n        }\n      }\n    }\n\n    section.list-container {\n      height: 100%;\n      overflow: scroll;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      flex-wrap: wrap;\n      scrollbar-color: "," ",";\n      scrollbar-width: 5px;\n\n      &::-webkit-scrollbar {\n        width: 7px;\n      }\n    \n      &::-webkit-scrollbar-thumb {\n        background-color: ",";\n        border-radius: 5px;\n      }\n    }\n\n\n    h2{\n      font-size: 1.5em;\n      margin: 0;\n      padding: 0;\n      color: ",";\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n\n      section{\n        sup {\n          font-size: .5em;\n          box-sizing: border-box;\n          height: 2.3em;\n          width: 2.3em;\n          margin-left: .3em;\n          background: ",";\n          color: ",";\n          border-radius: 50%;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          \n        }\n        span.delete{\n          color: red;\n        }\n      }\n\n      span{\n        font-size: 1.5em;\n        cursor: pointer;\n      }\n    }\n  "])),O.white,O.red,O.red,O.white,O.lightBlack,O.red,O.white,O.red,O.blue,O.red,O.white),lo=function(){var n=Object(i.useContext)(x),e=Object(i.useContext)(ao),t=Object(i.useState)([]),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)([]),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(i.useState)(""),b=Object(d.a)(j,2),g=b[0],O=b[1],p=Object(i.useState)(!1),m=Object(d.a)(p,2),y=m[0],S=m[1],v=Object(i.useState)(!1),k=Object(d.a)(v,2),C=k[0],E=k[1];Object(i.useEffect)((function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Berer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/customer",t).then((function(n){return n.json()})).then((function(n){if(n.error)O(n.error.toString());else if(e.headerCategory===qt.TODAYSTOKENBASES){var t=n.filter((function(n){var e=new Date(n.token.date),t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}));c(t.sort((function(n,e){return e.customerId-n.customerId}))),u(t.sort((function(n,e){return e.customerId-n.customerId})))}else c(n.sort((function(n,e){return e.customerId-n.customerId}))),u(n.sort((function(n,e){return e.customerId-n.customerId})))}))}),[null===n||void 0===n?void 0:n.token,e]);var T=function(n){c((function(e){return e.map((function(e){return n.customerId===e.customerId?n:e}))})),u((function(e){return e.map((function(e){return n.customerId===e.customerId?n:e}))}))};return Object(f.jsxs)(so,{children:[Object(f.jsxs)("h2",{children:[Object(f.jsxs)("section",{children:["Customers",Object(f.jsx)("sup",{children:r.length})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)("span",{onClick:function(n){S(!0)},children:Object(f.jsx)(Re.a,{})}),Object(f.jsx)("span",{onClick:function(){E(!0)},className:"delete",children:Object(f.jsx)(q.b,{})})]})]}),r.length?"":g,Object(f.jsxs)("section",{className:"list-container",children:[r.length?"":Object(f.jsx)(h,{}),l.map((function(n){return Object(f.jsx)(Ke,{customer:n,updateCustomerOnUI:T},n.customerId)}))]}),Object(f.jsx)(_e,{handleSearchChange:function(n){var e=r.filter((function(e){return e.customerName.includes(n.currentTarget.value)}));u(e)},placeholderText:"Search By Customer Name"}),Object(f.jsx)($,{modalVisibility:y,resetModalVisibility:function(){return S(!1)},children:Object(f.jsx)(Ve,{updateCustomersList:function(n){c((function(e){return[n].concat(Object(rn.a)(e))})),u((function(e){return[n].concat(Object(rn.a)(e))}))},modalClose:function(){return S(!1)}})}),Object(f.jsx)($,{modalVisibility:C,resetModalVisibility:function(){return E(!1)},children:Object(f.jsx)(en,{body:"This will delete all Customers stored",title:"Delete All Customers?",onConfirm:function(e,t){e(!0);var o={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/customer/delete/allcustomers",o).then((function(n){return n.status})).then((function(n){200===n?(c([]),u([]),E(!1)):t("Error occured with status: ".concat(n))}))},onReject:function(){E(!1)}})})]})},uo=b.a.section(no||(no=Object(u.a)(["\n  margin: .3em;\n  padding: .3em;\n  box-shadow: 3px 3px 3px #ccc;\n  border-radius: .3em;\n  flex: 1 1 auto;\n  color: ",";\n\n  h3{\n    color: ",";\n    border-bottom: 2px solid ",";\n    font-size: 1em;\n    margin: 0;\n  }\n\n  article {\n    padding: .3em;\n\n    p{\n      margin: 0;\n      paddig: 0;\n      font-size: .9em;\n\n      span {\n        font-weight: bold;\n      }\n\n      span.green {\n        color: ",";\n      }\n      span.blue{\n        color: ",";\n      }\n      span.red{\n        color: ",";\n      }\n    }\n  }\n"])),O.darkBlack,O.blue,O.blue,O.green,O.blue,O.red),jo=function(){var n=Object(i.useContext)(x),e=Object(i.useState)([]),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(""),a=Object(d.a)(c,2),s=a[0],l=a[1];return Object(i.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.token)}};fetch("/tokenbase/getalltokencategories",e).then((function(n){return n.json()})).then((function(n){var t=new Date;fetch("tokenbase/filterbydate/".concat(t.toString()),e).then((function(n){return n.json()})).then((function(e){e.error?l("No tokens in tokenbase"):(n.push({category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0}),n.forEach((function(n){var t=e.filter((function(e){return e._token.tokenCategory===n.category})),o=n.categoryName,c=t.length,i=t.filter((function(n){return n._currentStatus===xn.UNPROCESSED})).length,a={name:o,symbol:n.category,totalTokens:c,unprocessed:i};r((function(n){return[a].concat(Object(rn.a)(n))}))})))}))}))}),[n]),Object(f.jsx)(Ae,{children:o.length?o.map((function(n){return Object(f.jsxs)(uo,{children:[Object(f.jsxs)("h3",{children:["Category: ",n.symbol]}),Object(f.jsxs)("article",{children:[Object(f.jsxs)("p",{children:["Name: ",Object(f.jsx)("span",{className:"green",children:n.name})]}),Object(f.jsxs)("p",{children:["Total Tokens: ",Object(f.jsx)("span",{className:"blue",children:n.totalTokens})]}),Object(f.jsxs)("p",{children:["Unprocessed: ",Object(f.jsx)("span",{className:"red",children:n.unprocessed})]})]})]},n.symbol?n.symbol:"-")})):Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:s}),Object(f.jsx)(h,{})]})})},bo=function(){var n=Object(i.useState)([]),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useContext)(x);return Object(i.useEffect)((function(){var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}};fetch("tokenbase/getalltokencategories",n).then((function(n){return n.json()})).then((function(n){var e={category:void 0,categoryName:"Uncategorized",currentTokenCount:0,latestCustomerTokenCount:0};n.unshift(e),o(n)}))}),[r]),Object(f.jsx)(Ae,{children:t.map((function(n){return Object(f.jsx)(at,{categoryInterface:n},n.category?n.category:"-")}))})},fo=function(){var n=Object(i.useContext)(ao);return Object(f.jsxs)("section",{className:"grid-content",children:[n.category===Zt.HOME&&Object(f.jsx)(jo,{}),n.category===Zt.CUSTOMERS&&Object(f.jsx)(lo,{}),n.category===Zt.TOKENCOUNT&&Object(f.jsx)(bo,{})]})},go=function(){var n=Object(i.useContext)(ao),e=function(e){n.setHeaderCategory(e)};return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:n.headerCategory===qt.TODAYSTOKENBASES?"active":"",onClick:function(){e(qt.TODAYSTOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.i,{})})," Today's Customers"]}),Object(f.jsxs)("li",{className:n.headerCategory===qt.ALLTOKENBASES?"active":"",onClick:function(){e(qt.ALLTOKENBASES)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.b,{})})," All Customers"]})]})})},ho=b.a.h2(eo||(eo=Object(u.a)(["\n  color: ",";\n  font-size: 1.3em;\n  padding-left: 1em;\n"])),O.blue),Oo=function(){return Object(f.jsx)(ho,{children:"Today's Statistics"})},po=b.a.h2(to||(to=Object(u.a)(["\n  color: ",";\n  font-size: 1.1em;\n  font-weight: normal;\n\n  .warning{\n    font-size: 2em;\n    vertical-align: bottom;\n  }\n"])),O.red),mo=function(){return Object(f.jsxs)(po,{children:[Object(f.jsx)(je.b,{className:"warning"})," Caution!! Use Setting Functionalities Carefully"]})},xo=b.a.div(oo||(oo=Object(u.a)(["\n  font-size: 1.5em;\n  align-self: center;\n  color: ",";\n  cursor: pointer;\n\n  @media (min-width: 600px) {\n    display: none;\n  }\n\n  ul {\n    margin: 0;\n    padding: .6em 0;\n    list-style-type: none;\n    font-size: .7em;\n    position: absolute;\n    background: ",";\n    border: 1px solid ",";\n    width: 40%;\n    z-index: 100000;\n\n    li {\n      margin: 0;\n      padding: .5em;\n      box-sizing: border-box;\n      cursor: pointer;\n      color: ",";\n      \n      &:hover {\n        font-weight: bold;\n        color: ",";\n      }\n\n      span {\n        color: ",";\n        padding: .5em .3em;\n      }\n    }\n\n    li.active {\n      background: ",";\n      border-left: 5px solid ",";\n      color: ",";\n    }\n\n"])),O.red,O.white,O.lightBlack,O.darkBlack,O.green,O.darkBlack,O.lightBlack,O.darkBlack,O.white),yo=function(){var n=Object(i.useContext)(ao),e=Object(i.useState)(Object(f.jsx)(f.Fragment,{})),t=Object(d.a)(e,2),o=t[0],r=t[1],c=Object(i.useState)(Zt.CUSTOMERS),a=Object(d.a)(c,2),s=a[0],l=a[1],u=Object(i.useState)(!1),b=Object(d.a)(u,2),g=b[0],h=b[1];Object(i.useEffect)((function(){l(n.category?n.category:Zt.HOME),h(!1),n.category===Zt.HOME?r(Object(f.jsx)(Oo,{})):n.category===Zt.CUSTOMERS?r(Object(f.jsx)(go,{})):n.category===Zt.TOKENCOUNT?r(Object(f.jsx)(mo,{})):r(Object(f.jsx)(f.Fragment,{}))}),[n]);var O=function(e){l(e),n.setCategory(e)};return Object(f.jsxs)("section",{className:"grid-header",children:[Object(f.jsxs)(xo,{children:[Object(f.jsx)(je.a,{onClick:function(){h((function(n){return!n}))}}),g&&Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:s===Zt.HOME?"active":"",onClick:function(){return O(Zt.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})}),"Home"]}),Object(f.jsxs)("li",{className:s===Zt.CUSTOMERS?"active":"",onClick:function(){return O(Zt.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})})," Customers"]}),Object(f.jsxs)("li",{className:s===Zt.TOKENCOUNT?"active":"",onClick:function(){return O(Zt.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.a,{})}),"TokenCount"]})]})]}),o]})},So=function(){var n=Object(i.useContext)(ao),e=function(e){n.setCategory(e)};return Object(f.jsx)("nav",{className:"grid-sidebar",children:Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:n.category===Zt.HOME?"active":"",onClick:function(){e(Zt.HOME)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(m.b,{})}),"Home"]}),Object(f.jsxs)("li",{className:n.category===Zt.CUSTOMERS?"active":"",onClick:function(){e(Zt.CUSTOMERS)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(j.c,{})}),"Customers"]}),Object(f.jsxs)("li",{className:n.category===Zt.TOKENCOUNT?"active":"",onClick:function(){e(Zt.TOKENCOUNT)},children:[Object(f.jsx)("span",{children:Object(f.jsx)(fe.a,{})}),"TokenCount"]})]})})},vo=function(){var n=Object(i.useState)(Zt.HOME),e=Object(d.a)(n,2),t=e[0],o=e[1],r=Object(i.useState)(qt.TODAYSTOKENBASES),c=Object(d.a)(r,2),a=c[0],s=c[1],l={category:t,setCategory:function(n){o(n)},headerCategory:a,setHeaderCategory:function(n){s(n)}};return Object(f.jsx)(ao.Provider,{value:l,children:Object(f.jsxs)(On,{children:[Object(f.jsx)(yo,{}),Object(f.jsx)(fo,{}),Object(f.jsx)(So,{})]})})},ko=function(){var n,e,t,o,r=Object(i.useContext)(x),c=(null===r||void 0===r||null===(n=r.loggedInUser)||void 0===n?void 0:n.role)===G.SUPERADMIN,a=(null===r||void 0===r||null===(e=r.loggedInUser)||void 0===e?void 0:e.role)===G.ADMIN,s=(null===r||void 0===r||null===(t=r.loggedInUser)||void 0===t?void 0:t.role)===G.REGISTRATOR,l=(null===r||void 0===r||null===(o=r.loggedInUser)||void 0===o?void 0:o.role)===G.OPERATOR;return Object(f.jsxs)(f.Fragment,{children:[(null===r||void 0===r?void 0:r.loggedInUser)&&Object(f.jsx)(on,{}),c?Object(f.jsx)(gn,{userType:G.ADMIN}):Object(f.jsx)(f.Fragment,{}),a?Object(f.jsx)(Bt,{}):Object(f.jsx)(f.Fragment,{}),s?Object(f.jsx)(vo,{}):Object(f.jsx)(f.Fragment,{}),l?Object(f.jsx)(Qt,{}):Object(f.jsx)(f.Fragment,{})]})},Co=b.a.div(ro||(ro=Object(u.a)(["\n    font-family: Arial, sans-serif;\n    height: 90vh;\n    width: 90vw;\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: ","\n    font-size: 100px;\n    margin: 2em auto 0;\n"])),O.white,O.red),Eo={connectionError:!1,isLoggedIn:!1,pageLoading:!0,superAdminExistance:!1,token:"",user:null};!function(n){n.SETSUPERADMINEXISTANCE="SetSuperAdminExistance",n.SETPAGELOADING="SetPageLoading",n.SETCONNECTIONERROR="setConnectionError",n.SETISLOGGEDIN="setIsLoggedIn",n.SETUSER="setUser",n.SETTOKEN="setToken"}(co||(co={}));var To=function(n,e){switch(e.type){case co.SETCONNECTIONERROR:return Object(y.a)(Object(y.a)({},n),{},{connectionError:e.payLoad});case co.SETISLOGGEDIN:return Object(y.a)(Object(y.a)({},n),{},{isLoggedIn:e.payLoad});case co.SETPAGELOADING:return Object(y.a)(Object(y.a)({},n),{},{pageLoading:e.payLoad});case co.SETSUPERADMINEXISTANCE:return Object(y.a)(Object(y.a)({},n),{},{superAdminExistance:e.payLoad});case co.SETUSER:return Object(y.a)(Object(y.a)({},n),{},{user:e.payLoad&&"id"in e.payLoad?e.payLoad:null});case co.SETTOKEN:return Object(y.a)(Object(y.a)({},n),{},{token:"string"===typeof e.payLoad?e.payLoad:""});default:return n}},No=function(n){document.body.style.margin="0px",document.body.style.padding="0px",fetch("/users/superAdmin").then((function(n){return n.json()})).then((function(e){n({type:co.SETPAGELOADING,payLoad:!1}),0===e.length?n({type:co.SETSUPERADMINEXISTANCE,payLoad:!1}):n({type:co.SETSUPERADMINEXISTANCE,payLoad:!0})})).catch((function(e){n({type:co.SETPAGELOADING,payLoad:!1}),n({type:co.SETCONNECTIONERROR,payLoad:!0})}))},Ao=function(n){var e=document.cookie.split("="),t=Object(d.a)(e,2)[1],o={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}};fetch("/users/currentprofile",o).then((function(n){return n.json()})).then((function(e){if(e.error)n({type:co.SETISLOGGEDIN,payLoad:!1}),n({type:co.SETUSER,payLoad:null});else{var o=e._userInfo;n({type:co.SETUSER,payLoad:o}),n({type:co.SETTOKEN,payLoad:t}),n({type:co.SETISLOGGEDIN,payLoad:!0})}}))},wo=function(){var n=Object(i.useReducer)(To,Eo),e=Object(d.a)(n,2),t=e[0],o=e[1];Object(i.useEffect)((function(){!function(n){No(n),Ao(n)}(o)}),[]);var r={loggedInUser:t.user,setLoggedInUser:function(n){o({type:co.SETUSER,payLoad:n})},token:t.token,setToken:function(n){o({type:co.SETTOKEN,payLoad:n})}};return t.connectionError?Object(f.jsx)(Co,{children:"Connection Error..."}):t.pageLoading?Object(f.jsx)(Co,{children:Object(f.jsx)("div",{className:"spinner",children:Object(f.jsx)(h,{})})}):t.superAdminExistance?t.isLoggedIn?Object(f.jsx)(Co,{children:Object(f.jsx)(x.Provider,{value:r,children:Object(f.jsx)(ko,{})})}):Object(f.jsx)(Co,{children:Object(f.jsx)(x.Provider,{value:r,children:Object(f.jsx)(E,{setLoggedIn:function(){o({type:co.SETISLOGGEDIN,payLoad:!0})}})})}):Object(f.jsx)(Co,{children:Object(f.jsx)(X,{userType:G.SUPERADMIN})})},Io=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,67)).then((function(e){var t=e.getCLS,o=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),o(n),r(n),c(n),i(n)}))};l.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(wo,{})}),document.getElementById("root")),Io()}},[[66,1,2]]]);
//# sourceMappingURL=main.c4f85828.chunk.js.map